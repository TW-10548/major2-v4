function Ap(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Fp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ku={exports:{}},al={},Su={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rs=Symbol.for("react.element"),$p=Symbol.for("react.portal"),Ip=Symbol.for("react.fragment"),Up=Symbol.for("react.strict_mode"),zp=Symbol.for("react.profiler"),Wp=Symbol.for("react.provider"),Bp=Symbol.for("react.context"),Hp=Symbol.for("react.forward_ref"),qp=Symbol.for("react.suspense"),Vp=Symbol.for("react.memo"),Yp=Symbol.for("react.lazy"),$d=Symbol.iterator;function Qp(e){return e===null||typeof e!="object"?null:(e=$d&&e[$d]||e["@@iterator"],typeof e=="function"?e:null)}var Cu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Eu=Object.assign,Du={};function Sr(e,t,n){this.props=e,this.context=t,this.refs=Du,this.updater=n||Cu}Sr.prototype.isReactComponent={};Sr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mu(){}Mu.prototype=Sr.prototype;function _o(e,t,n){this.props=e,this.context=t,this.refs=Du,this.updater=n||Cu}var ko=_o.prototype=new Mu;ko.constructor=_o;Eu(ko,Sr.prototype);ko.isPureReactComponent=!0;var Id=Array.isArray,Tu=Object.prototype.hasOwnProperty,So={current:null},Ru={key:!0,ref:!0,__self:!0,__source:!0};function Ou(e,t,n){var s,a={},l=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)Tu.call(t,s)&&!Ru.hasOwnProperty(s)&&(a[s]=t[s]);var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){for(var d=Array(o),c=0;c<o;c++)d[c]=arguments[c+2];a.children=d}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)a[s]===void 0&&(a[s]=o[s]);return{$$typeof:Rs,type:e,key:l,ref:i,props:a,_owner:So.current}}function Kp(e,t){return{$$typeof:Rs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Co(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rs}function Xp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ud=/\/+/g;function Al(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xp(""+e.key):t.toString(36)}function ca(e,t,n,s,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Rs:case $p:i=!0}}if(i)return i=e,a=a(i),e=s===""?"."+Al(i,0):s,Id(a)?(n="",e!=null&&(n=e.replace(Ud,"$&/")+"/"),ca(a,t,n,"",function(c){return c})):a!=null&&(Co(a)&&(a=Kp(a,n+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Ud,"$&/")+"/")+e)),t.push(a)),1;if(i=0,s=s===""?".":s+":",Id(e))for(var o=0;o<e.length;o++){l=e[o];var d=s+Al(l,o);i+=ca(l,t,n,d,a)}else if(d=Qp(e),typeof d=="function")for(e=d.call(e),o=0;!(l=e.next()).done;)l=l.value,d=s+Al(l,o++),i+=ca(l,t,n,d,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Hs(e,t,n){if(e==null)return e;var s=[],a=0;return ca(e,s,"","",function(l){return t.call(n,l,a++)}),s}function Gp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},ua={transition:null},Jp={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:ua,ReactCurrentOwner:So};function Pu(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Hs,forEach:function(e,t,n){Hs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hs(e,function(){t++}),t},toArray:function(e){return Hs(e,function(t){return t})||[]},only:function(e){if(!Co(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Sr;le.Fragment=Ip;le.Profiler=zp;le.PureComponent=_o;le.StrictMode=Up;le.Suspense=qp;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jp;le.act=Pu;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Eu({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=So.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(d in t)Tu.call(t,d)&&!Ru.hasOwnProperty(d)&&(s[d]=t[d]===void 0&&o!==void 0?o[d]:t[d])}var d=arguments.length-2;if(d===1)s.children=n;else if(1<d){o=Array(d);for(var c=0;c<d;c++)o[c]=arguments[c+2];s.children=o}return{$$typeof:Rs,type:e.type,key:a,ref:l,props:s,_owner:i}};le.createContext=function(e){return e={$$typeof:Bp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Wp,_context:e},e.Consumer=e};le.createElement=Ou;le.createFactory=function(e){var t=Ou.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:Hp,render:e}};le.isValidElement=Co;le.lazy=function(e){return{$$typeof:Yp,_payload:{_status:-1,_result:e},_init:Gp}};le.memo=function(e,t){return{$$typeof:Vp,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=ua.transition;ua.transition={};try{e()}finally{ua.transition=t}};le.unstable_act=Pu;le.useCallback=function(e,t){return nt.current.useCallback(e,t)};le.useContext=function(e){return nt.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};le.useEffect=function(e,t){return nt.current.useEffect(e,t)};le.useId=function(){return nt.current.useId()};le.useImperativeHandle=function(e,t,n){return nt.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return nt.current.useMemo(e,t)};le.useReducer=function(e,t,n){return nt.current.useReducer(e,t,n)};le.useRef=function(e){return nt.current.useRef(e)};le.useState=function(e){return nt.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return nt.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return nt.current.useTransition()};le.version="18.3.1";Su.exports=le;var y=Su.exports;const Eo=Fp(y),Zp=Ap({__proto__:null,default:Eo},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh=y,th=Symbol.for("react.element"),nh=Symbol.for("react.fragment"),rh=Object.prototype.hasOwnProperty,sh=eh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ah={key:!0,ref:!0,__self:!0,__source:!0};function Lu(e,t,n){var s,a={},l=null,i=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)rh.call(t,s)&&!ah.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:th,type:e,key:l,ref:i,props:a,_owner:sh.current}}al.Fragment=nh;al.jsx=Lu;al.jsxs=Lu;ku.exports=al;var r=ku.exports,gi={},Au={exports:{}},xt={},Fu={exports:{}},$u={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,I){var J=T.length;T.push(I);e:for(;0<J;){var W=J-1>>>1,Z=T[W];if(0<a(Z,I))T[W]=I,T[J]=Z,J=W;else break e}}function n(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var I=T[0],J=T.pop();if(J!==I){T[0]=J;e:for(var W=0,Z=T.length,Re=Z>>>1;W<Re;){var pe=2*(W+1)-1,We=T[pe],C=pe+1,V=T[C];if(0>a(We,J))C<Z&&0>a(V,We)?(T[W]=V,T[C]=J,W=C):(T[W]=We,T[pe]=J,W=pe);else if(C<Z&&0>a(V,J))T[W]=V,T[C]=J,W=C;else break e}}return I}function a(T,I){var J=T.sortIndex-I.sortIndex;return J!==0?J:T.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var d=[],c=[],p=1,u=null,g=3,b=!1,m=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(T){for(var I=n(c);I!==null;){if(I.callback===null)s(c);else if(I.startTime<=T)s(c),I.sortIndex=I.expirationTime,t(d,I);else break;I=n(c)}}function w(T){if(j=!1,x(T),!m)if(n(d)!==null)m=!0,_(N);else{var I=n(c);I!==null&&A(w,I.startTime-T)}}function N(T,I){m=!1,j&&(j=!1,h(k),k=-1),b=!0;var J=g;try{for(x(I),u=n(d);u!==null&&(!(u.expirationTime>I)||T&&!F());){var W=u.callback;if(typeof W=="function"){u.callback=null,g=u.priorityLevel;var Z=W(u.expirationTime<=I);I=e.unstable_now(),typeof Z=="function"?u.callback=Z:u===n(d)&&s(d),x(I)}else s(d);u=n(d)}if(u!==null)var Re=!0;else{var pe=n(c);pe!==null&&A(w,pe.startTime-I),Re=!1}return Re}finally{u=null,g=J,b=!1}}var E=!1,v=null,k=-1,R=5,O=-1;function F(){return!(e.unstable_now()-O<R)}function Q(){if(v!==null){var T=e.unstable_now();O=T;var I=!0;try{I=v(!0,T)}finally{I?M():(E=!1,v=null)}}else E=!1}var M;if(typeof f=="function")M=function(){f(Q)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,K=U.port2;U.port1.onmessage=Q,M=function(){K.postMessage(null)}}else M=function(){S(Q,0)};function _(T){v=T,E||(E=!0,M())}function A(T,I){k=S(function(){T(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){m||b||(m=!0,_(N))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(T){switch(g){case 1:case 2:case 3:var I=3;break;default:I=g}var J=g;g=I;try{return T()}finally{g=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var J=g;g=T;try{return I()}finally{g=J}},e.unstable_scheduleCallback=function(T,I,J){var W=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?W+J:W):J=W,T){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=J+Z,T={id:p++,callback:I,priorityLevel:T,startTime:J,expirationTime:Z,sortIndex:-1},J>W?(T.sortIndex=J,t(c,T),n(d)===null&&T===n(c)&&(j?(h(k),k=-1):j=!0,A(w,J-W))):(T.sortIndex=Z,t(d,T),m||b||(m=!0,_(N))),T},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(T){var I=g;return function(){var J=g;g=I;try{return T.apply(this,arguments)}finally{g=J}}}})($u);Fu.exports=$u;var lh=Fu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih=y,ht=lh;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Iu=new Set,ds={};function Yn(e,t){gr(e,t),gr(e+"Capture",t)}function gr(e,t){for(ds[e]=t,e=0;e<t.length;e++)Iu.add(t[e])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yi=Object.prototype.hasOwnProperty,oh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zd={},Wd={};function dh(e){return yi.call(Wd,e)?!0:yi.call(zd,e)?!1:oh.test(e)?Wd[e]=!0:(zd[e]=!0,!1)}function ch(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uh(e,t,n,s){if(t===null||typeof t>"u"||ch(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,n,s,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Do=/[\-:]([a-z])/g;function Mo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Do,Mo);Qe[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Do,Mo);Qe[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Do,Mo);Qe[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function To(e,t,n,s){var a=Qe.hasOwnProperty(t)?Qe[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uh(t,n,a,s)&&(n=null),s||a===null?dh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Zt=ih.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qs=Symbol.for("react.element"),Zn=Symbol.for("react.portal"),er=Symbol.for("react.fragment"),Ro=Symbol.for("react.strict_mode"),vi=Symbol.for("react.profiler"),Uu=Symbol.for("react.provider"),zu=Symbol.for("react.context"),Oo=Symbol.for("react.forward_ref"),bi=Symbol.for("react.suspense"),ji=Symbol.for("react.suspense_list"),Po=Symbol.for("react.memo"),rn=Symbol.for("react.lazy"),Wu=Symbol.for("react.offscreen"),Bd=Symbol.iterator;function $r(e){return e===null||typeof e!="object"?null:(e=Bd&&e[Bd]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Object.assign,Fl;function Xr(e){if(Fl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fl=t&&t[1]||""}return`
`+Fl+e}var $l=!1;function Il(e,t){if(!e||$l)return"";$l=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),l=s.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var d=`
`+a[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=o);break}}}finally{$l=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xr(e):""}function fh(e){switch(e.tag){case 5:return Xr(e.type);case 16:return Xr("Lazy");case 13:return Xr("Suspense");case 19:return Xr("SuspenseList");case 0:case 2:case 15:return e=Il(e.type,!1),e;case 11:return e=Il(e.type.render,!1),e;case 1:return e=Il(e.type,!0),e;default:return""}}function wi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case er:return"Fragment";case Zn:return"Portal";case vi:return"Profiler";case Ro:return"StrictMode";case bi:return"Suspense";case ji:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zu:return(e.displayName||"Context")+".Consumer";case Uu:return(e._context.displayName||"Context")+".Provider";case Oo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Po:return t=e.displayName||null,t!==null?t:wi(e.type)||"Memo";case rn:t=e._payload,e=e._init;try{return wi(e(t))}catch{}}return null}function mh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wi(t);case 8:return t===Ro?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ph(e){var t=Bu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){s=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vs(e){e._valueTracker||(e._valueTracker=ph(e))}function Hu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Bu(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Ca(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ni(e,t){var n=t.checked;return Te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Hd(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=bn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qu(e,t){t=t.checked,t!=null&&To(e,"checked",t,!1)}function _i(e,t){qu(e,t);var n=bn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ki(e,t.type,n):t.hasOwnProperty("defaultValue")&&ki(e,t.type,bn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ki(e,t,n){(t!=="number"||Ca(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gr=Array.isArray;function ur(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+bn(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Si(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(Gr(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:bn(n)}}function Vu(e,t){var n=bn(t.value),s=bn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Yd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ci(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ys,Qu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ys=Ys||document.createElement("div"),Ys.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ys.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hh=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(e){hh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),es[t]=es[e]})});function Ku(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||es.hasOwnProperty(e)&&es[e]?(""+t).trim():t+"px"}function Xu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=Ku(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var xh=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ei(e,t){if(t){if(xh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Di(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mi=null;function Lo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,fr=null,mr=null;function Qd(e){if(e=Ls(e)){if(typeof Ti!="function")throw Error(L(280));var t=e.stateNode;t&&(t=cl(t),Ti(e.stateNode,e.type,t))}}function Gu(e){fr?mr?mr.push(e):mr=[e]:fr=e}function Ju(){if(fr){var e=fr,t=mr;if(mr=fr=null,Qd(e),t)for(e=0;e<t.length;e++)Qd(t[e])}}function Zu(e,t){return e(t)}function ef(){}var Ul=!1;function tf(e,t,n){if(Ul)return e(t,n);Ul=!0;try{return Zu(e,t,n)}finally{Ul=!1,(fr!==null||mr!==null)&&(ef(),Ju())}}function us(e,t){var n=e.stateNode;if(n===null)return null;var s=cl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Ri=!1;if(Kt)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){Ri=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{Ri=!1}function gh(e,t,n,s,a,l,i,o,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(p){this.onError(p)}}var ts=!1,Ea=null,Da=!1,Oi=null,yh={onError:function(e){ts=!0,Ea=e}};function vh(e,t,n,s,a,l,i,o,d){ts=!1,Ea=null,gh.apply(yh,arguments)}function bh(e,t,n,s,a,l,i,o,d){if(vh.apply(this,arguments),ts){if(ts){var c=Ea;ts=!1,Ea=null}else throw Error(L(198));Da||(Da=!0,Oi=c)}}function Qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kd(e){if(Qn(e)!==e)throw Error(L(188))}function jh(e){var t=e.alternate;if(!t){if(t=Qn(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return Kd(a),e;if(l===s)return Kd(a),t;l=l.sibling}throw Error(L(188))}if(n.return!==s.return)n=a,s=l;else{for(var i=!1,o=a.child;o;){if(o===n){i=!0,n=a,s=l;break}if(o===s){i=!0,s=a,n=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===n){i=!0,n=l,s=a;break}if(o===s){i=!0,s=l,n=a;break}o=o.sibling}if(!i)throw Error(L(189))}}if(n.alternate!==s)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function rf(e){return e=jh(e),e!==null?sf(e):null}function sf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sf(e);if(t!==null)return t;e=e.sibling}return null}var af=ht.unstable_scheduleCallback,Xd=ht.unstable_cancelCallback,wh=ht.unstable_shouldYield,Nh=ht.unstable_requestPaint,Ae=ht.unstable_now,_h=ht.unstable_getCurrentPriorityLevel,Ao=ht.unstable_ImmediatePriority,lf=ht.unstable_UserBlockingPriority,Ma=ht.unstable_NormalPriority,kh=ht.unstable_LowPriority,of=ht.unstable_IdlePriority,ll=null,zt=null;function Sh(e){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(ll,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Dh,Ch=Math.log,Eh=Math.LN2;function Dh(e){return e>>>=0,e===0?32:31-(Ch(e)/Eh|0)|0}var Qs=64,Ks=4194304;function Jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ta(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,l=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~a;o!==0?s=Jr(o):(l&=i,l!==0&&(s=Jr(l)))}else i=n&~a,i!==0?s=Jr(i):l!==0&&(s=Jr(l));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Dt(t),a=1<<n,s|=e[n],t&=~a;return s}function Mh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Th(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Dt(l),o=1<<i,d=a[i];d===-1?(!(o&n)||o&s)&&(a[i]=Mh(o,t)):d<=t&&(e.expiredLanes|=o),l&=~o}}function Pi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function df(){var e=Qs;return Qs<<=1,!(Qs&4194240)&&(Qs=64),e}function zl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Os(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=n}function Rh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Dt(n),l=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~l}}function Fo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Dt(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var ve=0;function cf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uf,$o,ff,mf,pf,Li=!1,Xs=[],un=null,fn=null,mn=null,fs=new Map,ms=new Map,an=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gd(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(t.pointerId)}}function Ur(e,t,n,s,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:l,targetContainers:[a]},t!==null&&(t=Ls(t),t!==null&&$o(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Ph(e,t,n,s,a){switch(t){case"focusin":return un=Ur(un,e,t,n,s,a),!0;case"dragenter":return fn=Ur(fn,e,t,n,s,a),!0;case"mouseover":return mn=Ur(mn,e,t,n,s,a),!0;case"pointerover":var l=a.pointerId;return fs.set(l,Ur(fs.get(l)||null,e,t,n,s,a)),!0;case"gotpointercapture":return l=a.pointerId,ms.set(l,Ur(ms.get(l)||null,e,t,n,s,a)),!0}return!1}function hf(e){var t=Tn(e.target);if(t!==null){var n=Qn(t);if(n!==null){if(t=n.tag,t===13){if(t=nf(n),t!==null){e.blockedOn=t,pf(e.priority,function(){ff(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ai(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Mi=s,n.target.dispatchEvent(s),Mi=null}else return t=Ls(n),t!==null&&$o(t),e.blockedOn=n,!1;t.shift()}return!0}function Jd(e,t,n){fa(e)&&n.delete(t)}function Lh(){Li=!1,un!==null&&fa(un)&&(un=null),fn!==null&&fa(fn)&&(fn=null),mn!==null&&fa(mn)&&(mn=null),fs.forEach(Jd),ms.forEach(Jd)}function zr(e,t){e.blockedOn===t&&(e.blockedOn=null,Li||(Li=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,Lh)))}function ps(e){function t(a){return zr(a,e)}if(0<Xs.length){zr(Xs[0],e);for(var n=1;n<Xs.length;n++){var s=Xs[n];s.blockedOn===e&&(s.blockedOn=null)}}for(un!==null&&zr(un,e),fn!==null&&zr(fn,e),mn!==null&&zr(mn,e),fs.forEach(t),ms.forEach(t),n=0;n<an.length;n++)s=an[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<an.length&&(n=an[0],n.blockedOn===null);)hf(n),n.blockedOn===null&&an.shift()}var pr=Zt.ReactCurrentBatchConfig,Ra=!0;function Ah(e,t,n,s){var a=ve,l=pr.transition;pr.transition=null;try{ve=1,Io(e,t,n,s)}finally{ve=a,pr.transition=l}}function Fh(e,t,n,s){var a=ve,l=pr.transition;pr.transition=null;try{ve=4,Io(e,t,n,s)}finally{ve=a,pr.transition=l}}function Io(e,t,n,s){if(Ra){var a=Ai(e,t,n,s);if(a===null)Gl(e,t,s,Oa,n),Gd(e,s);else if(Ph(a,e,t,n,s))s.stopPropagation();else if(Gd(e,s),t&4&&-1<Oh.indexOf(e)){for(;a!==null;){var l=Ls(a);if(l!==null&&uf(l),l=Ai(e,t,n,s),l===null&&Gl(e,t,s,Oa,n),l===a)break;a=l}a!==null&&s.stopPropagation()}else Gl(e,t,s,null,n)}}var Oa=null;function Ai(e,t,n,s){if(Oa=null,e=Lo(s),e=Tn(e),e!==null)if(t=Qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oa=e,null}function xf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_h()){case Ao:return 1;case lf:return 4;case Ma:case kh:return 16;case of:return 536870912;default:return 16}default:return 16}}var on=null,Uo=null,ma=null;function gf(){if(ma)return ma;var e,t=Uo,n=t.length,s,a="value"in on?on.value:on.textContent,l=a.length;for(e=0;e<n&&t[e]===a[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===a[l-s];s++);return ma=a.slice(e,1<s?1-s:void 0)}function pa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gs(){return!0}function Zd(){return!1}function gt(e){function t(n,s,a,l,i){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Gs:Zd,this.isPropagationStopped=Zd,this}return Te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),t}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zo=gt(Cr),Ps=Te({},Cr,{view:0,detail:0}),$h=gt(Ps),Wl,Bl,Wr,il=Te({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wr&&(Wr&&e.type==="mousemove"?(Wl=e.screenX-Wr.screenX,Bl=e.screenY-Wr.screenY):Bl=Wl=0,Wr=e),Wl)},movementY:function(e){return"movementY"in e?e.movementY:Bl}}),ec=gt(il),Ih=Te({},il,{dataTransfer:0}),Uh=gt(Ih),zh=Te({},Ps,{relatedTarget:0}),Hl=gt(zh),Wh=Te({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Bh=gt(Wh),Hh=Te({},Cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qh=gt(Hh),Vh=Te({},Cr,{data:0}),tc=gt(Vh),Yh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kh[e])?!!t[e]:!1}function Wo(){return Xh}var Gh=Te({},Ps,{key:function(e){if(e.key){var t=Yh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wo,charCode:function(e){return e.type==="keypress"?pa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jh=gt(Gh),Zh=Te({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nc=gt(Zh),ex=Te({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wo}),tx=gt(ex),nx=Te({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rx=gt(nx),sx=Te({},il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ax=gt(sx),lx=[9,13,27,32],Bo=Kt&&"CompositionEvent"in window,ns=null;Kt&&"documentMode"in document&&(ns=document.documentMode);var ix=Kt&&"TextEvent"in window&&!ns,yf=Kt&&(!Bo||ns&&8<ns&&11>=ns),rc=" ",sc=!1;function vf(e,t){switch(e){case"keyup":return lx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tr=!1;function ox(e,t){switch(e){case"compositionend":return bf(t);case"keypress":return t.which!==32?null:(sc=!0,rc);case"textInput":return e=t.data,e===rc&&sc?null:e;default:return null}}function dx(e,t){if(tr)return e==="compositionend"||!Bo&&vf(e,t)?(e=gf(),ma=Uo=on=null,tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yf&&t.locale!=="ko"?null:t.data;default:return null}}var cx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cx[e.type]:t==="textarea"}function jf(e,t,n,s){Gu(s),t=Pa(t,"onChange"),0<t.length&&(n=new zo("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var rs=null,hs=null;function ux(e){Rf(e,0)}function ol(e){var t=sr(e);if(Hu(t))return e}function fx(e,t){if(e==="change")return t}var wf=!1;if(Kt){var ql;if(Kt){var Vl="oninput"in document;if(!Vl){var lc=document.createElement("div");lc.setAttribute("oninput","return;"),Vl=typeof lc.oninput=="function"}ql=Vl}else ql=!1;wf=ql&&(!document.documentMode||9<document.documentMode)}function ic(){rs&&(rs.detachEvent("onpropertychange",Nf),hs=rs=null)}function Nf(e){if(e.propertyName==="value"&&ol(hs)){var t=[];jf(t,hs,e,Lo(e)),tf(ux,t)}}function mx(e,t,n){e==="focusin"?(ic(),rs=t,hs=n,rs.attachEvent("onpropertychange",Nf)):e==="focusout"&&ic()}function px(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ol(hs)}function hx(e,t){if(e==="click")return ol(t)}function xx(e,t){if(e==="input"||e==="change")return ol(t)}function gx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:gx;function xs(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!yi.call(t,a)||!Tt(e[a],t[a]))return!1}return!0}function oc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dc(e,t){var n=oc(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=oc(n)}}function _f(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_f(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kf(){for(var e=window,t=Ca();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ca(e.document)}return t}function Ho(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yx(e){var t=kf(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_f(n.ownerDocument.documentElement,n)){if(s!==null&&Ho(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,l=Math.min(s.start,a);s=s.end===void 0?l:Math.min(s.end,a),!e.extend&&l>s&&(a=s,s=l,l=a),a=dc(n,l);var i=dc(n,s);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vx=Kt&&"documentMode"in document&&11>=document.documentMode,nr=null,Fi=null,ss=null,$i=!1;function cc(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$i||nr==null||nr!==Ca(s)||(s=nr,"selectionStart"in s&&Ho(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ss&&xs(ss,s)||(ss=s,s=Pa(Fi,"onSelect"),0<s.length&&(t=new zo("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=nr)))}function Js(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var rr={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionend:Js("Transition","TransitionEnd")},Yl={},Sf={};Kt&&(Sf=document.createElement("div").style,"AnimationEvent"in window||(delete rr.animationend.animation,delete rr.animationiteration.animation,delete rr.animationstart.animation),"TransitionEvent"in window||delete rr.transitionend.transition);function dl(e){if(Yl[e])return Yl[e];if(!rr[e])return e;var t=rr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Sf)return Yl[e]=t[n];return e}var Cf=dl("animationend"),Ef=dl("animationiteration"),Df=dl("animationstart"),Mf=dl("transitionend"),Tf=new Map,uc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,t){Tf.set(e,t),Yn(t,[e])}for(var Ql=0;Ql<uc.length;Ql++){var Kl=uc[Ql],bx=Kl.toLowerCase(),jx=Kl[0].toUpperCase()+Kl.slice(1);wn(bx,"on"+jx)}wn(Cf,"onAnimationEnd");wn(Ef,"onAnimationIteration");wn(Df,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(Mf,"onTransitionEnd");gr("onMouseEnter",["mouseout","mouseover"]);gr("onMouseLeave",["mouseout","mouseover"]);gr("onPointerEnter",["pointerout","pointerover"]);gr("onPointerLeave",["pointerout","pointerover"]);Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zr));function fc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,bh(s,t,void 0,e),e.currentTarget=null}function Rf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],d=o.instance,c=o.currentTarget;if(o=o.listener,d!==l&&a.isPropagationStopped())break e;fc(a,o,c),l=d}else for(i=0;i<s.length;i++){if(o=s[i],d=o.instance,c=o.currentTarget,o=o.listener,d!==l&&a.isPropagationStopped())break e;fc(a,o,c),l=d}}}if(Da)throw e=Oi,Da=!1,Oi=null,e}function _e(e,t){var n=t[Bi];n===void 0&&(n=t[Bi]=new Set);var s=e+"__bubble";n.has(s)||(Of(t,e,2,!1),n.add(s))}function Xl(e,t,n){var s=0;t&&(s|=4),Of(n,e,s,t)}var Zs="_reactListening"+Math.random().toString(36).slice(2);function gs(e){if(!e[Zs]){e[Zs]=!0,Iu.forEach(function(n){n!=="selectionchange"&&(wx.has(n)||Xl(n,!1,e),Xl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zs]||(t[Zs]=!0,Xl("selectionchange",!1,t))}}function Of(e,t,n,s){switch(xf(t)){case 1:var a=Ah;break;case 4:a=Fh;break;default:a=Io}n=a.bind(null,t,n,e),a=void 0,!Ri||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Gl(e,t,n,s,a){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=s.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;i=i.return}for(;o!==null;){if(i=Tn(o),i===null)return;if(d=i.tag,d===5||d===6){s=l=i;continue e}o=o.parentNode}}s=s.return}tf(function(){var c=l,p=Lo(n),u=[];e:{var g=Tf.get(e);if(g!==void 0){var b=zo,m=e;switch(e){case"keypress":if(pa(n)===0)break e;case"keydown":case"keyup":b=Jh;break;case"focusin":m="focus",b=Hl;break;case"focusout":m="blur",b=Hl;break;case"beforeblur":case"afterblur":b=Hl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=tx;break;case Cf:case Ef:case Df:b=Bh;break;case Mf:b=rx;break;case"scroll":b=$h;break;case"wheel":b=ax;break;case"copy":case"cut":case"paste":b=qh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=nc}var j=(t&4)!==0,S=!j&&e==="scroll",h=j?g!==null?g+"Capture":null:g;j=[];for(var f=c,x;f!==null;){x=f;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,h!==null&&(w=us(f,h),w!=null&&j.push(ys(f,w,x)))),S)break;f=f.return}0<j.length&&(g=new b(g,m,null,n,p),u.push({event:g,listeners:j}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",g&&n!==Mi&&(m=n.relatedTarget||n.fromElement)&&(Tn(m)||m[Xt]))break e;if((b||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,b?(m=n.relatedTarget||n.toElement,b=c,m=m?Tn(m):null,m!==null&&(S=Qn(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(b=null,m=c),b!==m)){if(j=ec,w="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(j=nc,w="onPointerLeave",h="onPointerEnter",f="pointer"),S=b==null?g:sr(b),x=m==null?g:sr(m),g=new j(w,f+"leave",b,n,p),g.target=S,g.relatedTarget=x,w=null,Tn(p)===c&&(j=new j(h,f+"enter",m,n,p),j.target=x,j.relatedTarget=S,w=j),S=w,b&&m)t:{for(j=b,h=m,f=0,x=j;x;x=Gn(x))f++;for(x=0,w=h;w;w=Gn(w))x++;for(;0<f-x;)j=Gn(j),f--;for(;0<x-f;)h=Gn(h),x--;for(;f--;){if(j===h||h!==null&&j===h.alternate)break t;j=Gn(j),h=Gn(h)}j=null}else j=null;b!==null&&mc(u,g,b,j,!1),m!==null&&S!==null&&mc(u,S,m,j,!0)}}e:{if(g=c?sr(c):window,b=g.nodeName&&g.nodeName.toLowerCase(),b==="select"||b==="input"&&g.type==="file")var N=fx;else if(ac(g))if(wf)N=xx;else{N=px;var E=mx}else(b=g.nodeName)&&b.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(N=hx);if(N&&(N=N(e,c))){jf(u,N,n,p);break e}E&&E(e,g,c),e==="focusout"&&(E=g._wrapperState)&&E.controlled&&g.type==="number"&&ki(g,"number",g.value)}switch(E=c?sr(c):window,e){case"focusin":(ac(E)||E.contentEditable==="true")&&(nr=E,Fi=c,ss=null);break;case"focusout":ss=Fi=nr=null;break;case"mousedown":$i=!0;break;case"contextmenu":case"mouseup":case"dragend":$i=!1,cc(u,n,p);break;case"selectionchange":if(vx)break;case"keydown":case"keyup":cc(u,n,p)}var v;if(Bo)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else tr?vf(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(yf&&n.locale!=="ko"&&(tr||k!=="onCompositionStart"?k==="onCompositionEnd"&&tr&&(v=gf()):(on=p,Uo="value"in on?on.value:on.textContent,tr=!0)),E=Pa(c,k),0<E.length&&(k=new tc(k,e,null,n,p),u.push({event:k,listeners:E}),v?k.data=v:(v=bf(n),v!==null&&(k.data=v)))),(v=ix?ox(e,n):dx(e,n))&&(c=Pa(c,"onBeforeInput"),0<c.length&&(p=new tc("onBeforeInput","beforeinput",null,n,p),u.push({event:p,listeners:c}),p.data=v))}Rf(u,t)})}function ys(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pa(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=us(e,n),l!=null&&s.unshift(ys(e,l,a)),l=us(e,t),l!=null&&s.push(ys(e,l,a))),e=e.return}return s}function Gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mc(e,t,n,s,a){for(var l=t._reactName,i=[];n!==null&&n!==s;){var o=n,d=o.alternate,c=o.stateNode;if(d!==null&&d===s)break;o.tag===5&&c!==null&&(o=c,a?(d=us(n,l),d!=null&&i.unshift(ys(n,d,o))):a||(d=us(n,l),d!=null&&i.push(ys(n,d,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Nx=/\r\n?/g,_x=/\u0000|\uFFFD/g;function pc(e){return(typeof e=="string"?e:""+e).replace(Nx,`
`).replace(_x,"")}function ea(e,t,n){if(t=pc(t),pc(e)!==t&&n)throw Error(L(425))}function La(){}var Ii=null,Ui=null;function zi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wi=typeof setTimeout=="function"?setTimeout:void 0,kx=typeof clearTimeout=="function"?clearTimeout:void 0,hc=typeof Promise=="function"?Promise:void 0,Sx=typeof queueMicrotask=="function"?queueMicrotask:typeof hc<"u"?function(e){return hc.resolve(null).then(e).catch(Cx)}:Wi;function Cx(e){setTimeout(function(){throw e})}function Jl(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),ps(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);ps(t)}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Er=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Er,vs="__reactProps$"+Er,Xt="__reactContainer$"+Er,Bi="__reactEvents$"+Er,Ex="__reactListeners$"+Er,Dx="__reactHandles$"+Er;function Tn(e){var t=e[Ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xt]||n[Ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xc(e);e!==null;){if(n=e[Ut])return n;e=xc(e)}return t}e=n,n=e.parentNode}return null}function Ls(e){return e=e[Ut]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function cl(e){return e[vs]||null}var Hi=[],ar=-1;function Nn(e){return{current:e}}function ke(e){0>ar||(e.current=Hi[ar],Hi[ar]=null,ar--)}function je(e,t){ar++,Hi[ar]=e.current,e.current=t}var jn={},Ze=Nn(jn),it=Nn(!1),$n=jn;function yr(e,t){var n=e.type.contextTypes;if(!n)return jn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ot(e){return e=e.childContextTypes,e!=null}function Aa(){ke(it),ke(Ze)}function gc(e,t,n){if(Ze.current!==jn)throw Error(L(168));je(Ze,t),je(it,n)}function Pf(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(L(108,mh(e)||"Unknown",a));return Te({},n,s)}function Fa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,$n=Ze.current,je(Ze,e),je(it,it.current),!0}function yc(e,t,n){var s=e.stateNode;if(!s)throw Error(L(169));n?(e=Pf(e,t,$n),s.__reactInternalMemoizedMergedChildContext=e,ke(it),ke(Ze),je(Ze,e)):ke(it),je(it,n)}var qt=null,ul=!1,Zl=!1;function Lf(e){qt===null?qt=[e]:qt.push(e)}function Mx(e){ul=!0,Lf(e)}function _n(){if(!Zl&&qt!==null){Zl=!0;var e=0,t=ve;try{var n=qt;for(ve=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}qt=null,ul=!1}catch(a){throw qt!==null&&(qt=qt.slice(e+1)),af(Ao,_n),a}finally{ve=t,Zl=!1}}return null}var lr=[],ir=0,$a=null,Ia=0,vt=[],bt=0,In=null,Vt=1,Yt="";function En(e,t){lr[ir++]=Ia,lr[ir++]=$a,$a=e,Ia=t}function Af(e,t,n){vt[bt++]=Vt,vt[bt++]=Yt,vt[bt++]=In,In=e;var s=Vt;e=Yt;var a=32-Dt(s)-1;s&=~(1<<a),n+=1;var l=32-Dt(t)+a;if(30<l){var i=a-a%5;l=(s&(1<<i)-1).toString(32),s>>=i,a-=i,Vt=1<<32-Dt(t)+a|n<<a|s,Yt=l+e}else Vt=1<<l|n<<a|s,Yt=e}function qo(e){e.return!==null&&(En(e,1),Af(e,1,0))}function Vo(e){for(;e===$a;)$a=lr[--ir],lr[ir]=null,Ia=lr[--ir],lr[ir]=null;for(;e===In;)In=vt[--bt],vt[bt]=null,Yt=vt[--bt],vt[bt]=null,Vt=vt[--bt],vt[bt]=null}var pt=null,mt=null,Se=!1,Et=null;function Ff(e,t){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,mt=pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=In!==null?{id:Vt,overflow:Yt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pt=e,mt=null,!0):!1;default:return!1}}function qi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vi(e){if(Se){var t=mt;if(t){var n=t;if(!vc(e,t)){if(qi(e))throw Error(L(418));t=pn(n.nextSibling);var s=pt;t&&vc(e,t)?Ff(s,n):(e.flags=e.flags&-4097|2,Se=!1,pt=e)}}else{if(qi(e))throw Error(L(418));e.flags=e.flags&-4097|2,Se=!1,pt=e}}}function bc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function ta(e){if(e!==pt)return!1;if(!Se)return bc(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zi(e.type,e.memoizedProps)),t&&(t=mt)){if(qi(e))throw $f(),Error(L(418));for(;t;)Ff(e,t),t=pn(t.nextSibling)}if(bc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){mt=pn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=pt?pn(e.stateNode.nextSibling):null;return!0}function $f(){for(var e=mt;e;)e=pn(e.nextSibling)}function vr(){mt=pt=null,Se=!1}function Yo(e){Et===null?Et=[e]:Et.push(e)}var Tx=Zt.ReactCurrentBatchConfig;function Br(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var s=n.stateNode}if(!s)throw Error(L(147,e));var a=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function na(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jc(e){var t=e._init;return t(e._payload)}function If(e){function t(h,f){if(e){var x=h.deletions;x===null?(h.deletions=[f],h.flags|=16):x.push(f)}}function n(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function s(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function a(h,f){return h=yn(h,f),h.index=0,h.sibling=null,h}function l(h,f,x){return h.index=x,e?(x=h.alternate,x!==null?(x=x.index,x<f?(h.flags|=2,f):x):(h.flags|=2,f)):(h.flags|=1048576,f)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function o(h,f,x,w){return f===null||f.tag!==6?(f=li(x,h.mode,w),f.return=h,f):(f=a(f,x),f.return=h,f)}function d(h,f,x,w){var N=x.type;return N===er?p(h,f,x.props.children,w,x.key):f!==null&&(f.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===rn&&jc(N)===f.type)?(w=a(f,x.props),w.ref=Br(h,f,x),w.return=h,w):(w=ja(x.type,x.key,x.props,null,h.mode,w),w.ref=Br(h,f,x),w.return=h,w)}function c(h,f,x,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=ii(x,h.mode,w),f.return=h,f):(f=a(f,x.children||[]),f.return=h,f)}function p(h,f,x,w,N){return f===null||f.tag!==7?(f=An(x,h.mode,w,N),f.return=h,f):(f=a(f,x),f.return=h,f)}function u(h,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=li(""+f,h.mode,x),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case qs:return x=ja(f.type,f.key,f.props,null,h.mode,x),x.ref=Br(h,null,f),x.return=h,x;case Zn:return f=ii(f,h.mode,x),f.return=h,f;case rn:var w=f._init;return u(h,w(f._payload),x)}if(Gr(f)||$r(f))return f=An(f,h.mode,x,null),f.return=h,f;na(h,f)}return null}function g(h,f,x,w){var N=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:o(h,f,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case qs:return x.key===N?d(h,f,x,w):null;case Zn:return x.key===N?c(h,f,x,w):null;case rn:return N=x._init,g(h,f,N(x._payload),w)}if(Gr(x)||$r(x))return N!==null?null:p(h,f,x,w,null);na(h,x)}return null}function b(h,f,x,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(x)||null,o(f,h,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qs:return h=h.get(w.key===null?x:w.key)||null,d(f,h,w,N);case Zn:return h=h.get(w.key===null?x:w.key)||null,c(f,h,w,N);case rn:var E=w._init;return b(h,f,x,E(w._payload),N)}if(Gr(w)||$r(w))return h=h.get(x)||null,p(f,h,w,N,null);na(f,w)}return null}function m(h,f,x,w){for(var N=null,E=null,v=f,k=f=0,R=null;v!==null&&k<x.length;k++){v.index>k?(R=v,v=null):R=v.sibling;var O=g(h,v,x[k],w);if(O===null){v===null&&(v=R);break}e&&v&&O.alternate===null&&t(h,v),f=l(O,f,k),E===null?N=O:E.sibling=O,E=O,v=R}if(k===x.length)return n(h,v),Se&&En(h,k),N;if(v===null){for(;k<x.length;k++)v=u(h,x[k],w),v!==null&&(f=l(v,f,k),E===null?N=v:E.sibling=v,E=v);return Se&&En(h,k),N}for(v=s(h,v);k<x.length;k++)R=b(v,h,k,x[k],w),R!==null&&(e&&R.alternate!==null&&v.delete(R.key===null?k:R.key),f=l(R,f,k),E===null?N=R:E.sibling=R,E=R);return e&&v.forEach(function(F){return t(h,F)}),Se&&En(h,k),N}function j(h,f,x,w){var N=$r(x);if(typeof N!="function")throw Error(L(150));if(x=N.call(x),x==null)throw Error(L(151));for(var E=N=null,v=f,k=f=0,R=null,O=x.next();v!==null&&!O.done;k++,O=x.next()){v.index>k?(R=v,v=null):R=v.sibling;var F=g(h,v,O.value,w);if(F===null){v===null&&(v=R);break}e&&v&&F.alternate===null&&t(h,v),f=l(F,f,k),E===null?N=F:E.sibling=F,E=F,v=R}if(O.done)return n(h,v),Se&&En(h,k),N;if(v===null){for(;!O.done;k++,O=x.next())O=u(h,O.value,w),O!==null&&(f=l(O,f,k),E===null?N=O:E.sibling=O,E=O);return Se&&En(h,k),N}for(v=s(h,v);!O.done;k++,O=x.next())O=b(v,h,k,O.value,w),O!==null&&(e&&O.alternate!==null&&v.delete(O.key===null?k:O.key),f=l(O,f,k),E===null?N=O:E.sibling=O,E=O);return e&&v.forEach(function(Q){return t(h,Q)}),Se&&En(h,k),N}function S(h,f,x,w){if(typeof x=="object"&&x!==null&&x.type===er&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case qs:e:{for(var N=x.key,E=f;E!==null;){if(E.key===N){if(N=x.type,N===er){if(E.tag===7){n(h,E.sibling),f=a(E,x.props.children),f.return=h,h=f;break e}}else if(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===rn&&jc(N)===E.type){n(h,E.sibling),f=a(E,x.props),f.ref=Br(h,E,x),f.return=h,h=f;break e}n(h,E);break}else t(h,E);E=E.sibling}x.type===er?(f=An(x.props.children,h.mode,w,x.key),f.return=h,h=f):(w=ja(x.type,x.key,x.props,null,h.mode,w),w.ref=Br(h,f,x),w.return=h,h=w)}return i(h);case Zn:e:{for(E=x.key;f!==null;){if(f.key===E)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){n(h,f.sibling),f=a(f,x.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else t(h,f);f=f.sibling}f=ii(x,h.mode,w),f.return=h,h=f}return i(h);case rn:return E=x._init,S(h,f,E(x._payload),w)}if(Gr(x))return m(h,f,x,w);if($r(x))return j(h,f,x,w);na(h,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(n(h,f.sibling),f=a(f,x),f.return=h,h=f):(n(h,f),f=li(x,h.mode,w),f.return=h,h=f),i(h)):n(h,f)}return S}var br=If(!0),Uf=If(!1),Ua=Nn(null),za=null,or=null,Qo=null;function Ko(){Qo=or=za=null}function Xo(e){var t=Ua.current;ke(Ua),e._currentValue=t}function Yi(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function hr(e,t){za=e,Qo=or=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(lt=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(Qo!==e)if(e={context:e,memoizedValue:t,next:null},or===null){if(za===null)throw Error(L(308));or=e,za.dependencies={lanes:0,firstContext:e}}else or=or.next=e;return t}var Rn=null;function Go(e){Rn===null?Rn=[e]:Rn.push(e)}function zf(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,Go(t)):(n.next=a.next,a.next=n),t.interleaved=n,Gt(e,s)}function Gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sn=!1;function Jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,de&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Gt(e,n)}return a=s.interleaved,a===null?(t.next=t,Go(s)):(t.next=a.next,a.next=t),s.interleaved=t,Gt(e,n)}function ha(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Fo(e,n)}}function wc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=i:l=l.next=i,n=n.next}while(n!==null);l===null?a=l=t:l=l.next=t}else a=l=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wa(e,t,n,s){var a=e.updateQueue;sn=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var d=o,c=d.next;d.next=null,i===null?l=c:i.next=c,i=d;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==i&&(o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=d))}if(l!==null){var u=a.baseState;i=0,p=c=d=null,o=l;do{var g=o.lane,b=o.eventTime;if((s&g)===g){p!==null&&(p=p.next={eventTime:b,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,j=o;switch(g=t,b=n,j.tag){case 1:if(m=j.payload,typeof m=="function"){u=m.call(b,u,g);break e}u=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=j.payload,g=typeof m=="function"?m.call(b,u,g):m,g==null)break e;u=Te({},u,g);break e;case 2:sn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=a.effects,g===null?a.effects=[o]:g.push(o))}else b={eventTime:b,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(c=p=b,d=u):p=p.next=b,i|=g;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;g=o,o=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);if(p===null&&(d=u),a.baseState=d,a.firstBaseUpdate=c,a.lastBaseUpdate=p,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);zn|=i,e.lanes=i,e.memoizedState=u}}function Nc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(L(191,a));a.call(s)}}}var As={},Wt=Nn(As),bs=Nn(As),js=Nn(As);function On(e){if(e===As)throw Error(L(174));return e}function Zo(e,t){switch(je(js,t),je(bs,e),je(Wt,As),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ci(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ci(t,e)}ke(Wt),je(Wt,t)}function jr(){ke(Wt),ke(bs),ke(js)}function Bf(e){On(js.current);var t=On(Wt.current),n=Ci(t,e.type);t!==n&&(je(bs,e),je(Wt,n))}function ed(e){bs.current===e&&(ke(Wt),ke(bs))}var Ce=Nn(0);function Ba(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ei=[];function td(){for(var e=0;e<ei.length;e++)ei[e]._workInProgressVersionPrimary=null;ei.length=0}var xa=Zt.ReactCurrentDispatcher,ti=Zt.ReactCurrentBatchConfig,Un=0,De=null,Ie=null,Be=null,Ha=!1,as=!1,ws=0,Rx=0;function Ke(){throw Error(L(321))}function nd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function rd(e,t,n,s,a,l){if(Un=l,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xa.current=e===null||e.memoizedState===null?Ax:Fx,e=n(s,a),as){l=0;do{if(as=!1,ws=0,25<=l)throw Error(L(301));l+=1,Be=Ie=null,t.updateQueue=null,xa.current=$x,e=n(s,a)}while(as)}if(xa.current=qa,t=Ie!==null&&Ie.next!==null,Un=0,Be=Ie=De=null,Ha=!1,t)throw Error(L(300));return e}function sd(){var e=ws!==0;return ws=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?De.memoizedState=Be=e:Be=Be.next=e,Be}function _t(){if(Ie===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Be===null?De.memoizedState:Be.next;if(t!==null)Be=t,Ie=e;else{if(e===null)throw Error(L(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Be===null?De.memoizedState=Be=e:Be=Be.next=e}return Be}function Ns(e,t){return typeof t=="function"?t(e):t}function ni(e){var t=_t(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var s=Ie,a=s.baseQueue,l=n.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}s.baseQueue=a=l,n.pending=null}if(a!==null){l=a.next,s=s.baseState;var o=i=null,d=null,c=l;do{var p=c.lane;if((Un&p)===p)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:e(s,c.action);else{var u={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(o=d=u,i=s):d=d.next=u,De.lanes|=p,zn|=p}c=c.next}while(c!==null&&c!==l);d===null?i=s:d.next=o,Tt(s,t.memoizedState)||(lt=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=d,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do l=a.lane,De.lanes|=l,zn|=l,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ri(e){var t=_t(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,l=t.memoizedState;if(a!==null){n.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);Tt(l,t.memoizedState)||(lt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,s]}function Hf(){}function qf(e,t){var n=De,s=_t(),a=t(),l=!Tt(s.memoizedState,a);if(l&&(s.memoizedState=a,lt=!0),s=s.queue,ad(Qf.bind(null,n,s,e),[e]),s.getSnapshot!==t||l||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,_s(9,Yf.bind(null,n,s,a,t),void 0,null),qe===null)throw Error(L(349));Un&30||Vf(n,t,a)}return a}function Vf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yf(e,t,n,s){t.value=n,t.getSnapshot=s,Kf(t)&&Xf(e)}function Qf(e,t,n){return n(function(){Kf(t)&&Xf(e)})}function Kf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function Xf(e){var t=Gt(e,1);t!==null&&Mt(t,e,1,-1)}function _c(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:e},t.queue=e,e=e.dispatch=Lx.bind(null,De,e),[t.memoizedState,e]}function _s(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Gf(){return _t().memoizedState}function ga(e,t,n,s){var a=It();De.flags|=e,a.memoizedState=_s(1|t,n,void 0,s===void 0?null:s)}function fl(e,t,n,s){var a=_t();s=s===void 0?null:s;var l=void 0;if(Ie!==null){var i=Ie.memoizedState;if(l=i.destroy,s!==null&&nd(s,i.deps)){a.memoizedState=_s(t,n,l,s);return}}De.flags|=e,a.memoizedState=_s(1|t,n,l,s)}function kc(e,t){return ga(8390656,8,e,t)}function ad(e,t){return fl(2048,8,e,t)}function Jf(e,t){return fl(4,2,e,t)}function Zf(e,t){return fl(4,4,e,t)}function em(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tm(e,t,n){return n=n!=null?n.concat([e]):null,fl(4,4,em.bind(null,t,e),n)}function ld(){}function nm(e,t){var n=_t();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&nd(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function rm(e,t){var n=_t();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&nd(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function sm(e,t,n){return Un&21?(Tt(n,t)||(n=df(),De.lanes|=n,zn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,lt=!0),e.memoizedState=n)}function Ox(e,t){var n=ve;ve=n!==0&&4>n?n:4,e(!0);var s=ti.transition;ti.transition={};try{e(!1),t()}finally{ve=n,ti.transition=s}}function am(){return _t().memoizedState}function Px(e,t,n){var s=gn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},lm(e))im(t,n);else if(n=zf(e,t,n,s),n!==null){var a=tt();Mt(n,e,s,a),om(n,t,s)}}function Lx(e,t,n){var s=gn(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(lm(e))im(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,n);if(a.hasEagerState=!0,a.eagerState=o,Tt(o,i)){var d=t.interleaved;d===null?(a.next=a,Go(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}n=zf(e,t,a,s),n!==null&&(a=tt(),Mt(n,e,s,a),om(n,t,s))}}function lm(e){var t=e.alternate;return e===De||t!==null&&t===De}function im(e,t){as=Ha=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function om(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Fo(e,n)}}var qa={readContext:Nt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},Ax={readContext:Nt,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:kc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ga(4194308,4,em.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4194308,4,e,t)},useInsertionEffect:function(e,t){return ga(4,2,e,t)},useMemo:function(e,t){var n=It();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=It();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Px.bind(null,De,e),[s.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:_c,useDebugValue:ld,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=_c(!1),t=e[0];return e=Ox.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=De,a=It();if(Se){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),qe===null)throw Error(L(349));Un&30||Vf(s,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,kc(Qf.bind(null,s,l,e),[e]),s.flags|=2048,_s(9,Yf.bind(null,s,l,n,t),void 0,null),n},useId:function(){var e=It(),t=qe.identifierPrefix;if(Se){var n=Yt,s=Vt;n=(s&~(1<<32-Dt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=ws++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fx={readContext:Nt,useCallback:nm,useContext:Nt,useEffect:ad,useImperativeHandle:tm,useInsertionEffect:Jf,useLayoutEffect:Zf,useMemo:rm,useReducer:ni,useRef:Gf,useState:function(){return ni(Ns)},useDebugValue:ld,useDeferredValue:function(e){var t=_t();return sm(t,Ie.memoizedState,e)},useTransition:function(){var e=ni(Ns)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Hf,useSyncExternalStore:qf,useId:am,unstable_isNewReconciler:!1},$x={readContext:Nt,useCallback:nm,useContext:Nt,useEffect:ad,useImperativeHandle:tm,useInsertionEffect:Jf,useLayoutEffect:Zf,useMemo:rm,useReducer:ri,useRef:Gf,useState:function(){return ri(Ns)},useDebugValue:ld,useDeferredValue:function(e){var t=_t();return Ie===null?t.memoizedState=e:sm(t,Ie.memoizedState,e)},useTransition:function(){var e=ri(Ns)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Hf,useSyncExternalStore:qf,useId:am,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=Te({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qi(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ml={isMounted:function(e){return(e=e._reactInternals)?Qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=tt(),a=gn(e),l=Qt(s,a);l.payload=t,n!=null&&(l.callback=n),t=hn(e,l,a),t!==null&&(Mt(t,e,a,s),ha(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=tt(),a=gn(e),l=Qt(s,a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=hn(e,l,a),t!==null&&(Mt(t,e,a,s),ha(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tt(),s=gn(e),a=Qt(n,s);a.tag=2,t!=null&&(a.callback=t),t=hn(e,a,s),t!==null&&(Mt(t,e,s,n),ha(t,e,s))}};function Sc(e,t,n,s,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,i):t.prototype&&t.prototype.isPureReactComponent?!xs(n,s)||!xs(a,l):!0}function dm(e,t,n){var s=!1,a=jn,l=t.contextType;return typeof l=="object"&&l!==null?l=Nt(l):(a=ot(t)?$n:Ze.current,s=t.contextTypes,l=(s=s!=null)?yr(e,a):jn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ml,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Cc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&ml.enqueueReplaceState(t,t.state,null)}function Ki(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Jo(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Nt(l):(l=ot(t)?$n:Ze.current,a.context=yr(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Qi(e,t,l,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ml.enqueueReplaceState(a,a.state,null),Wa(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function wr(e,t){try{var n="",s=t;do n+=fh(s),s=s.return;while(s);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function si(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ix=typeof WeakMap=="function"?WeakMap:Map;function cm(e,t,n){n=Qt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Ya||(Ya=!0,lo=s),Xi(e,t)},n}function um(e,t,n){n=Qt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){Xi(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Xi(e,t),typeof s!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Ec(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Ix;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=Zx.bind(null,e,t,n),t.then(e,e))}function Dc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mc(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qt(-1,1),t.tag=2,hn(n,t,1))),n.lanes|=1),e)}var Ux=Zt.ReactCurrentOwner,lt=!1;function et(e,t,n,s){t.child=e===null?Uf(t,null,n,s):br(t,e.child,n,s)}function Tc(e,t,n,s,a){n=n.render;var l=t.ref;return hr(t,a),s=rd(e,t,n,s,l,a),n=sd(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Jt(e,t,a)):(Se&&n&&qo(t),t.flags|=1,et(e,t,s,a),t.child)}function Rc(e,t,n,s,a){if(e===null){var l=n.type;return typeof l=="function"&&!pd(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,fm(e,t,l,s,a)):(e=ja(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(n=n.compare,n=n!==null?n:xs,n(i,s)&&e.ref===t.ref)return Jt(e,t,a)}return t.flags|=1,e=yn(l,s),e.ref=t.ref,e.return=t,t.child=e}function fm(e,t,n,s,a){if(e!==null){var l=e.memoizedProps;if(xs(l,s)&&e.ref===t.ref)if(lt=!1,t.pendingProps=s=l,(e.lanes&a)!==0)e.flags&131072&&(lt=!0);else return t.lanes=e.lanes,Jt(e,t,a)}return Gi(e,t,n,s,a)}function mm(e,t,n){var s=t.pendingProps,a=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(cr,ft),ft|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(cr,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:n,je(cr,ft),ft|=s}else l!==null?(s=l.baseLanes|n,t.memoizedState=null):s=n,je(cr,ft),ft|=s;return et(e,t,a,n),t.child}function pm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gi(e,t,n,s,a){var l=ot(n)?$n:Ze.current;return l=yr(t,l),hr(t,a),n=rd(e,t,n,s,l,a),s=sd(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Jt(e,t,a)):(Se&&s&&qo(t),t.flags|=1,et(e,t,n,a),t.child)}function Oc(e,t,n,s,a){if(ot(n)){var l=!0;Fa(t)}else l=!1;if(hr(t,a),t.stateNode===null)ya(e,t),dm(t,n,s),Ki(t,n,s,a),s=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var d=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Nt(c):(c=ot(n)?$n:Ze.current,c=yr(t,c));var p=n.getDerivedStateFromProps,u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==s||d!==c)&&Cc(t,i,s,c),sn=!1;var g=t.memoizedState;i.state=g,Wa(t,s,i,a),d=t.memoizedState,o!==s||g!==d||it.current||sn?(typeof p=="function"&&(Qi(t,n,p,s),d=t.memoizedState),(o=sn||Sc(t,n,o,s,g,d,c))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=d),i.props=s,i.state=d,i.context=c,s=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Wf(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:St(t.type,o),i.props=c,u=t.pendingProps,g=i.context,d=n.contextType,typeof d=="object"&&d!==null?d=Nt(d):(d=ot(n)?$n:Ze.current,d=yr(t,d));var b=n.getDerivedStateFromProps;(p=typeof b=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==u||g!==d)&&Cc(t,i,s,d),sn=!1,g=t.memoizedState,i.state=g,Wa(t,s,i,a);var m=t.memoizedState;o!==u||g!==m||it.current||sn?(typeof b=="function"&&(Qi(t,n,b,s),m=t.memoizedState),(c=sn||Sc(t,n,c,s,g,m,d)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,m,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,m,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=m),i.props=s,i.state=m,i.context=d,s=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return Ji(e,t,n,s,l,a)}function Ji(e,t,n,s,a,l){pm(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return a&&yc(t,n,!1),Jt(e,t,l);s=t.stateNode,Ux.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=br(t,e.child,null,l),t.child=br(t,null,o,l)):et(e,t,o,l),t.memoizedState=s.state,a&&yc(t,n,!0),t.child}function hm(e){var t=e.stateNode;t.pendingContext?gc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gc(e,t.context,!1),Zo(e,t.containerInfo)}function Pc(e,t,n,s,a){return vr(),Yo(a),t.flags|=256,et(e,t,n,s),t.child}var Zi={dehydrated:null,treeContext:null,retryLane:0};function eo(e){return{baseLanes:e,cachePool:null,transitions:null}}function xm(e,t,n){var s=t.pendingProps,a=Ce.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),je(Ce,a&1),e===null)return Vi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,l?(s=t.mode,l=t.child,i={mode:"hidden",children:i},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=xl(i,s,0,null),e=An(e,s,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=eo(n),t.memoizedState=Zi,e):id(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return zx(e,t,i,s,o,a,n);if(l){l=s.fallback,i=t.mode,a=e.child,o=a.sibling;var d={mode:"hidden",children:s.children};return!(i&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=d,t.deletions=null):(s=yn(a,d),s.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=yn(o,l):(l=An(l,i,n,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,i=e.child.memoizedState,i=i===null?eo(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~n,t.memoizedState=Zi,s}return l=e.child,e=l.sibling,s=yn(l,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function id(e,t){return t=xl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ra(e,t,n,s){return s!==null&&Yo(s),br(t,e.child,null,n),e=id(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zx(e,t,n,s,a,l,i){if(n)return t.flags&256?(t.flags&=-257,s=si(Error(L(422))),ra(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,a=t.mode,s=xl({mode:"visible",children:s.children},a,0,null),l=An(l,a,i,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,t.mode&1&&br(t,e.child,null,i),t.child.memoizedState=eo(i),t.memoizedState=Zi,l);if(!(t.mode&1))return ra(e,t,i,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var o=s.dgst;return s=o,l=Error(L(419)),s=si(l,s,void 0),ra(e,t,i,s)}if(o=(i&e.childLanes)!==0,lt||o){if(s=qe,s!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Gt(e,a),Mt(s,e,a,-1))}return md(),s=si(Error(L(421))),ra(e,t,i,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=eg.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,mt=pn(a.nextSibling),pt=t,Se=!0,Et=null,e!==null&&(vt[bt++]=Vt,vt[bt++]=Yt,vt[bt++]=In,Vt=e.id,Yt=e.overflow,In=t),t=id(t,s.children),t.flags|=4096,t)}function Lc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Yi(e.return,t,n)}function ai(e,t,n,s,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=n,l.tailMode=a)}function gm(e,t,n){var s=t.pendingProps,a=s.revealOrder,l=s.tail;if(et(e,t,s.children,n),s=Ce.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lc(e,n,t);else if(e.tag===19)Lc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(je(Ce,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Ba(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ai(t,!1,a,n,l);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ba(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ai(t,!0,n,null,l);break;case"together":ai(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ya(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wx(e,t,n){switch(t.tag){case 3:hm(t),vr();break;case 5:Bf(t);break;case 1:ot(t.type)&&Fa(t);break;case 4:Zo(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;je(Ua,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(je(Ce,Ce.current&1),t.flags|=128,null):n&t.child.childLanes?xm(e,t,n):(je(Ce,Ce.current&1),e=Jt(e,t,n),e!==null?e.sibling:null);je(Ce,Ce.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return gm(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),je(Ce,Ce.current),s)break;return null;case 22:case 23:return t.lanes=0,mm(e,t,n)}return Jt(e,t,n)}var ym,to,vm,bm;ym=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};to=function(){};vm=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,On(Wt.current);var l=null;switch(n){case"input":a=Ni(e,a),s=Ni(e,s),l=[];break;case"select":a=Te({},a,{value:void 0}),s=Te({},s,{value:void 0}),l=[];break;case"textarea":a=Si(e,a),s=Si(e,s),l=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=La)}Ei(n,s);var i;n=null;for(c in a)if(!s.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ds.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in s){var d=s[c];if(o=a!=null?a[c]:void 0,s.hasOwnProperty(c)&&d!==o&&(d!=null||o!=null))if(c==="style")if(o){for(i in o)!o.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in d)d.hasOwnProperty(i)&&o[i]!==d[i]&&(n||(n={}),n[i]=d[i])}else n||(l||(l=[]),l.push(c,n)),n=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,o=o?o.__html:void 0,d!=null&&o!==d&&(l=l||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ds.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&_e("scroll",e),l||o===d||(l=[])):(l=l||[]).push(c,d))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};bm=function(e,t,n,s){n!==s&&(t.flags|=4)};function Hr(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Bx(e,t,n){var s=t.pendingProps;switch(Vo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return ot(t.type)&&Aa(),Xe(t),null;case 3:return s=t.stateNode,jr(),ke(it),ke(Ze),td(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ta(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Et!==null&&(co(Et),Et=null))),to(e,t),Xe(t),null;case 5:ed(t);var a=On(js.current);if(n=t.type,e!==null&&t.stateNode!=null)vm(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(L(166));return Xe(t),null}if(e=On(Wt.current),ta(t)){s=t.stateNode,n=t.type;var l=t.memoizedProps;switch(s[Ut]=t,s[vs]=l,e=(t.mode&1)!==0,n){case"dialog":_e("cancel",s),_e("close",s);break;case"iframe":case"object":case"embed":_e("load",s);break;case"video":case"audio":for(a=0;a<Zr.length;a++)_e(Zr[a],s);break;case"source":_e("error",s);break;case"img":case"image":case"link":_e("error",s),_e("load",s);break;case"details":_e("toggle",s);break;case"input":Hd(s,l),_e("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},_e("invalid",s);break;case"textarea":Vd(s,l),_e("invalid",s)}Ei(n,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?s.textContent!==o&&(l.suppressHydrationWarning!==!0&&ea(s.textContent,o,e),a=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&ea(s.textContent,o,e),a=["children",""+o]):ds.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&_e("scroll",s)}switch(n){case"input":Vs(s),qd(s,l,!0);break;case"textarea":Vs(s),Yd(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=La)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(n,{is:s.is}):(e=i.createElement(n),n==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,n),e[Ut]=t,e[vs]=s,ym(e,t,!1,!1),t.stateNode=e;e:{switch(i=Di(n,s),n){case"dialog":_e("cancel",e),_e("close",e),a=s;break;case"iframe":case"object":case"embed":_e("load",e),a=s;break;case"video":case"audio":for(a=0;a<Zr.length;a++)_e(Zr[a],e);a=s;break;case"source":_e("error",e),a=s;break;case"img":case"image":case"link":_e("error",e),_e("load",e),a=s;break;case"details":_e("toggle",e),a=s;break;case"input":Hd(e,s),a=Ni(e,s),_e("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Te({},s,{value:void 0}),_e("invalid",e);break;case"textarea":Vd(e,s),a=Si(e,s),_e("invalid",e);break;default:a=s}Ei(n,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var d=o[l];l==="style"?Xu(e,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Qu(e,d)):l==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&cs(e,d):typeof d=="number"&&cs(e,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ds.hasOwnProperty(l)?d!=null&&l==="onScroll"&&_e("scroll",e):d!=null&&To(e,l,d,i))}switch(n){case"input":Vs(e),qd(e,s,!1);break;case"textarea":Vs(e),Yd(e);break;case"option":s.value!=null&&e.setAttribute("value",""+bn(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?ur(e,!!s.multiple,l,!1):s.defaultValue!=null&&ur(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=La)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)bm(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(L(166));if(n=On(js.current),On(Wt.current),ta(t)){if(s=t.stateNode,n=t.memoizedProps,s[Ut]=t,(l=s.nodeValue!==n)&&(e=pt,e!==null))switch(e.tag){case 3:ea(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ea(s.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Ut]=t,t.stateNode=s}return Xe(t),null;case 13:if(ke(Ce),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&mt!==null&&t.mode&1&&!(t.flags&128))$f(),vr(),t.flags|=98560,l=!1;else if(l=ta(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(L(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(L(317));l[Ut]=t}else vr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),l=!1}else Et!==null&&(co(Et),Et=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Ue===0&&(Ue=3):md())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return jr(),to(e,t),e===null&&gs(t.stateNode.containerInfo),Xe(t),null;case 10:return Xo(t.type._context),Xe(t),null;case 17:return ot(t.type)&&Aa(),Xe(t),null;case 19:if(ke(Ce),l=t.memoizedState,l===null)return Xe(t),null;if(s=(t.flags&128)!==0,i=l.rendering,i===null)if(s)Hr(l,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ba(e),i!==null){for(t.flags|=128,Hr(l,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)l=n,e=s,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return je(Ce,Ce.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ae()>Nr&&(t.flags|=128,s=!0,Hr(l,!1),t.lanes=4194304)}else{if(!s)if(e=Ba(i),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!Se)return Xe(t),null}else 2*Ae()-l.renderingStartTime>Nr&&n!==1073741824&&(t.flags|=128,s=!0,Hr(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(n=l.last,n!==null?n.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ae(),t.sibling=null,n=Ce.current,je(Ce,s?n&1|2:n&1),t):(Xe(t),null);case 22:case 23:return fd(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?ft&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Hx(e,t){switch(Vo(t),t.tag){case 1:return ot(t.type)&&Aa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jr(),ke(it),ke(Ze),td(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ed(t),null;case 13:if(ke(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Ce),null;case 4:return jr(),null;case 10:return Xo(t.type._context),null;case 22:case 23:return fd(),null;case 24:return null;default:return null}}var sa=!1,Ge=!1,qx=typeof WeakSet=="function"?WeakSet:Set,Y=null;function dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Oe(e,t,s)}else n.current=null}function no(e,t,n){try{n()}catch(s){Oe(e,t,s)}}var Ac=!1;function Vx(e,t){if(Ii=Ra,e=kf(),Ho(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var i=0,o=-1,d=-1,c=0,p=0,u=e,g=null;t:for(;;){for(var b;u!==n||a!==0&&u.nodeType!==3||(o=i+a),u!==l||s!==0&&u.nodeType!==3||(d=i+s),u.nodeType===3&&(i+=u.nodeValue.length),(b=u.firstChild)!==null;)g=u,u=b;for(;;){if(u===e)break t;if(g===n&&++c===a&&(o=i),g===l&&++p===s&&(d=i),(b=u.nextSibling)!==null)break;u=g,g=u.parentNode}u=b}n=o===-1||d===-1?null:{start:o,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ui={focusedElem:e,selectionRange:n},Ra=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var j=m.memoizedProps,S=m.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?j:St(t.type,j),S);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(w){Oe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return m=Ac,Ac=!1,m}function ls(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&no(t,n,l)}a=a.next}while(a!==s)}}function pl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function ro(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jm(e){var t=e.alternate;t!==null&&(e.alternate=null,jm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ut],delete t[vs],delete t[Bi],delete t[Ex],delete t[Dx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wm(e){return e.tag===5||e.tag===3||e.tag===4}function Fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function so(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=La));else if(s!==4&&(e=e.child,e!==null))for(so(e,t,n),e=e.sibling;e!==null;)so(e,t,n),e=e.sibling}function ao(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ao(e,t,n),e=e.sibling;e!==null;)ao(e,t,n),e=e.sibling}var Ve=null,Ct=!1;function tn(e,t,n){for(n=n.child;n!==null;)Nm(e,t,n),n=n.sibling}function Nm(e,t,n){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(ll,n)}catch{}switch(n.tag){case 5:Ge||dr(n,t);case 6:var s=Ve,a=Ct;Ve=null,tn(e,t,n),Ve=s,Ct=a,Ve!==null&&(Ct?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Ct?(e=Ve,n=n.stateNode,e.nodeType===8?Jl(e.parentNode,n):e.nodeType===1&&Jl(e,n),ps(e)):Jl(Ve,n.stateNode));break;case 4:s=Ve,a=Ct,Ve=n.stateNode.containerInfo,Ct=!0,tn(e,t,n),Ve=s,Ct=a;break;case 0:case 11:case 14:case 15:if(!Ge&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&no(n,t,i),a=a.next}while(a!==s)}tn(e,t,n);break;case 1:if(!Ge&&(dr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){Oe(n,t,o)}tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:n.mode&1?(Ge=(s=Ge)||n.memoizedState!==null,tn(e,t,n),Ge=s):tn(e,t,n);break;default:tn(e,t,n)}}function $c(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new qx),t.forEach(function(s){var a=tg.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function kt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Ve=o.stateNode,Ct=!1;break e;case 3:Ve=o.stateNode.containerInfo,Ct=!0;break e;case 4:Ve=o.stateNode.containerInfo,Ct=!0;break e}o=o.return}if(Ve===null)throw Error(L(160));Nm(l,i,a),Ve=null,Ct=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(c){Oe(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_m(t,e),t=t.sibling}function _m(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kt(t,e),Ft(e),s&4){try{ls(3,e,e.return),pl(3,e)}catch(j){Oe(e,e.return,j)}try{ls(5,e,e.return)}catch(j){Oe(e,e.return,j)}}break;case 1:kt(t,e),Ft(e),s&512&&n!==null&&dr(n,n.return);break;case 5:if(kt(t,e),Ft(e),s&512&&n!==null&&dr(n,n.return),e.flags&32){var a=e.stateNode;try{cs(a,"")}catch(j){Oe(e,e.return,j)}}if(s&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=n!==null?n.memoizedProps:l,o=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&qu(a,l),Di(o,i);var c=Di(o,l);for(i=0;i<d.length;i+=2){var p=d[i],u=d[i+1];p==="style"?Xu(a,u):p==="dangerouslySetInnerHTML"?Qu(a,u):p==="children"?cs(a,u):To(a,p,u,c)}switch(o){case"input":_i(a,l);break;case"textarea":Vu(a,l);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var b=l.value;b!=null?ur(a,!!l.multiple,b,!1):g!==!!l.multiple&&(l.defaultValue!=null?ur(a,!!l.multiple,l.defaultValue,!0):ur(a,!!l.multiple,l.multiple?[]:"",!1))}a[vs]=l}catch(j){Oe(e,e.return,j)}}break;case 6:if(kt(t,e),Ft(e),s&4){if(e.stateNode===null)throw Error(L(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(j){Oe(e,e.return,j)}}break;case 3:if(kt(t,e),Ft(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ps(t.containerInfo)}catch(j){Oe(e,e.return,j)}break;case 4:kt(t,e),Ft(e);break;case 13:kt(t,e),Ft(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(cd=Ae())),s&4&&$c(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Ge=(c=Ge)||p,kt(t,e),Ge=c):kt(t,e),Ft(e),s&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!p&&e.mode&1)for(Y=e,p=e.child;p!==null;){for(u=Y=p;Y!==null;){switch(g=Y,b=g.child,g.tag){case 0:case 11:case 14:case 15:ls(4,g,g.return);break;case 1:dr(g,g.return);var m=g.stateNode;if(typeof m.componentWillUnmount=="function"){s=g,n=g.return;try{t=s,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(j){Oe(s,n,j)}}break;case 5:dr(g,g.return);break;case 22:if(g.memoizedState!==null){Uc(u);continue}}b!==null?(b.return=g,Y=b):Uc(u)}p=p.sibling}e:for(p=null,u=e;;){if(u.tag===5){if(p===null){p=u;try{a=u.stateNode,c?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=u.stateNode,d=u.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,o.style.display=Ku("display",i))}catch(j){Oe(e,e.return,j)}}}else if(u.tag===6){if(p===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(j){Oe(e,e.return,j)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:kt(t,e),Ft(e),s&4&&$c(e);break;case 21:break;default:kt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(wm(n)){var s=n;break e}n=n.return}throw Error(L(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(cs(a,""),s.flags&=-33);var l=Fc(e);ao(e,l,a);break;case 3:case 4:var i=s.stateNode.containerInfo,o=Fc(e);so(e,o,i);break;default:throw Error(L(161))}}catch(d){Oe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yx(e,t,n){Y=e,km(e)}function km(e,t,n){for(var s=(e.mode&1)!==0;Y!==null;){var a=Y,l=a.child;if(a.tag===22&&s){var i=a.memoizedState!==null||sa;if(!i){var o=a.alternate,d=o!==null&&o.memoizedState!==null||Ge;o=sa;var c=Ge;if(sa=i,(Ge=d)&&!c)for(Y=a;Y!==null;)i=Y,d=i.child,i.tag===22&&i.memoizedState!==null?zc(a):d!==null?(d.return=i,Y=d):zc(a);for(;l!==null;)Y=l,km(l),l=l.sibling;Y=a,sa=o,Ge=c}Ic(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,Y=l):Ic(e)}}function Ic(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||pl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ge)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:St(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Nc(t,l,s);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Nc(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var u=p.dehydrated;u!==null&&ps(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ge||t.flags&512&&ro(t)}catch(g){Oe(t,t.return,g)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Uc(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function zc(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pl(4,t)}catch(d){Oe(t,n,d)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(d){Oe(t,a,d)}}var l=t.return;try{ro(t)}catch(d){Oe(t,l,d)}break;case 5:var i=t.return;try{ro(t)}catch(d){Oe(t,i,d)}}}catch(d){Oe(t,t.return,d)}if(t===e){Y=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Y=o;break}Y=t.return}}var Qx=Math.ceil,Va=Zt.ReactCurrentDispatcher,od=Zt.ReactCurrentOwner,wt=Zt.ReactCurrentBatchConfig,de=0,qe=null,$e=null,Ye=0,ft=0,cr=Nn(0),Ue=0,ks=null,zn=0,hl=0,dd=0,is=null,at=null,cd=0,Nr=1/0,Ht=null,Ya=!1,lo=null,xn=null,aa=!1,dn=null,Qa=0,os=0,io=null,va=-1,ba=0;function tt(){return de&6?Ae():va!==-1?va:va=Ae()}function gn(e){return e.mode&1?de&2&&Ye!==0?Ye&-Ye:Tx.transition!==null?(ba===0&&(ba=df()),ba):(e=ve,e!==0||(e=window.event,e=e===void 0?16:xf(e.type)),e):1}function Mt(e,t,n,s){if(50<os)throw os=0,io=null,Error(L(185));Os(e,n,s),(!(de&2)||e!==qe)&&(e===qe&&(!(de&2)&&(hl|=n),Ue===4&&ln(e,Ye)),dt(e,s),n===1&&de===0&&!(t.mode&1)&&(Nr=Ae()+500,ul&&_n()))}function dt(e,t){var n=e.callbackNode;Th(e,t);var s=Ta(e,e===qe?Ye:0);if(s===0)n!==null&&Xd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Xd(n),t===1)e.tag===0?Mx(Wc.bind(null,e)):Lf(Wc.bind(null,e)),Sx(function(){!(de&6)&&_n()}),n=null;else{switch(cf(s)){case 1:n=Ao;break;case 4:n=lf;break;case 16:n=Ma;break;case 536870912:n=of;break;default:n=Ma}n=Om(n,Sm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Sm(e,t){if(va=-1,ba=0,de&6)throw Error(L(327));var n=e.callbackNode;if(xr()&&e.callbackNode!==n)return null;var s=Ta(e,e===qe?Ye:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ka(e,s);else{t=s;var a=de;de|=2;var l=Em();(qe!==e||Ye!==t)&&(Ht=null,Nr=Ae()+500,Ln(e,t));do try{Gx();break}catch(o){Cm(e,o)}while(!0);Ko(),Va.current=l,de=a,$e!==null?t=0:(qe=null,Ye=0,t=Ue)}if(t!==0){if(t===2&&(a=Pi(e),a!==0&&(s=a,t=oo(e,a))),t===1)throw n=ks,Ln(e,0),ln(e,s),dt(e,Ae()),n;if(t===6)ln(e,s);else{if(a=e.current.alternate,!(s&30)&&!Kx(a)&&(t=Ka(e,s),t===2&&(l=Pi(e),l!==0&&(s=l,t=oo(e,l))),t===1))throw n=ks,Ln(e,0),ln(e,s),dt(e,Ae()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(L(345));case 2:Dn(e,at,Ht);break;case 3:if(ln(e,s),(s&130023424)===s&&(t=cd+500-Ae(),10<t)){if(Ta(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){tt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Wi(Dn.bind(null,e,at,Ht),t);break}Dn(e,at,Ht);break;case 4:if(ln(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var i=31-Dt(s);l=1<<i,i=t[i],i>a&&(a=i),s&=~l}if(s=a,s=Ae()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Qx(s/1960))-s,10<s){e.timeoutHandle=Wi(Dn.bind(null,e,at,Ht),s);break}Dn(e,at,Ht);break;case 5:Dn(e,at,Ht);break;default:throw Error(L(329))}}}return dt(e,Ae()),e.callbackNode===n?Sm.bind(null,e):null}function oo(e,t){var n=is;return e.current.memoizedState.isDehydrated&&(Ln(e,t).flags|=256),e=Ka(e,t),e!==2&&(t=at,at=n,t!==null&&co(t)),e}function co(e){at===null?at=e:at.push.apply(at,e)}function Kx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],l=a.getSnapshot;a=a.value;try{if(!Tt(l(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t){for(t&=~dd,t&=~hl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dt(t),s=1<<n;e[n]=-1,t&=~s}}function Wc(e){if(de&6)throw Error(L(327));xr();var t=Ta(e,0);if(!(t&1))return dt(e,Ae()),null;var n=Ka(e,t);if(e.tag!==0&&n===2){var s=Pi(e);s!==0&&(t=s,n=oo(e,s))}if(n===1)throw n=ks,Ln(e,0),ln(e,t),dt(e,Ae()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dn(e,at,Ht),dt(e,Ae()),null}function ud(e,t){var n=de;de|=1;try{return e(t)}finally{de=n,de===0&&(Nr=Ae()+500,ul&&_n())}}function Wn(e){dn!==null&&dn.tag===0&&!(de&6)&&xr();var t=de;de|=1;var n=wt.transition,s=ve;try{if(wt.transition=null,ve=1,e)return e()}finally{ve=s,wt.transition=n,de=t,!(de&6)&&_n()}}function fd(){ft=cr.current,ke(cr)}function Ln(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kx(n)),$e!==null)for(n=$e.return;n!==null;){var s=n;switch(Vo(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Aa();break;case 3:jr(),ke(it),ke(Ze),td();break;case 5:ed(s);break;case 4:jr();break;case 13:ke(Ce);break;case 19:ke(Ce);break;case 10:Xo(s.type._context);break;case 22:case 23:fd()}n=n.return}if(qe=e,$e=e=yn(e.current,null),Ye=ft=t,Ue=0,ks=null,dd=hl=zn=0,at=is=null,Rn!==null){for(t=0;t<Rn.length;t++)if(n=Rn[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,l=n.pending;if(l!==null){var i=l.next;l.next=a,s.next=i}n.pending=s}Rn=null}return e}function Cm(e,t){do{var n=$e;try{if(Ko(),xa.current=qa,Ha){for(var s=De.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Ha=!1}if(Un=0,Be=Ie=De=null,as=!1,ws=0,od.current=null,n===null||n.return===null){Ue=1,ks=t,$e=null;break}e:{var l=e,i=n.return,o=n,d=t;if(t=Ye,o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,p=o,u=p.tag;if(!(p.mode&1)&&(u===0||u===11||u===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var b=Dc(i);if(b!==null){b.flags&=-257,Mc(b,i,o,l,t),b.mode&1&&Ec(l,c,t),t=b,d=c;var m=t.updateQueue;if(m===null){var j=new Set;j.add(d),t.updateQueue=j}else m.add(d);break e}else{if(!(t&1)){Ec(l,c,t),md();break e}d=Error(L(426))}}else if(Se&&o.mode&1){var S=Dc(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Mc(S,i,o,l,t),Yo(wr(d,o));break e}}l=d=wr(d,o),Ue!==4&&(Ue=2),is===null?is=[l]:is.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=cm(l,d,t);wc(l,h);break e;case 1:o=d;var f=l.type,x=l.stateNode;if(!(l.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(xn===null||!xn.has(x)))){l.flags|=65536,t&=-t,l.lanes|=t;var w=um(l,o,t);wc(l,w);break e}}l=l.return}while(l!==null)}Mm(n)}catch(N){t=N,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function Em(){var e=Va.current;return Va.current=qa,e===null?qa:e}function md(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),qe===null||!(zn&268435455)&&!(hl&268435455)||ln(qe,Ye)}function Ka(e,t){var n=de;de|=2;var s=Em();(qe!==e||Ye!==t)&&(Ht=null,Ln(e,t));do try{Xx();break}catch(a){Cm(e,a)}while(!0);if(Ko(),de=n,Va.current=s,$e!==null)throw Error(L(261));return qe=null,Ye=0,Ue}function Xx(){for(;$e!==null;)Dm($e)}function Gx(){for(;$e!==null&&!wh();)Dm($e)}function Dm(e){var t=Rm(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?Mm(e):$e=t,od.current=null}function Mm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Hx(n,t),n!==null){n.flags&=32767,$e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,$e=null;return}}else if(n=Bx(n,t,ft),n!==null){$e=n;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);Ue===0&&(Ue=5)}function Dn(e,t,n){var s=ve,a=wt.transition;try{wt.transition=null,ve=1,Jx(e,t,n,s)}finally{wt.transition=a,ve=s}return null}function Jx(e,t,n,s){do xr();while(dn!==null);if(de&6)throw Error(L(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Rh(e,l),e===qe&&($e=qe=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||aa||(aa=!0,Om(Ma,function(){return xr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=wt.transition,wt.transition=null;var i=ve;ve=1;var o=de;de|=4,od.current=null,Vx(e,n),_m(n,e),yx(Ui),Ra=!!Ii,Ui=Ii=null,e.current=n,Yx(n),Nh(),de=o,ve=i,wt.transition=l}else e.current=n;if(aa&&(aa=!1,dn=e,Qa=a),l=e.pendingLanes,l===0&&(xn=null),Sh(n.stateNode),dt(e,Ae()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(Ya)throw Ya=!1,e=lo,lo=null,e;return Qa&1&&e.tag!==0&&xr(),l=e.pendingLanes,l&1?e===io?os++:(os=0,io=e):os=0,_n(),null}function xr(){if(dn!==null){var e=cf(Qa),t=wt.transition,n=ve;try{if(wt.transition=null,ve=16>e?16:e,dn===null)var s=!1;else{if(e=dn,dn=null,Qa=0,de&6)throw Error(L(331));var a=de;for(de|=4,Y=e.current;Y!==null;){var l=Y,i=l.child;if(Y.flags&16){var o=l.deletions;if(o!==null){for(var d=0;d<o.length;d++){var c=o[d];for(Y=c;Y!==null;){var p=Y;switch(p.tag){case 0:case 11:case 15:ls(8,p,l)}var u=p.child;if(u!==null)u.return=p,Y=u;else for(;Y!==null;){p=Y;var g=p.sibling,b=p.return;if(jm(p),p===c){Y=null;break}if(g!==null){g.return=b,Y=g;break}Y=b}}}var m=l.alternate;if(m!==null){var j=m.child;if(j!==null){m.child=null;do{var S=j.sibling;j.sibling=null,j=S}while(j!==null)}}Y=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,Y=i;else e:for(;Y!==null;){if(l=Y,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ls(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,Y=h;break e}Y=l.return}}var f=e.current;for(Y=f;Y!==null;){i=Y;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,Y=x;else e:for(i=f;Y!==null;){if(o=Y,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:pl(9,o)}}catch(N){Oe(o,o.return,N)}if(o===i){Y=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,Y=w;break e}Y=o.return}}if(de=a,_n(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(ll,e)}catch{}s=!0}return s}finally{ve=n,wt.transition=t}}return!1}function Bc(e,t,n){t=wr(n,t),t=cm(e,t,1),e=hn(e,t,1),t=tt(),e!==null&&(Os(e,1,t),dt(e,t))}function Oe(e,t,n){if(e.tag===3)Bc(e,e,n);else for(;t!==null;){if(t.tag===3){Bc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(xn===null||!xn.has(s))){e=wr(n,e),e=um(t,e,1),t=hn(t,e,1),e=tt(),t!==null&&(Os(t,1,e),dt(t,e));break}}t=t.return}}function Zx(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&n,qe===e&&(Ye&n)===n&&(Ue===4||Ue===3&&(Ye&130023424)===Ye&&500>Ae()-cd?Ln(e,0):dd|=n),dt(e,t)}function Tm(e,t){t===0&&(e.mode&1?(t=Ks,Ks<<=1,!(Ks&130023424)&&(Ks=4194304)):t=1);var n=tt();e=Gt(e,t),e!==null&&(Os(e,t,n),dt(e,n))}function eg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Tm(e,n)}function tg(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(L(314))}s!==null&&s.delete(t),Tm(e,n)}var Rm;Rm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)lt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return lt=!1,Wx(e,t,n);lt=!!(e.flags&131072)}else lt=!1,Se&&t.flags&1048576&&Af(t,Ia,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ya(e,t),e=t.pendingProps;var a=yr(t,Ze.current);hr(t,n),a=rd(null,t,s,e,a,n);var l=sd();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(s)?(l=!0,Fa(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Jo(t),a.updater=ml,t.stateNode=a,a._reactInternals=t,Ki(t,s,e,n),t=Ji(null,t,s,!0,l,n)):(t.tag=0,Se&&l&&qo(t),et(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(ya(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=rg(s),e=St(s,e),a){case 0:t=Gi(null,t,s,e,n);break e;case 1:t=Oc(null,t,s,e,n);break e;case 11:t=Tc(null,t,s,e,n);break e;case 14:t=Rc(null,t,s,St(s.type,e),n);break e}throw Error(L(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:St(s,a),Gi(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:St(s,a),Oc(e,t,s,a,n);case 3:e:{if(hm(t),e===null)throw Error(L(387));s=t.pendingProps,l=t.memoizedState,a=l.element,Wf(e,t),Wa(t,s,null,n);var i=t.memoizedState;if(s=i.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=wr(Error(L(423)),t),t=Pc(e,t,s,n,a);break e}else if(s!==a){a=wr(Error(L(424)),t),t=Pc(e,t,s,n,a);break e}else for(mt=pn(t.stateNode.containerInfo.firstChild),pt=t,Se=!0,Et=null,n=Uf(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vr(),s===a){t=Jt(e,t,n);break e}et(e,t,s,n)}t=t.child}return t;case 5:return Bf(t),e===null&&Vi(t),s=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,zi(s,a)?i=null:l!==null&&zi(s,l)&&(t.flags|=32),pm(e,t),et(e,t,i,n),t.child;case 6:return e===null&&Vi(t),null;case 13:return xm(e,t,n);case 4:return Zo(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=br(t,null,s,n):et(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:St(s,a),Tc(e,t,s,a,n);case 7:return et(e,t,t.pendingProps,n),t.child;case 8:return et(e,t,t.pendingProps.children,n),t.child;case 12:return et(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,je(Ua,s._currentValue),s._currentValue=i,l!==null)if(Tt(l.value,i)){if(l.children===a.children&&!it.current){t=Jt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var d=o.firstContext;d!==null;){if(d.context===s){if(l.tag===1){d=Qt(-1,n&-n),d.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?d.next=d:(d.next=p.next,p.next=d),c.pending=d}}l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),Yi(l.return,n,t),o.lanes|=n;break}d=d.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(L(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Yi(i,n,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}et(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,hr(t,n),a=Nt(a),s=s(a),t.flags|=1,et(e,t,s,n),t.child;case 14:return s=t.type,a=St(s,t.pendingProps),a=St(s.type,a),Rc(e,t,s,a,n);case 15:return fm(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:St(s,a),ya(e,t),t.tag=1,ot(s)?(e=!0,Fa(t)):e=!1,hr(t,n),dm(t,s,a),Ki(t,s,a,n),Ji(null,t,s,!0,e,n);case 19:return gm(e,t,n);case 22:return mm(e,t,n)}throw Error(L(156,t.tag))};function Om(e,t){return af(e,t)}function ng(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,n,s){return new ng(e,t,n,s)}function pd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rg(e){if(typeof e=="function")return pd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Oo)return 11;if(e===Po)return 14}return 2}function yn(e,t){var n=e.alternate;return n===null?(n=jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ja(e,t,n,s,a,l){var i=2;if(s=e,typeof e=="function")pd(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case er:return An(n.children,a,l,t);case Ro:i=8,a|=8;break;case vi:return e=jt(12,n,t,a|2),e.elementType=vi,e.lanes=l,e;case bi:return e=jt(13,n,t,a),e.elementType=bi,e.lanes=l,e;case ji:return e=jt(19,n,t,a),e.elementType=ji,e.lanes=l,e;case Wu:return xl(n,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Uu:i=10;break e;case zu:i=9;break e;case Oo:i=11;break e;case Po:i=14;break e;case rn:i=16,s=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=jt(i,n,t,a),t.elementType=e,t.type=s,t.lanes=l,t}function An(e,t,n,s){return e=jt(7,e,s,t),e.lanes=n,e}function xl(e,t,n,s){return e=jt(22,e,s,t),e.elementType=Wu,e.lanes=n,e.stateNode={isHidden:!1},e}function li(e,t,n){return e=jt(6,e,null,t),e.lanes=n,e}function ii(e,t,n){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sg(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zl(0),this.expirationTimes=zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function hd(e,t,n,s,a,l,i,o,d){return e=new sg(e,t,n,o,d),t===1?(t=1,l===!0&&(t|=8)):t=0,l=jt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jo(l),e}function ag(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Pm(e){if(!e)return jn;e=e._reactInternals;e:{if(Qn(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(ot(n))return Pf(e,n,t)}return t}function Lm(e,t,n,s,a,l,i,o,d){return e=hd(n,s,!0,e,a,l,i,o,d),e.context=Pm(null),n=e.current,s=tt(),a=gn(n),l=Qt(s,a),l.callback=t??null,hn(n,l,a),e.current.lanes=a,Os(e,a,s),dt(e,s),e}function gl(e,t,n,s){var a=t.current,l=tt(),i=gn(a);return n=Pm(n),t.context===null?t.context=n:t.pendingContext=n,t=Qt(l,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=hn(a,t,i),e!==null&&(Mt(e,a,i,l),ha(e,a,i)),i}function Xa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xd(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}function lg(){return null}var Am=typeof reportError=="function"?reportError:function(e){console.error(e)};function gd(e){this._internalRoot=e}yl.prototype.render=gd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));gl(e,t,null,null)};yl.prototype.unmount=gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wn(function(){gl(null,e,null,null)}),t[Xt]=null}};function yl(e){this._internalRoot=e}yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=mf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<an.length&&t!==0&&t<an[n].priority;n++);an.splice(n,0,e),n===0&&hf(e)}};function yd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qc(){}function ig(e,t,n,s,a){if(a){if(typeof s=="function"){var l=s;s=function(){var c=Xa(i);l.call(c)}}var i=Lm(t,s,e,0,null,!1,!1,"",qc);return e._reactRootContainer=i,e[Xt]=i.current,gs(e.nodeType===8?e.parentNode:e),Wn(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var o=s;s=function(){var c=Xa(d);o.call(c)}}var d=hd(e,0,!1,null,null,!1,!1,"",qc);return e._reactRootContainer=d,e[Xt]=d.current,gs(e.nodeType===8?e.parentNode:e),Wn(function(){gl(t,d,n,s)}),d}function bl(e,t,n,s,a){var l=n._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var d=Xa(i);o.call(d)}}gl(t,i,e,a)}else i=ig(n,t,e,a,s);return Xa(i)}uf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jr(t.pendingLanes);n!==0&&(Fo(t,n|1),dt(t,Ae()),!(de&6)&&(Nr=Ae()+500,_n()))}break;case 13:Wn(function(){var s=Gt(e,1);if(s!==null){var a=tt();Mt(s,e,1,a)}}),xd(e,1)}};$o=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var n=tt();Mt(t,e,134217728,n)}xd(e,134217728)}};ff=function(e){if(e.tag===13){var t=gn(e),n=Gt(e,t);if(n!==null){var s=tt();Mt(n,e,t,s)}xd(e,t)}};mf=function(){return ve};pf=function(e,t){var n=ve;try{return ve=e,t()}finally{ve=n}};Ti=function(e,t,n){switch(t){case"input":if(_i(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=cl(s);if(!a)throw Error(L(90));Hu(s),_i(s,a)}}}break;case"textarea":Vu(e,n);break;case"select":t=n.value,t!=null&&ur(e,!!n.multiple,t,!1)}};Zu=ud;ef=Wn;var og={usingClientEntryPoint:!1,Events:[Ls,sr,cl,Gu,Ju,ud]},qr={findFiberByHostInstance:Tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dg={bundleType:qr.bundleType,version:qr.version,rendererPackageName:qr.rendererPackageName,rendererConfig:qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rf(e),e===null?null:e.stateNode},findFiberByHostInstance:qr.findFiberByHostInstance||lg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var la=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!la.isDisabled&&la.supportsFiber)try{ll=la.inject(dg),zt=la}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=og;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yd(t))throw Error(L(200));return ag(e,t,null,n)};xt.createRoot=function(e,t){if(!yd(e))throw Error(L(299));var n=!1,s="",a=Am;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=hd(e,1,!1,null,null,n,!1,s,a),e[Xt]=t.current,gs(e.nodeType===8?e.parentNode:e),new gd(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=rf(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return Wn(e)};xt.hydrate=function(e,t,n){if(!vl(t))throw Error(L(200));return bl(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!yd(e))throw Error(L(405));var s=n!=null&&n.hydratedSources||null,a=!1,l="",i=Am;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Lm(t,null,e,1,n??null,a,!1,l,i),e[Xt]=t.current,gs(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new yl(t)};xt.render=function(e,t,n){if(!vl(t))throw Error(L(200));return bl(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!vl(e))throw Error(L(40));return e._reactRootContainer?(Wn(function(){bl(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};xt.unstable_batchedUpdates=ud;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!vl(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return bl(e,t,n,!1,s)};xt.version="18.3.1-next-f1338f8080-20240426";function Fm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fm)}catch(e){console.error(e)}}Fm(),Au.exports=xt;var cg=Au.exports,Vc=cg;gi.createRoot=Vc.createRoot,gi.hydrateRoot=Vc.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ss.apply(this,arguments)}var cn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(cn||(cn={}));const Yc="popstate";function ug(e){e===void 0&&(e={});function t(s,a){let{pathname:l,search:i,hash:o}=s.location;return uo("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Ga(a)}return mg(t,n,null,e)}function Me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fg(){return Math.random().toString(36).substr(2,8)}function Qc(e,t){return{usr:e.state,key:e.key,idx:t}}function uo(e,t,n,s){return n===void 0&&(n=null),Ss({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Dr(t):t,{state:n,key:t&&t.key||s||fg()})}function Ga(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Dr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function mg(e,t,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:l=!1}=s,i=a.history,o=cn.Pop,d=null,c=p();c==null&&(c=0,i.replaceState(Ss({},i.state,{idx:c}),""));function p(){return(i.state||{idx:null}).idx}function u(){o=cn.Pop;let S=p(),h=S==null?null:S-c;c=S,d&&d({action:o,location:j.location,delta:h})}function g(S,h){o=cn.Push;let f=uo(j.location,S,h);c=p()+1;let x=Qc(f,c),w=j.createHref(f);try{i.pushState(x,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(w)}l&&d&&d({action:o,location:j.location,delta:1})}function b(S,h){o=cn.Replace;let f=uo(j.location,S,h);c=p();let x=Qc(f,c),w=j.createHref(f);i.replaceState(x,"",w),l&&d&&d({action:o,location:j.location,delta:0})}function m(S){let h=a.location.origin!=="null"?a.location.origin:a.location.href,f=typeof S=="string"?S:Ga(S);return f=f.replace(/ $/,"%20"),Me(h,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,h)}let j={get action(){return o},get location(){return e(a,i)},listen(S){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Yc,u),d=S,()=>{a.removeEventListener(Yc,u),d=null}},createHref(S){return t(a,S)},createURL:m,encodeLocation(S){let h=m(S);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:g,replace:b,go(S){return i.go(S)}};return j}var Kc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kc||(Kc={}));function pg(e,t,n){return n===void 0&&(n="/"),hg(e,t,n)}function hg(e,t,n,s){let a=typeof t=="string"?Dr(t):t,l=_r(a.pathname||"/",n);if(l==null)return null;let i=$m(e);xg(i);let o=null;for(let d=0;o==null&&d<i.length;++d){let c=Cg(l);o=kg(i[d],c)}return o}function $m(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(l,i,o)=>{let d={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};d.relativePath.startsWith("/")&&(Me(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let c=vn([s,d.relativePath]),p=n.concat(d);l.children&&l.children.length>0&&(Me(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),$m(l.children,t,p,c)),!(l.path==null&&!l.index)&&t.push({path:c,score:Ng(c,l.index),routesMeta:p})};return e.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let d of Im(l.path))a(l,i,d)}),t}function Im(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let i=Im(s.join("/")),o=[];return o.push(...i.map(d=>d===""?l:[l,d].join("/"))),a&&o.push(...i),o.map(d=>e.startsWith("/")&&d===""?"/":d)}function xg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_g(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const gg=/^:[\w-]+$/,yg=3,vg=2,bg=1,jg=10,wg=-2,Xc=e=>e==="*";function Ng(e,t){let n=e.split("/"),s=n.length;return n.some(Xc)&&(s+=wg),t&&(s+=vg),n.filter(a=>!Xc(a)).reduce((a,l)=>a+(gg.test(l)?yg:l===""?bg:jg),s)}function _g(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function kg(e,t,n){let{routesMeta:s}=e,a={},l="/",i=[];for(let o=0;o<s.length;++o){let d=s[o],c=o===s.length-1,p=l==="/"?t:t.slice(l.length)||"/",u=fo({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},p),g=d.route;if(!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:vn([l,u.pathname]),pathnameBase:Rg(vn([l,u.pathnameBase])),route:g}),u.pathnameBase!=="/"&&(l=vn([l,u.pathnameBase]))}return i}function fo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Sg(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:s.reduce((c,p,u)=>{let{paramName:g,isOptional:b}=p;if(g==="*"){let j=o[u]||"";i=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const m=o[u];return b&&!m?c[g]=void 0:c[g]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:l,pathnameBase:i,pattern:e}}function Sg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),vd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,d)=>(s.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function Cg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _r(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}const Eg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dg=e=>Eg.test(e);function Mg(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Dr(e):e,l;if(n)if(Dg(n))l=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),vd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+n))}n.startsWith("/")?l=Gc(n.substring(1),"/"):l=Gc(n,t)}else l=t;return{pathname:l,search:Og(s),hash:Pg(a)}}function Gc(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function oi(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function bd(e,t){let n=Tg(e);return t?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function jd(e,t,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Dr(e):(a=Ss({},e),Me(!a.pathname||!a.pathname.includes("?"),oi("?","pathname","search",a)),Me(!a.pathname||!a.pathname.includes("#"),oi("#","pathname","hash",a)),Me(!a.search||!a.search.includes("#"),oi("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=n;else{let u=t.length-1;if(!s&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),u-=1;a.pathname=g.join("/")}o=u>=0?t[u]:"/"}let d=Mg(a,o),c=i&&i!=="/"&&i.endsWith("/"),p=(l||i===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(c||p)&&(d.pathname+="/"),d}const vn=e=>e.join("/").replace(/\/\/+/g,"/"),Rg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Og=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Pg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Lg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Um=["post","put","patch","delete"];new Set(Um);const Ag=["get",...Um];new Set(Ag);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Cs.apply(this,arguments)}const jl=y.createContext(null),zm=y.createContext(null),en=y.createContext(null),wl=y.createContext(null),kn=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Wm=y.createContext(null);function Fg(e,t){let{relative:n}=t===void 0?{}:t;Mr()||Me(!1);let{basename:s,navigator:a}=y.useContext(en),{hash:l,pathname:i,search:o}=Nl(e,{relative:n}),d=i;return s!=="/"&&(d=i==="/"?s:vn([s,i])),a.createHref({pathname:d,search:o,hash:l})}function Mr(){return y.useContext(wl)!=null}function Tr(){return Mr()||Me(!1),y.useContext(wl).location}function Bm(e){y.useContext(en).static||y.useLayoutEffect(e)}function wd(){let{isDataRoute:e}=y.useContext(kn);return e?Xg():$g()}function $g(){Mr()||Me(!1);let e=y.useContext(jl),{basename:t,future:n,navigator:s}=y.useContext(en),{matches:a}=y.useContext(kn),{pathname:l}=Tr(),i=JSON.stringify(bd(a,n.v7_relativeSplatPath)),o=y.useRef(!1);return Bm(()=>{o.current=!0}),y.useCallback(function(c,p){if(p===void 0&&(p={}),!o.current)return;if(typeof c=="number"){s.go(c);return}let u=jd(c,JSON.parse(i),l,p.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:vn([t,u.pathname])),(p.replace?s.replace:s.push)(u,p.state,p)},[t,s,i,l,e])}function Nl(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=y.useContext(en),{matches:a}=y.useContext(kn),{pathname:l}=Tr(),i=JSON.stringify(bd(a,s.v7_relativeSplatPath));return y.useMemo(()=>jd(e,JSON.parse(i),l,n==="path"),[e,i,l,n])}function Ig(e,t){return Ug(e,t)}function Ug(e,t,n,s){Mr()||Me(!1);let{navigator:a}=y.useContext(en),{matches:l}=y.useContext(kn),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let d=i?i.pathnameBase:"/";i&&i.route;let c=Tr(),p;if(t){var u;let S=typeof t=="string"?Dr(t):t;d==="/"||(u=S.pathname)!=null&&u.startsWith(d)||Me(!1),p=S}else p=c;let g=p.pathname||"/",b=g;if(d!=="/"){let S=d.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let m=pg(e,{pathname:b}),j=qg(m&&m.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:vn([d,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:vn([d,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),l,n,s);return t&&j?y.createElement(wl.Provider,{value:{location:Cs({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:cn.Pop}},j):j}function zg(){let e=Kg(),t=Lg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:a},n):null,null)}const Wg=y.createElement(zg,null);class Bg extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(kn.Provider,{value:this.props.routeContext},y.createElement(Wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Hg(e){let{routeContext:t,match:n,children:s}=e,a=y.useContext(jl);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(kn.Provider,{value:t},s)}function qg(e,t,n,s){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(a=n)==null?void 0:a.errors;if(o!=null){let p=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);p>=0||Me(!1),i=i.slice(0,Math.min(i.length,p+1))}let d=!1,c=-1;if(n&&s&&s.v7_partialHydration)for(let p=0;p<i.length;p++){let u=i[p];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=p),u.route.id){let{loaderData:g,errors:b}=n,m=u.route.loader&&g[u.route.id]===void 0&&(!b||b[u.route.id]===void 0);if(u.route.lazy||m){d=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((p,u,g)=>{let b,m=!1,j=null,S=null;n&&(b=o&&u.route.id?o[u.route.id]:void 0,j=u.route.errorElement||Wg,d&&(c<0&&g===0?(Gg("route-fallback"),m=!0,S=null):c===g&&(m=!0,S=u.route.hydrateFallbackElement||null)));let h=t.concat(i.slice(0,g+1)),f=()=>{let x;return b?x=j:m?x=S:u.route.Component?x=y.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=p,y.createElement(Hg,{match:u,routeContext:{outlet:p,matches:h,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||g===0)?y.createElement(Bg,{location:n.location,revalidation:n.revalidation,component:j,error:b,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var Hm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Hm||{}),qm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qm||{});function Vg(e){let t=y.useContext(jl);return t||Me(!1),t}function Yg(e){let t=y.useContext(zm);return t||Me(!1),t}function Qg(e){let t=y.useContext(kn);return t||Me(!1),t}function Vm(e){let t=Qg(),n=t.matches[t.matches.length-1];return n.route.id||Me(!1),n.route.id}function Kg(){var e;let t=y.useContext(Wm),n=Yg(),s=Vm();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function Xg(){let{router:e}=Vg(Hm.UseNavigateStable),t=Vm(qm.UseNavigateStable),n=y.useRef(!1);return Bm(()=>{n.current=!0}),y.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Cs({fromRouteId:t},l)))},[e,t])}const Jc={};function Gg(e,t,n){Jc[e]||(Jc[e]=!0)}function Jg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Es(e){let{to:t,replace:n,state:s,relative:a}=e;Mr()||Me(!1);let{future:l,static:i}=y.useContext(en),{matches:o}=y.useContext(kn),{pathname:d}=Tr(),c=wd(),p=jd(t,bd(o,l.v7_relativeSplatPath),d,a==="path"),u=JSON.stringify(p);return y.useEffect(()=>c(JSON.parse(u),{replace:n,state:s,relative:a}),[c,u,a,n,s]),null}function be(e){Me(!1)}function Zg(e){let{basename:t="/",children:n=null,location:s,navigationType:a=cn.Pop,navigator:l,static:i=!1,future:o}=e;Mr()&&Me(!1);let d=t.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:d,navigator:l,static:i,future:Cs({v7_relativeSplatPath:!1},o)}),[d,o,l,i]);typeof s=="string"&&(s=Dr(s));let{pathname:p="/",search:u="",hash:g="",state:b=null,key:m="default"}=s,j=y.useMemo(()=>{let S=_r(p,d);return S==null?null:{location:{pathname:S,search:u,hash:g,state:b,key:m},navigationType:a}},[d,p,u,g,b,m,a]);return j==null?null:y.createElement(en.Provider,{value:c},y.createElement(wl.Provider,{children:n,value:j}))}function _l(e){let{children:t,location:n}=e;return Ig(mo(t),n)}new Promise(()=>{});function mo(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(s,a)=>{if(!y.isValidElement(s))return;let l=[...t,a];if(s.type===y.Fragment){n.push.apply(n,mo(s.props.children,l));return}s.type!==be&&Me(!1),!s.props.index||!s.props.children||Me(!1);let i={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=mo(s.props.children,l)),n.push(i)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ja(){return Ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ja.apply(this,arguments)}function Ym(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,l;for(l=0;l<s.length;l++)a=s[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function e0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function t0(e,t){return e.button===0&&(!t||t==="_self")&&!e0(e)}const n0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],r0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],s0="6";try{window.__reactRouterVersion=s0}catch{}const a0=y.createContext({isTransitioning:!1}),l0="startTransition",Zc=Zp[l0];function i0(e){let{basename:t,children:n,future:s,window:a}=e,l=y.useRef();l.current==null&&(l.current=ug({window:a,v5Compat:!0}));let i=l.current,[o,d]=y.useState({action:i.action,location:i.location}),{v7_startTransition:c}=s||{},p=y.useCallback(u=>{c&&Zc?Zc(()=>d(u)):d(u)},[d,c]);return y.useLayoutEffect(()=>i.listen(p),[i,p]),y.useEffect(()=>Jg(s),[s]),y.createElement(Zg,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:s})}const o0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c0=y.forwardRef(function(t,n){let{onClick:s,relative:a,reloadDocument:l,replace:i,state:o,target:d,to:c,preventScrollReset:p,viewTransition:u}=t,g=Ym(t,n0),{basename:b}=y.useContext(en),m,j=!1;if(typeof c=="string"&&d0.test(c)&&(m=c,o0))try{let x=new URL(window.location.href),w=c.startsWith("//")?new URL(x.protocol+c):new URL(c),N=_r(w.pathname,b);w.origin===x.origin&&N!=null?c=N+w.search+w.hash:j=!0}catch{}let S=Fg(c,{relative:a}),h=m0(c,{replace:i,state:o,target:d,preventScrollReset:p,relative:a,viewTransition:u});function f(x){s&&s(x),x.defaultPrevented||h(x)}return y.createElement("a",Ja({},g,{href:m||S,onClick:j||l?s:f,ref:n,target:d}))}),u0=y.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:a=!1,className:l="",end:i=!1,style:o,to:d,viewTransition:c,children:p}=t,u=Ym(t,r0),g=Nl(d,{relative:u.relative}),b=Tr(),m=y.useContext(zm),{navigator:j,basename:S}=y.useContext(en),h=m!=null&&p0(g)&&c===!0,f=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,x=b.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(x=x.toLowerCase(),w=w?w.toLowerCase():null,f=f.toLowerCase()),w&&S&&(w=_r(w,S)||w);const N=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let E=x===f||!i&&x.startsWith(f)&&x.charAt(N)==="/",v=w!=null&&(w===f||!i&&w.startsWith(f)&&w.charAt(f.length)==="/"),k={isActive:E,isPending:v,isTransitioning:h},R=E?s:void 0,O;typeof l=="function"?O=l(k):O=[l,E?"active":null,v?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let F=typeof o=="function"?o(k):o;return y.createElement(c0,Ja({},u,{"aria-current":R,className:O,ref:n,style:F,to:d,viewTransition:c}),typeof p=="function"?p(k):p)});var po;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(po||(po={}));var eu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(eu||(eu={}));function f0(e){let t=y.useContext(jl);return t||Me(!1),t}function m0(e,t){let{target:n,replace:s,state:a,preventScrollReset:l,relative:i,viewTransition:o}=t===void 0?{}:t,d=wd(),c=Tr(),p=Nl(e,{relative:i});return y.useCallback(u=>{if(t0(u,n)){u.preventDefault();let g=s!==void 0?s:Ga(c)===Ga(p);d(e,{replace:g,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[c,d,p,s,a,n,e,l,i,o])}function p0(e,t){t===void 0&&(t={});let n=y.useContext(a0);n==null&&Me(!1);let{basename:s}=f0(po.useViewTransitionState),a=Nl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=_r(n.currentLocation.pathname,s)||n.currentLocation.pathname,i=_r(n.nextLocation.pathname,s)||n.nextLocation.pathname;return fo(a.pathname,i)!=null||fo(a.pathname,l)!=null}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var h0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),fe=(e,t)=>{const n=y.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:d,...c},p)=>y.createElement("svg",{ref:p,...h0,width:a,height:a,stroke:s,strokeWidth:i?Number(l)*24/Number(a):l,className:["lucide",`lucide-${x0(e)}`,o].join(" "),...c},[...t.map(([u,g])=>y.createElement(u,g)),...Array.isArray(d)?d:[d]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=fe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=fe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=fe("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=fe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=fe("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=fe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=fe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=fe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=fe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=fe("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=fe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=fe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=fe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=fe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=fe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Xm(e,t){return function(){return e.apply(t,arguments)}}const{toString:w0}=Object.prototype,{getPrototypeOf:Sd}=Object,{iterator:Sl,toStringTag:Gm}=Symbol,Cl=(e=>t=>{const n=w0.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Pt=e=>(e=e.toLowerCase(),t=>Cl(t)===e),El=e=>t=>typeof t===e,{isArray:Rr}=Array,kr=El("undefined");function Fs(e){return e!==null&&!kr(e)&&e.constructor!==null&&!kr(e.constructor)&&ct(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Jm=Pt("ArrayBuffer");function N0(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Jm(e.buffer),t}const _0=El("string"),ct=El("function"),Zm=El("number"),$s=e=>e!==null&&typeof e=="object",k0=e=>e===!0||e===!1,Na=e=>{if(Cl(e)!=="object")return!1;const t=Sd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Gm in e)&&!(Sl in e)},S0=e=>{if(!$s(e)||Fs(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},C0=Pt("Date"),E0=Pt("File"),D0=Pt("Blob"),M0=Pt("FileList"),T0=e=>$s(e)&&ct(e.pipe),R0=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ct(e.append)&&((t=Cl(e))==="formdata"||t==="object"&&ct(e.toString)&&e.toString()==="[object FormData]"))},O0=Pt("URLSearchParams"),[P0,L0,A0,F0]=["ReadableStream","Request","Response","Headers"].map(Pt),$0=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Is(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),Rr(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(Fs(e))return;const l=n?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let o;for(s=0;s<i;s++)o=l[s],t.call(null,e[o],o,e)}}function ep(e,t){if(Fs(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,a;for(;s-- >0;)if(a=n[s],t===a.toLowerCase())return a;return null}const Pn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tp=e=>!kr(e)&&e!==Pn;function vo(){const{caseless:e,skipUndefined:t}=tp(this)&&this||{},n={},s=(a,l)=>{const i=e&&ep(n,l)||l;Na(n[i])&&Na(a)?n[i]=vo(n[i],a):Na(a)?n[i]=vo({},a):Rr(a)?n[i]=a.slice():(!t||!kr(a))&&(n[i]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Is(arguments[a],s);return n}const I0=(e,t,n,{allOwnKeys:s}={})=>(Is(t,(a,l)=>{n&&ct(a)?e[l]=Xm(a,n):e[l]=a},{allOwnKeys:s}),e),U0=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),z0=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},W0=(e,t,n,s)=>{let a,l,i;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)i=a[l],(!s||s(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=n!==!1&&Sd(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},B0=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},H0=e=>{if(!e)return null;if(Rr(e))return e;let t=e.length;if(!Zm(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},q0=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Sd(Uint8Array)),V0=(e,t)=>{const s=(e&&e[Sl]).call(e);let a;for(;(a=s.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},Y0=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Q0=Pt("HTMLFormElement"),K0=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,a){return s.toUpperCase()+a}),nu=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),X0=Pt("RegExp"),np=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Is(n,(a,l)=>{let i;(i=t(a,l,e))!==!1&&(s[l]=i||a)}),Object.defineProperties(e,s)},G0=e=>{np(e,(t,n)=>{if(ct(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(ct(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},J0=(e,t)=>{const n={},s=a=>{a.forEach(l=>{n[l]=!0})};return Rr(e)?s(e):s(String(e).split(t)),n},Z0=()=>{},ey=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function ty(e){return!!(e&&ct(e.append)&&e[Gm]==="FormData"&&e[Sl])}const ny=e=>{const t=new Array(10),n=(s,a)=>{if($s(s)){if(t.indexOf(s)>=0)return;if(Fs(s))return s;if(!("toJSON"in s)){t[a]=s;const l=Rr(s)?[]:{};return Is(s,(i,o)=>{const d=n(i,a+1);!kr(d)&&(l[o]=d)}),t[a]=void 0,l}}return s};return n(e,0)},ry=Pt("AsyncFunction"),sy=e=>e&&($s(e)||ct(e))&&ct(e.then)&&ct(e.catch),rp=((e,t)=>e?setImmediate:t?((n,s)=>(Pn.addEventListener("message",({source:a,data:l})=>{a===Pn&&l===n&&s.length&&s.shift()()},!1),a=>{s.push(a),Pn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ct(Pn.postMessage)),ay=typeof queueMicrotask<"u"?queueMicrotask.bind(Pn):typeof process<"u"&&process.nextTick||rp,ly=e=>e!=null&&ct(e[Sl]),D={isArray:Rr,isArrayBuffer:Jm,isBuffer:Fs,isFormData:R0,isArrayBufferView:N0,isString:_0,isNumber:Zm,isBoolean:k0,isObject:$s,isPlainObject:Na,isEmptyObject:S0,isReadableStream:P0,isRequest:L0,isResponse:A0,isHeaders:F0,isUndefined:kr,isDate:C0,isFile:E0,isBlob:D0,isRegExp:X0,isFunction:ct,isStream:T0,isURLSearchParams:O0,isTypedArray:q0,isFileList:M0,forEach:Is,merge:vo,extend:I0,trim:$0,stripBOM:U0,inherits:z0,toFlatObject:W0,kindOf:Cl,kindOfTest:Pt,endsWith:B0,toArray:H0,forEachEntry:V0,matchAll:Y0,isHTMLForm:Q0,hasOwnProperty:nu,hasOwnProp:nu,reduceDescriptors:np,freezeMethods:G0,toObjectSet:J0,toCamelCase:K0,noop:Z0,toFiniteNumber:ey,findKey:ep,global:Pn,isContextDefined:tp,isSpecCompliantForm:ty,toJSONObject:ny,isAsyncFn:ry,isThenable:sy,setImmediate:rp,asap:ay,isIterable:ly};function re(e,t,n,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}D.inherits(re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.status}}});const sp=re.prototype,ap={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ap[e]={value:e}});Object.defineProperties(re,ap);Object.defineProperty(sp,"isAxiosError",{value:!0});re.from=(e,t,n,s,a,l)=>{const i=Object.create(sp);D.toFlatObject(e,i,function(p){return p!==Error.prototype},c=>c!=="isAxiosError");const o=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return re.call(i,o,d,n,s,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",l&&Object.assign(i,l),i};const iy=null;function bo(e){return D.isPlainObject(e)||D.isArray(e)}function lp(e){return D.endsWith(e,"[]")?e.slice(0,-2):e}function ru(e,t,n){return e?e.concat(t).map(function(a,l){return a=lp(a),!n&&l?"["+a+"]":a}).join(n?".":""):t}function oy(e){return D.isArray(e)&&!e.some(bo)}const dy=D.toFlatObject(D,{},null,function(t){return/^is[A-Z]/.test(t)});function Dl(e,t,n){if(!D.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=D.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,S){return!D.isUndefined(S[j])});const s=n.metaTokens,a=n.visitor||p,l=n.dots,i=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(t);if(!D.isFunction(a))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(D.isDate(m))return m.toISOString();if(D.isBoolean(m))return m.toString();if(!d&&D.isBlob(m))throw new re("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(m)||D.isTypedArray(m)?d&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function p(m,j,S){let h=m;if(m&&!S&&typeof m=="object"){if(D.endsWith(j,"{}"))j=s?j:j.slice(0,-2),m=JSON.stringify(m);else if(D.isArray(m)&&oy(m)||(D.isFileList(m)||D.endsWith(j,"[]"))&&(h=D.toArray(m)))return j=lp(j),h.forEach(function(x,w){!(D.isUndefined(x)||x===null)&&t.append(i===!0?ru([j],w,l):i===null?j:j+"[]",c(x))}),!1}return bo(m)?!0:(t.append(ru(S,j,l),c(m)),!1)}const u=[],g=Object.assign(dy,{defaultVisitor:p,convertValue:c,isVisitable:bo});function b(m,j){if(!D.isUndefined(m)){if(u.indexOf(m)!==-1)throw Error("Circular reference detected in "+j.join("."));u.push(m),D.forEach(m,function(h,f){(!(D.isUndefined(h)||h===null)&&a.call(t,h,D.isString(f)?f.trim():f,j,g))===!0&&b(h,j?j.concat(f):[f])}),u.pop()}}if(!D.isObject(e))throw new TypeError("data must be an object");return b(e),t}function su(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Cd(e,t){this._pairs=[],e&&Dl(e,this,t)}const ip=Cd.prototype;ip.append=function(t,n){this._pairs.push([t,n])};ip.toString=function(t){const n=t?function(s){return t.call(this,s,su)}:su;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function cy(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function op(e,t,n){if(!t)return e;const s=n&&n.encode||cy;D.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(t,n):l=D.isURLSearchParams(t)?t.toString():new Cd(t,n).toString(s),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class au{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){D.forEach(this.handlers,function(s){s!==null&&t(s)})}}const dp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uy=typeof URLSearchParams<"u"?URLSearchParams:Cd,fy=typeof FormData<"u"?FormData:null,my=typeof Blob<"u"?Blob:null,py={isBrowser:!0,classes:{URLSearchParams:uy,FormData:fy,Blob:my},protocols:["http","https","file","blob","url","data"]},Ed=typeof window<"u"&&typeof document<"u",jo=typeof navigator=="object"&&navigator||void 0,hy=Ed&&(!jo||["ReactNative","NativeScript","NS"].indexOf(jo.product)<0),xy=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gy=Ed&&window.location.href||"http://localhost",yy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ed,hasStandardBrowserEnv:hy,hasStandardBrowserWebWorkerEnv:xy,navigator:jo,origin:gy},Symbol.toStringTag,{value:"Module"})),Je={...yy,...py};function vy(e,t){return Dl(e,new Je.classes.URLSearchParams,{visitor:function(n,s,a,l){return Je.isNode&&D.isBuffer(n)?(this.append(s,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function by(e){return D.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function jy(e){const t={},n=Object.keys(e);let s;const a=n.length;let l;for(s=0;s<a;s++)l=n[s],t[l]=e[l];return t}function cp(e){function t(n,s,a,l){let i=n[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),d=l>=n.length;return i=!i&&D.isArray(a)?a.length:i,d?(D.hasOwnProp(a,i)?a[i]=[a[i],s]:a[i]=s,!o):((!a[i]||!D.isObject(a[i]))&&(a[i]=[]),t(n,s,a[i],l)&&D.isArray(a[i])&&(a[i]=jy(a[i])),!o)}if(D.isFormData(e)&&D.isFunction(e.entries)){const n={};return D.forEachEntry(e,(s,a)=>{t(by(s),a,n,0)}),n}return null}function wy(e,t,n){if(D.isString(e))try{return(t||JSON.parse)(e),D.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Us={transitional:dp,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",a=s.indexOf("application/json")>-1,l=D.isObject(t);if(l&&D.isHTMLForm(t)&&(t=new FormData(t)),D.isFormData(t))return a?JSON.stringify(cp(t)):t;if(D.isArrayBuffer(t)||D.isBuffer(t)||D.isStream(t)||D.isFile(t)||D.isBlob(t)||D.isReadableStream(t))return t;if(D.isArrayBufferView(t))return t.buffer;if(D.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return vy(t,this.formSerializer).toString();if((o=D.isFileList(t))||s.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Dl(o?{"files[]":t}:t,d&&new d,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),wy(t)):t}],transformResponse:[function(t){const n=this.transitional||Us.transitional,s=n&&n.forcedJSONParsing,a=this.responseType==="json";if(D.isResponse(t)||D.isReadableStream(t))return t;if(t&&D.isString(t)&&(s&&!this.responseType||a)){const i=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?re.from(o,re.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Je.classes.FormData,Blob:Je.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],e=>{Us.headers[e]={}});const Ny=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_y=e=>{const t={};let n,s,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),n=i.substring(0,a).trim().toLowerCase(),s=i.substring(a+1).trim(),!(!n||t[n]&&Ny[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},lu=Symbol("internals");function Vr(e){return e&&String(e).trim().toLowerCase()}function _a(e){return e===!1||e==null?e:D.isArray(e)?e.map(_a):String(e)}function ky(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Sy=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ui(e,t,n,s,a){if(D.isFunction(s))return s.call(this,t,n);if(a&&(t=n),!!D.isString(t)){if(D.isString(s))return t.indexOf(s)!==-1;if(D.isRegExp(s))return s.test(t)}}function Cy(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Ey(e,t){const n=D.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(a,l,i){return this[s].call(this,t,a,l,i)},configurable:!0})})}let ut=class{constructor(t){t&&this.set(t)}set(t,n,s){const a=this;function l(o,d,c){const p=Vr(d);if(!p)throw new Error("header name must be a non-empty string");const u=D.findKey(a,p);(!u||a[u]===void 0||c===!0||c===void 0&&a[u]!==!1)&&(a[u||d]=_a(o))}const i=(o,d)=>D.forEach(o,(c,p)=>l(c,p,d));if(D.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(D.isString(t)&&(t=t.trim())&&!Sy(t))i(_y(t),n);else if(D.isObject(t)&&D.isIterable(t)){let o={},d,c;for(const p of t){if(!D.isArray(p))throw TypeError("Object iterator must return a key-value pair");o[c=p[0]]=(d=o[c])?D.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}i(o,n)}else t!=null&&l(n,t,s);return this}get(t,n){if(t=Vr(t),t){const s=D.findKey(this,t);if(s){const a=this[s];if(!n)return a;if(n===!0)return ky(a);if(D.isFunction(n))return n.call(this,a,s);if(D.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Vr(t),t){const s=D.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||ui(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let a=!1;function l(i){if(i=Vr(i),i){const o=D.findKey(s,i);o&&(!n||ui(s,s[o],o,n))&&(delete s[o],a=!0)}}return D.isArray(t)?t.forEach(l):l(t),a}clear(t){const n=Object.keys(this);let s=n.length,a=!1;for(;s--;){const l=n[s];(!t||ui(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const n=this,s={};return D.forEach(this,(a,l)=>{const i=D.findKey(s,l);if(i){n[i]=_a(a),delete n[l];return}const o=t?Cy(l):String(l).trim();o!==l&&delete n[l],n[o]=_a(a),s[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return D.forEach(this,(s,a)=>{s!=null&&s!==!1&&(n[a]=t&&D.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[lu]=this[lu]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=Vr(i);s[o]||(Ey(a,i),s[o]=!0)}return D.isArray(t)?t.forEach(l):l(t),this}};ut.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(ut.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});D.freezeMethods(ut);function fi(e,t){const n=this||Us,s=t||n,a=ut.from(s.headers);let l=s.data;return D.forEach(e,function(o){l=o.call(n,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function up(e){return!!(e&&e.__CANCEL__)}function Or(e,t,n){re.call(this,e??"canceled",re.ERR_CANCELED,t,n),this.name="CanceledError"}D.inherits(Or,re,{__CANCEL__:!0});function fp(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new re("Request failed with status code "+n.status,[re.ERR_BAD_REQUEST,re.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Dy(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function My(e,t){e=e||10;const n=new Array(e),s=new Array(e);let a=0,l=0,i;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),p=s[l];i||(i=c),n[a]=d,s[a]=c;let u=l,g=0;for(;u!==a;)g+=n[u++],u=u%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),c-i<t)return;const b=p&&c-p;return b?Math.round(g*1e3/b):void 0}}function Ty(e,t){let n=0,s=1e3/t,a,l;const i=(c,p=Date.now())=>{n=p,a=null,l&&(clearTimeout(l),l=null),e(...c)};return[(...c)=>{const p=Date.now(),u=p-n;u>=s?i(c,p):(a=c,l||(l=setTimeout(()=>{l=null,i(a)},s-u)))},()=>a&&i(a)]}const tl=(e,t,n=3)=>{let s=0;const a=My(50,250);return Ty(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,d=i-s,c=a(d),p=i<=o;s=i;const u={loaded:i,total:o,progress:o?i/o:void 0,bytes:d,rate:c||void 0,estimated:c&&o&&p?(o-i)/c:void 0,event:l,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(u)},n)},iu=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},ou=e=>(...t)=>D.asap(()=>e(...t)),Ry=Je.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Je.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Je.origin),Je.navigator&&/(msie|trident)/i.test(Je.navigator.userAgent)):()=>!0,Oy=Je.hasStandardBrowserEnv?{write(e,t,n,s,a,l,i){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];D.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),D.isString(s)&&o.push(`path=${s}`),D.isString(a)&&o.push(`domain=${a}`),l===!0&&o.push("secure"),D.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Py(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Ly(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function mp(e,t,n){let s=!Py(t);return e&&(s||n==!1)?Ly(e,t):t}const du=e=>e instanceof ut?{...e}:e;function Vn(e,t){t=t||{};const n={};function s(c,p,u,g){return D.isPlainObject(c)&&D.isPlainObject(p)?D.merge.call({caseless:g},c,p):D.isPlainObject(p)?D.merge({},p):D.isArray(p)?p.slice():p}function a(c,p,u,g){if(D.isUndefined(p)){if(!D.isUndefined(c))return s(void 0,c,u,g)}else return s(c,p,u,g)}function l(c,p){if(!D.isUndefined(p))return s(void 0,p)}function i(c,p){if(D.isUndefined(p)){if(!D.isUndefined(c))return s(void 0,c)}else return s(void 0,p)}function o(c,p,u){if(u in t)return s(c,p);if(u in e)return s(void 0,c)}const d={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(c,p,u)=>a(du(c),du(p),u,!0)};return D.forEach(Object.keys({...e,...t}),function(p){const u=d[p]||a,g=u(e[p],t[p],p);D.isUndefined(g)&&u!==o||(n[p]=g)}),n}const pp=e=>{const t=Vn({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=ut.from(i),t.url=op(mp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),D.isFormData(n)){if(Je.hasStandardBrowserEnv||Je.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(D.isFunction(n.getHeaders)){const d=n.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([p,u])=>{c.includes(p.toLowerCase())&&i.set(p,u)})}}if(Je.hasStandardBrowserEnv&&(s&&D.isFunction(s)&&(s=s(t)),s||s!==!1&&Ry(t.url))){const d=a&&l&&Oy.read(l);d&&i.set(a,d)}return t},Ay=typeof XMLHttpRequest<"u",Fy=Ay&&function(e){return new Promise(function(n,s){const a=pp(e);let l=a.data;const i=ut.from(a.headers).normalize();let{responseType:o,onUploadProgress:d,onDownloadProgress:c}=a,p,u,g,b,m;function j(){b&&b(),m&&m(),a.cancelToken&&a.cancelToken.unsubscribe(p),a.signal&&a.signal.removeEventListener("abort",p)}let S=new XMLHttpRequest;S.open(a.method.toUpperCase(),a.url,!0),S.timeout=a.timeout;function h(){if(!S)return;const x=ut.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),N={data:!o||o==="text"||o==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:x,config:e,request:S};fp(function(v){n(v),j()},function(v){s(v),j()},N),S=null}"onloadend"in S?S.onloadend=h:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(h)},S.onabort=function(){S&&(s(new re("Request aborted",re.ECONNABORTED,e,S)),S=null)},S.onerror=function(w){const N=w&&w.message?w.message:"Network Error",E=new re(N,re.ERR_NETWORK,e,S);E.event=w||null,s(E),S=null},S.ontimeout=function(){let w=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||dp;a.timeoutErrorMessage&&(w=a.timeoutErrorMessage),s(new re(w,N.clarifyTimeoutError?re.ETIMEDOUT:re.ECONNABORTED,e,S)),S=null},l===void 0&&i.setContentType(null),"setRequestHeader"in S&&D.forEach(i.toJSON(),function(w,N){S.setRequestHeader(N,w)}),D.isUndefined(a.withCredentials)||(S.withCredentials=!!a.withCredentials),o&&o!=="json"&&(S.responseType=a.responseType),c&&([g,m]=tl(c,!0),S.addEventListener("progress",g)),d&&S.upload&&([u,b]=tl(d),S.upload.addEventListener("progress",u),S.upload.addEventListener("loadend",b)),(a.cancelToken||a.signal)&&(p=x=>{S&&(s(!x||x.type?new Or(null,e,S):x),S.abort(),S=null)},a.cancelToken&&a.cancelToken.subscribe(p),a.signal&&(a.signal.aborted?p():a.signal.addEventListener("abort",p)));const f=Dy(a.url);if(f&&Je.protocols.indexOf(f)===-1){s(new re("Unsupported protocol "+f+":",re.ERR_BAD_REQUEST,e));return}S.send(l||null)})},$y=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,a;const l=function(c){if(!a){a=!0,o();const p=c instanceof Error?c:this.reason;s.abort(p instanceof re?p:new Or(p instanceof Error?p.message:p))}};let i=t&&setTimeout(()=>{i=null,l(new re(`timeout ${t} of ms exceeded`,re.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(l):c.removeEventListener("abort",l)}),e=null)};e.forEach(c=>c.addEventListener("abort",l));const{signal:d}=s;return d.unsubscribe=()=>D.asap(o),d}},Iy=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,a;for(;s<n;)a=s+t,yield e.slice(s,a),s=a},Uy=async function*(e,t){for await(const n of zy(e))yield*Iy(n,t)},zy=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},cu=(e,t,n,s)=>{const a=Uy(e,t);let l=0,i,o=d=>{i||(i=!0,s&&s(d))};return new ReadableStream({async pull(d){try{const{done:c,value:p}=await a.next();if(c){o(),d.close();return}let u=p.byteLength;if(n){let g=l+=u;n(g)}d.enqueue(new Uint8Array(p))}catch(c){throw o(c),c}},cancel(d){return o(d),a.return()}},{highWaterMark:2})},uu=64*1024,{isFunction:ia}=D,Wy=(({Request:e,Response:t})=>({Request:e,Response:t}))(D.global),{ReadableStream:fu,TextEncoder:mu}=D.global,pu=(e,...t)=>{try{return!!e(...t)}catch{return!1}},By=e=>{e=D.merge.call({skipUndefined:!0},Wy,e);const{fetch:t,Request:n,Response:s}=e,a=t?ia(t):typeof fetch=="function",l=ia(n),i=ia(s);if(!a)return!1;const o=a&&ia(fu),d=a&&(typeof mu=="function"?(m=>j=>m.encode(j))(new mu):async m=>new Uint8Array(await new n(m).arrayBuffer())),c=l&&o&&pu(()=>{let m=!1;const j=new n(Je.origin,{body:new fu,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!j}),p=i&&o&&pu(()=>D.isReadableStream(new s("").body)),u={stream:p&&(m=>m.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!u[m]&&(u[m]=(j,S)=>{let h=j&&j[m];if(h)return h.call(j);throw new re(`Response type '${m}' is not supported`,re.ERR_NOT_SUPPORT,S)})});const g=async m=>{if(m==null)return 0;if(D.isBlob(m))return m.size;if(D.isSpecCompliantForm(m))return(await new n(Je.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(D.isArrayBufferView(m)||D.isArrayBuffer(m))return m.byteLength;if(D.isURLSearchParams(m)&&(m=m+""),D.isString(m))return(await d(m)).byteLength},b=async(m,j)=>{const S=D.toFiniteNumber(m.getContentLength());return S??g(j)};return async m=>{let{url:j,method:S,data:h,signal:f,cancelToken:x,timeout:w,onDownloadProgress:N,onUploadProgress:E,responseType:v,headers:k,withCredentials:R="same-origin",fetchOptions:O}=pp(m),F=t||fetch;v=v?(v+"").toLowerCase():"text";let Q=$y([f,x&&x.toAbortSignal()],w),M=null;const U=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let K;try{if(E&&c&&S!=="get"&&S!=="head"&&(K=await b(k,h))!==0){let W=new n(j,{method:"POST",body:h,duplex:"half"}),Z;if(D.isFormData(h)&&(Z=W.headers.get("content-type"))&&k.setContentType(Z),W.body){const[Re,pe]=iu(K,tl(ou(E)));h=cu(W.body,uu,Re,pe)}}D.isString(R)||(R=R?"include":"omit");const _=l&&"credentials"in n.prototype,A={...O,signal:Q,method:S.toUpperCase(),headers:k.normalize().toJSON(),body:h,duplex:"half",credentials:_?R:void 0};M=l&&new n(j,A);let T=await(l?F(M,O):F(j,A));const I=p&&(v==="stream"||v==="response");if(p&&(N||I&&U)){const W={};["status","statusText","headers"].forEach(We=>{W[We]=T[We]});const Z=D.toFiniteNumber(T.headers.get("content-length")),[Re,pe]=N&&iu(Z,tl(ou(N),!0))||[];T=new s(cu(T.body,uu,Re,()=>{pe&&pe(),U&&U()}),W)}v=v||"text";let J=await u[D.findKey(u,v)||"text"](T,m);return!I&&U&&U(),await new Promise((W,Z)=>{fp(W,Z,{data:J,headers:ut.from(T.headers),status:T.status,statusText:T.statusText,config:m,request:M})})}catch(_){throw U&&U(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new re("Network Error",re.ERR_NETWORK,m,M),{cause:_.cause||_}):re.from(_,_&&_.code,m,M)}}},Hy=new Map,hp=e=>{let t=e&&e.env||{};const{fetch:n,Request:s,Response:a}=t,l=[s,a,n];let i=l.length,o=i,d,c,p=Hy;for(;o--;)d=l[o],c=p.get(d),c===void 0&&p.set(d,c=o?new Map:By(t)),p=c;return c};hp();const Dd={http:iy,xhr:Fy,fetch:{get:hp}};D.forEach(Dd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const hu=e=>`- ${e}`,qy=e=>D.isFunction(e)||e===null||e===!1;function Vy(e,t){e=D.isArray(e)?e:[e];const{length:n}=e;let s,a;const l={};for(let i=0;i<n;i++){s=e[i];let o;if(a=s,!qy(s)&&(a=Dd[(o=String(s)).toLowerCase()],a===void 0))throw new re(`Unknown adapter '${o}'`);if(a&&(D.isFunction(a)||(a=a.get(t))))break;l[o||"#"+i]=a}if(!a){const i=Object.entries(l).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=n?i.length>1?`since :
`+i.map(hu).join(`
`):" "+hu(i[0]):"as no adapter specified";throw new re("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const xp={getAdapter:Vy,adapters:Dd};function mi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Or(null,e)}function xu(e){return mi(e),e.headers=ut.from(e.headers),e.data=fi.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),xp.getAdapter(e.adapter||Us.adapter,e)(e).then(function(s){return mi(e),s.data=fi.call(e,e.transformResponse,s),s.headers=ut.from(s.headers),s},function(s){return up(s)||(mi(e),s&&s.response&&(s.response.data=fi.call(e,e.transformResponse,s.response),s.response.headers=ut.from(s.response.headers))),Promise.reject(s)})}const gp="1.13.2",Ml={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ml[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const gu={};Ml.transitional=function(t,n,s){function a(l,i){return"[Axios v"+gp+"] Transitional option '"+l+"'"+i+(s?". "+s:"")}return(l,i,o)=>{if(t===!1)throw new re(a(i," has been removed"+(n?" in "+n:"")),re.ERR_DEPRECATED);return n&&!gu[i]&&(gu[i]=!0,console.warn(a(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,i,o):!0}};Ml.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Yy(e,t,n){if(typeof e!="object")throw new re("options must be an object",re.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const l=s[a],i=t[l];if(i){const o=e[l],d=o===void 0||i(o,l,e);if(d!==!0)throw new re("option "+l+" must be "+d,re.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new re("Unknown option "+l,re.ERR_BAD_OPTION)}}const ka={assertOptions:Yy,validators:Ml},$t=ka.validators;let Fn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new au,response:new au}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Vn(this.defaults,n);const{transitional:s,paramsSerializer:a,headers:l}=n;s!==void 0&&ka.assertOptions(s,{silentJSONParsing:$t.transitional($t.boolean),forcedJSONParsing:$t.transitional($t.boolean),clarifyTimeoutError:$t.transitional($t.boolean)},!1),a!=null&&(D.isFunction(a)?n.paramsSerializer={serialize:a}:ka.assertOptions(a,{encode:$t.function,serialize:$t.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ka.assertOptions(n,{baseUrl:$t.spelling("baseURL"),withXsrfToken:$t.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=l&&D.merge(l.common,l[n.method]);l&&D.forEach(["delete","get","head","post","put","patch","common"],m=>{delete l[m]}),n.headers=ut.concat(i,l);const o=[];let d=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(d=d&&j.synchronous,o.unshift(j.fulfilled,j.rejected))});const c=[];this.interceptors.response.forEach(function(j){c.push(j.fulfilled,j.rejected)});let p,u=0,g;if(!d){const m=[xu.bind(this),void 0];for(m.unshift(...o),m.push(...c),g=m.length,p=Promise.resolve(n);u<g;)p=p.then(m[u++],m[u++]);return p}g=o.length;let b=n;for(;u<g;){const m=o[u++],j=o[u++];try{b=m(b)}catch(S){j.call(this,S);break}}try{p=xu.call(this,b)}catch(m){return Promise.reject(m)}for(u=0,g=c.length;u<g;)p=p.then(c[u++],c[u++]);return p}getUri(t){t=Vn(this.defaults,t);const n=mp(t.baseURL,t.url,t.allowAbsoluteUrls);return op(n,t.params,t.paramsSerializer)}};D.forEach(["delete","get","head","options"],function(t){Fn.prototype[t]=function(n,s){return this.request(Vn(s||{},{method:t,url:n,data:(s||{}).data}))}});D.forEach(["post","put","patch"],function(t){function n(s){return function(l,i,o){return this.request(Vn(o||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}Fn.prototype[t]=n(),Fn.prototype[t+"Form"]=n(!0)});let Qy=class yp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const s=this;this.promise.then(a=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](a);s._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{s.subscribe(o),l=o}).then(a);return i.cancel=function(){s.unsubscribe(l)},i},t(function(l,i,o){s.reason||(s.reason=new Or(l,i,o),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new yp(function(a){t=a}),cancel:t}}};function Ky(e){return function(n){return e.apply(null,n)}}function Xy(e){return D.isObject(e)&&e.isAxiosError===!0}const wo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(wo).forEach(([e,t])=>{wo[t]=e});function vp(e){const t=new Fn(e),n=Xm(Fn.prototype.request,t);return D.extend(n,Fn.prototype,t,{allOwnKeys:!0}),D.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return vp(Vn(e,a))},n}const Fe=vp(Us);Fe.Axios=Fn;Fe.CanceledError=Or;Fe.CancelToken=Qy;Fe.isCancel=up;Fe.VERSION=gp;Fe.toFormData=Dl;Fe.AxiosError=re;Fe.Cancel=Fe.CanceledError;Fe.all=function(t){return Promise.all(t)};Fe.spread=Ky;Fe.isAxiosError=Xy;Fe.mergeConfig=Vn;Fe.AxiosHeaders=ut;Fe.formToJSON=e=>cp(D.isHTMLForm(e)?new FormData(e):e);Fe.getAdapter=xp.getAdapter;Fe.HttpStatusCode=wo;Fe.default=Fe;const{Axios:qj,AxiosError:Vj,CanceledError:Yj,isCancel:Qj,CancelToken:Kj,VERSION:Xj,all:Gj,Cancel:Jj,isAxiosError:Zj,spread:ew,toFormData:tw,AxiosHeaders:nw,HttpStatusCode:rw,formToJSON:sw,getAdapter:aw,mergeConfig:lw}=Fe,Gy="http://localhost:8000",z=Fe.create({baseURL:Gy,headers:{"Content-Type":"application/json"}});z.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));z.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)});const Jy=async(e,t)=>{const n=new FormData;return n.append("username",e),n.append("password",t),(await z.post("/token",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data},Zy=e=>z.post("/admin/users",e),Md=()=>z.get("/admin/users"),ev=e=>Md().then(t=>!t.data.some(s=>s.username.toLowerCase()===e.toLowerCase())).catch(()=>!0),yu=(e,t=!1)=>z.post("/managers",e,{params:{force_reassign:t}}),tv=()=>z.get("/managers"),nv=(e,t)=>z.put(`/managers/${e}`,t),rv=(e,t)=>z.put(`/managers/${e}/reassign`,t),sv=e=>z.delete(`/managers/${e}`),av=e=>z.post("/departments",e),Td=()=>z.get("/departments"),lv=async e=>{var t;try{return await z.get(`/departments/search/${e}`)}catch(n){if(((t=n.response)==null?void 0:t.status)===404)return{data:[]};throw n}},iv=e=>z.post("/employees",e),Tl=(e=!1)=>z.get("/employees",{params:{show_inactive:e}}),ov=(e,t)=>z.put(`/employees/${e}`,t),dv=(e,t=!1)=>z.delete(`/employees/${e}`,{params:t?{hard_delete:!0}:{}}),cv=e=>z.post("/roles",e),Rd=()=>z.get("/roles"),bp=e=>z.post("/employee/check-in",{location:e}),jp=e=>z.post("/employee/check-out",{notes:e}),wp=e=>z.post("/leave-requests",e),Rl=()=>z.get("/leave-requests"),uv=(e,t)=>{const n={};return t&&(n.review_notes=t),z.post(`/manager/approve-leave/${e}`,n)},fv=(e,t)=>{const n={};return t&&(n.review_notes=t),z.post(`/manager/reject-leave/${e}`,n)},mv=()=>z.get("/leave-statistics"),pv=e=>z.get(`/leave-statistics/employee/${e}`),hv=e=>z.post("/comp-off-requests",e),xv=()=>z.get("/comp-off-requests"),gv=()=>z.get("/comp-off-tracking"),yv=()=>z.get("/comp-off/monthly-breakdown"),vv=(e,t)=>{const n={review_notes:t};return z.post(`/manager/approve-comp-off/${e}`,n)},bv=(e,t)=>{const n={review_notes:t||""};return z.post(`/manager/reject-comp-off/${e}`,n)},jv=()=>z.get("/comp-off/export/employee",{responseType:"blob"}),wv=(e=null,t=!1)=>{const n={};return e&&(n.role_id=e),t&&(n.include_inactive=!0),z.get("/shifts",{params:n})},Nv=(e,t=!1)=>z.delete(`/shifts/${e}`,{params:t?{hard_delete:!0}:{}}),_v=e=>z.post("/messages",e),Np=()=>z.get("/messages"),_p=e=>z.delete(`/messages/${e}`),kv=e=>z.put(`/messages/${e}/read`),Ol=(e,t)=>{const n=new URLSearchParams;return e&&n.append("start_date",e),t&&n.append("end_date",t),z.get(`/schedules?${n.toString()}`)},Sv=e=>z.post("/schedules",e),Cv=(e,t)=>z.put(`/schedules/${e}`,t),Ev=e=>z.delete(`/schedules/${e}`),vu=(e,t,n=!1)=>{const s=new URLSearchParams;return s.append("start_date",e),s.append("end_date",t),s.append("regenerate",n),z.post(`/schedules/generate?${s.toString()}`)},Pl=(e,t)=>{const n=new URLSearchParams;return e&&n.append("start_date",e),t&&n.append("end_date",t),z.get(`/attendance?${n.toString()}`)},Dv=(e,t)=>z.get(`/calendar/holidays?year=${e}&month=${t}`),Mv=(e=!1)=>{const t=new URLSearchParams;return e&&t.append("unread_only","true"),z.get(`/notifications?${t.toString()}`)},Tv=e=>z.post(`/notifications/${e}/mark-read`),Rv=()=>z.post("/notifications/mark-all-read"),Ov=e=>z.delete(`/notifications/${e}`),B=({children:e,onClick:t,type:n="button",variant:s="primary",size:a="md",disabled:l=!1,fullWidth:i=!1,className:o="",form:d=void 0,...c})=>{const p="font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",u={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",warning:"bg-yellow-600 text-white hover:bg-yellow-700 focus:ring-yellow-500",outline:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-blue-500"},g={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},b=l?"opacity-50 cursor-not-allowed":"",m=i?"w-full":"";return r.jsx("button",{type:n,onClick:t,disabled:l,form:d,className:`${p} ${u[s]} ${g[a]} ${b} ${m} ${o}`,...c,children:e})},G=({children:e,title:t,subtitle:n,headerAction:s,className:a="",padding:l=!0,hover:i=!1})=>r.jsxs("div",{className:`bg-white rounded-lg shadow-md ${i?"hover:shadow-lg transition-shadow duration-200":""} ${a}`,children:[(t||s)&&r.jsx("div",{className:`border-b border-gray-200 ${l?"px-6 py-4":"p-4"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[t&&r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),n&&r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]}),s&&r.jsx("div",{children:s})]})}),r.jsx("div",{className:l?"p-6":"",children:e})]}),Pv=({onLogin:e})=>{const[t,n]=y.useState(""),[s,a]=y.useState(""),[l,i]=y.useState(""),[o,d]=y.useState(!1),c=async p=>{var u,g;p.preventDefault(),i(""),d(!0);try{const b=await Jy(t,s);e(b.user,b.access_token)}catch(b){i(((g=(u=b.response)==null?void 0:u.data)==null?void 0:g.detail)||"Login failed. Please check your credentials.")}finally{d(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Shift Scheduler"}),r.jsx("p",{className:"text-blue-100",children:"Employee Management System"})]}),r.jsx(G,{padding:!1,children:r.jsxs("div",{className:"p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Sign In"}),l&&r.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:l})]}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),r.jsx("input",{id:"username",type:"text",value:t,onChange:p=>n(p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Enter your username",required:!0,disabled:o})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),r.jsx("input",{id:"password",type:"password",value:s,onChange:p=>a(p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Enter your password",required:!0,disabled:o})]}),r.jsx(B,{type:"submit",fullWidth:!0,disabled:o,className:"mt-6",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(wa,{className:"w-5 h-5 mr-2"}),o?"Signing in...":"Sign In"]})})]}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[r.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Demo Credentials:"}),r.jsxs("div",{className:"mt-2 space-y-1 text-xs text-gray-600",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Admin:"})," admin / admin123"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Manager:"})," manager1 / manager123"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Employee:"})," john.smith / employee123"]})]})]})]})}),r.jsx("p",{className:"text-center text-white text-sm mt-6",children:"Shift Scheduler v5.1.0"})]})})};function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function Ot(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function me(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ye(e){me(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||nl(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Lv(e,t){me(2,arguments);var n=ye(e),s=Ot(t);return isNaN(s)?new Date(NaN):(s&&n.setDate(n.getDate()+s),n)}function Od(e,t){me(2,arguments);var n=ye(e),s=Ot(t);if(isNaN(s))return new Date(NaN);if(!s)return n;var a=n.getDate(),l=new Date(n.getTime());l.setMonth(n.getMonth()+s+1,0);var i=l.getDate();return a>=i?l:(n.setFullYear(l.getFullYear(),l.getMonth(),a),n)}function Av(e,t){me(2,arguments);var n=ye(e).getTime(),s=Ot(t);return new Date(n+s)}var Fv={};function zs(){return Fv}function No(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Sa(e,t){me(2,arguments);var n=ye(e),s=ye(t),a=n.getTime()-s.getTime();return a<0?-1:a>0?1:a}var kp=6e4,Sp=36e5;function $v(e){return me(1,arguments),e instanceof Date||nl(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Iv(e){if(me(1,arguments),!$v(e)&&typeof e!="number")return!1;var t=ye(e);return!isNaN(Number(t))}function Uv(e,t){me(2,arguments);var n=ye(e),s=ye(t),a=n.getFullYear()-s.getFullYear(),l=n.getMonth()-s.getMonth();return a*12+l}function zv(e,t){return me(2,arguments),ye(e).getTime()-ye(t).getTime()}var Wv={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Bv="trunc";function Hv(e){return Wv[Bv]}function qv(e){me(1,arguments);var t=ye(e);return t.setHours(23,59,59,999),t}function Pd(e){me(1,arguments);var t=ye(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Vv(e){me(1,arguments);var t=ye(e);return qv(t).getTime()===Pd(t).getTime()}function Yv(e,t){me(2,arguments);var n=ye(e),s=ye(t),a=Sa(n,s),l=Math.abs(Uv(n,s)),i;if(l<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*l);var o=Sa(n,s)===-a;Vv(ye(e))&&l===1&&Sa(e,s)===1&&(o=!1),i=a*(l-Number(o))}return i===0?0:i}function Qv(e,t,n){me(2,arguments);var s=zv(e,t)/1e3;return Hv()(s)}function Cp(e){me(1,arguments);var t=ye(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Kv(e,t){me(2,arguments);var n=Ot(t);return Av(e,-n)}var Xv=864e5;function Gv(e){me(1,arguments);var t=ye(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var s=t.getTime(),a=n-s;return Math.floor(a/Xv)+1}function rl(e){me(1,arguments);var t=1,n=ye(e),s=n.getUTCDay(),a=(s<t?7:0)+s-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function Ep(e){me(1,arguments);var t=ye(e),n=t.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(n+1,0,4),s.setUTCHours(0,0,0,0);var a=rl(s),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var i=rl(l);return t.getTime()>=a.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function Jv(e){me(1,arguments);var t=Ep(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var s=rl(n);return s}var Zv=6048e5;function eb(e){me(1,arguments);var t=ye(e),n=rl(t).getTime()-Jv(t).getTime();return Math.round(n/Zv)+1}function sl(e,t){var n,s,a,l,i,o,d,c;me(1,arguments);var p=zs(),u=Ot((n=(s=(a=(l=t==null?void 0:t.weekStartsOn)!==null&&l!==void 0?l:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:p.weekStartsOn)!==null&&s!==void 0?s:(d=p.locale)===null||d===void 0||(c=d.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=ye(e),b=g.getUTCDay(),m=(b<u?7:0)+b-u;return g.setUTCDate(g.getUTCDate()-m),g.setUTCHours(0,0,0,0),g}function Dp(e,t){var n,s,a,l,i,o,d,c;me(1,arguments);var p=ye(e),u=p.getUTCFullYear(),g=zs(),b=Ot((n=(s=(a=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:g.firstWeekContainsDate)!==null&&s!==void 0?s:(d=g.locale)===null||d===void 0||(c=d.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(u+1,0,b),m.setUTCHours(0,0,0,0);var j=sl(m,t),S=new Date(0);S.setUTCFullYear(u,0,b),S.setUTCHours(0,0,0,0);var h=sl(S,t);return p.getTime()>=j.getTime()?u+1:p.getTime()>=h.getTime()?u:u-1}function tb(e,t){var n,s,a,l,i,o,d,c;me(1,arguments);var p=zs(),u=Ot((n=(s=(a=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:p.firstWeekContainsDate)!==null&&s!==void 0?s:(d=p.locale)===null||d===void 0||(c=d.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),g=Dp(e,t),b=new Date(0);b.setUTCFullYear(g,0,u),b.setUTCHours(0,0,0,0);var m=sl(b,t);return m}var nb=6048e5;function rb(e,t){me(1,arguments);var n=ye(e),s=sl(n,t).getTime()-tb(n,t).getTime();return Math.round(s/nb)+1}function ge(e,t){for(var n=e<0?"-":"",s=Math.abs(e).toString();s.length<t;)s="0"+s;return n+s}var nn={y:function(t,n){var s=t.getUTCFullYear(),a=s>0?s:1-s;return ge(n==="yy"?a%100:a,n.length)},M:function(t,n){var s=t.getUTCMonth();return n==="M"?String(s+1):ge(s+1,2)},d:function(t,n){return ge(t.getUTCDate(),n.length)},a:function(t,n){var s=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h:function(t,n){return ge(t.getUTCHours()%12||12,n.length)},H:function(t,n){return ge(t.getUTCHours(),n.length)},m:function(t,n){return ge(t.getUTCMinutes(),n.length)},s:function(t,n){return ge(t.getUTCSeconds(),n.length)},S:function(t,n){var s=n.length,a=t.getUTCMilliseconds(),l=Math.floor(a*Math.pow(10,s-3));return ge(l,n.length)}},Jn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},sb={G:function(t,n,s){var a=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(t,n,s){if(n==="yo"){var a=t.getUTCFullYear(),l=a>0?a:1-a;return s.ordinalNumber(l,{unit:"year"})}return nn.y(t,n)},Y:function(t,n,s,a){var l=Dp(t,a),i=l>0?l:1-l;if(n==="YY"){var o=i%100;return ge(o,2)}return n==="Yo"?s.ordinalNumber(i,{unit:"year"}):ge(i,n.length)},R:function(t,n){var s=Ep(t);return ge(s,n.length)},u:function(t,n){var s=t.getUTCFullYear();return ge(s,n.length)},Q:function(t,n,s){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(a);case"QQ":return ge(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,n,s){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(a);case"qq":return ge(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,n,s){var a=t.getUTCMonth();switch(n){case"M":case"MM":return nn.M(t,n);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(t,n,s){var a=t.getUTCMonth();switch(n){case"L":return String(a+1);case"LL":return ge(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(t,n,s,a){var l=rb(t,a);return n==="wo"?s.ordinalNumber(l,{unit:"week"}):ge(l,n.length)},I:function(t,n,s){var a=eb(t);return n==="Io"?s.ordinalNumber(a,{unit:"week"}):ge(a,n.length)},d:function(t,n,s){return n==="do"?s.ordinalNumber(t.getUTCDate(),{unit:"date"}):nn.d(t,n)},D:function(t,n,s){var a=Gv(t);return n==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):ge(a,n.length)},E:function(t,n,s){var a=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(t,n,s,a){var l=t.getUTCDay(),i=(l-a.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return ge(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(l,{width:"short",context:"formatting"});case"eeee":default:return s.day(l,{width:"wide",context:"formatting"})}},c:function(t,n,s,a){var l=t.getUTCDay(),i=(l-a.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return ge(i,n.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(l,{width:"narrow",context:"standalone"});case"cccccc":return s.day(l,{width:"short",context:"standalone"});case"cccc":default:return s.day(l,{width:"wide",context:"standalone"})}},i:function(t,n,s){var a=t.getUTCDay(),l=a===0?7:a;switch(n){case"i":return String(l);case"ii":return ge(l,n.length);case"io":return s.ordinalNumber(l,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(t,n,s){var a=t.getUTCHours(),l=a/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(t,n,s){var a=t.getUTCHours(),l;switch(a===12?l=Jn.noon:a===0?l=Jn.midnight:l=a/12>=1?"pm":"am",n){case"b":case"bb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(t,n,s){var a=t.getUTCHours(),l;switch(a>=17?l=Jn.evening:a>=12?l=Jn.afternoon:a>=4?l=Jn.morning:l=Jn.night,n){case"B":case"BB":case"BBB":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(t,n,s){if(n==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return nn.h(t,n)},H:function(t,n,s){return n==="Ho"?s.ordinalNumber(t.getUTCHours(),{unit:"hour"}):nn.H(t,n)},K:function(t,n,s){var a=t.getUTCHours()%12;return n==="Ko"?s.ordinalNumber(a,{unit:"hour"}):ge(a,n.length)},k:function(t,n,s){var a=t.getUTCHours();return a===0&&(a=24),n==="ko"?s.ordinalNumber(a,{unit:"hour"}):ge(a,n.length)},m:function(t,n,s){return n==="mo"?s.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):nn.m(t,n)},s:function(t,n,s){return n==="so"?s.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):nn.s(t,n)},S:function(t,n){return nn.S(t,n)},X:function(t,n,s,a){var l=a._originalDate||t,i=l.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return ju(i);case"XXXX":case"XX":return Mn(i);case"XXXXX":case"XXX":default:return Mn(i,":")}},x:function(t,n,s,a){var l=a._originalDate||t,i=l.getTimezoneOffset();switch(n){case"x":return ju(i);case"xxxx":case"xx":return Mn(i);case"xxxxx":case"xxx":default:return Mn(i,":")}},O:function(t,n,s,a){var l=a._originalDate||t,i=l.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+bu(i,":");case"OOOO":default:return"GMT"+Mn(i,":")}},z:function(t,n,s,a){var l=a._originalDate||t,i=l.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+bu(i,":");case"zzzz":default:return"GMT"+Mn(i,":")}},t:function(t,n,s,a){var l=a._originalDate||t,i=Math.floor(l.getTime()/1e3);return ge(i,n.length)},T:function(t,n,s,a){var l=a._originalDate||t,i=l.getTime();return ge(i,n.length)}};function bu(e,t){var n=e>0?"-":"+",s=Math.abs(e),a=Math.floor(s/60),l=s%60;if(l===0)return n+String(a);var i=t;return n+String(a)+i+ge(l,2)}function ju(e,t){if(e%60===0){var n=e>0?"-":"+";return n+ge(Math.abs(e)/60,2)}return Mn(e,t)}function Mn(e,t){var n=t||"",s=e>0?"-":"+",a=Math.abs(e),l=ge(Math.floor(a/60),2),i=ge(a%60,2);return s+l+n+i}var wu=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Mp=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},ab=function(t,n){var s=t.match(/(P+)(p+)?/)||[],a=s[1],l=s[2];if(!l)return wu(t,n);var i;switch(a){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",wu(a,n)).replace("{{time}}",Mp(l,n))},lb={p:Mp,P:ab},ib=["D","DD"],ob=["YY","YYYY"];function db(e){return ib.indexOf(e)!==-1}function cb(e){return ob.indexOf(e)!==-1}function Nu(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var ub={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fb=function(t,n,s){var a,l=ub[t];return typeof l=="string"?a=l:n===1?a=l.one:a=l.other.replace("{{count}}",n.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function pi(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,s=e.formats[n]||e.formats[e.defaultWidth];return s}}var mb={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pb={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hb={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xb={date:pi({formats:mb,defaultWidth:"full"}),time:pi({formats:pb,defaultWidth:"full"}),dateTime:pi({formats:hb,defaultWidth:"full"})},gb={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yb=function(t,n,s,a){return gb[t]};function Yr(e){return function(t,n){var s=n!=null&&n.context?String(n.context):"standalone",a;if(s==="formatting"&&e.formattingValues){var l=e.defaultFormattingWidth||e.defaultWidth,i=n!=null&&n.width?String(n.width):l;a=e.formattingValues[i]||e.formattingValues[l]}else{var o=e.defaultWidth,d=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[d]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var vb={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bb={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jb={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wb={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nb={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_b={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kb=function(t,n){var s=Number(t),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},Sb={ordinalNumber:kb,era:Yr({values:vb,defaultWidth:"wide"}),quarter:Yr({values:bb,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Yr({values:jb,defaultWidth:"wide"}),day:Yr({values:wb,defaultWidth:"wide"}),dayPeriod:Yr({values:Nb,defaultWidth:"wide",formattingValues:_b,defaultFormattingWidth:"wide"})};function Qr(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],l=t.match(a);if(!l)return null;var i=l[0],o=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(o)?Eb(o,function(u){return u.test(i)}):Cb(o,function(u){return u.test(i)}),c;c=e.valueCallback?e.valueCallback(d):d,c=n.valueCallback?n.valueCallback(c):c;var p=t.slice(i.length);return{value:c,rest:p}}}function Cb(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function Eb(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function Db(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.match(e.matchPattern);if(!s)return null;var a=s[0],l=t.match(e.parsePattern);if(!l)return null;var i=e.valueCallback?e.valueCallback(l[0]):l[0];i=n.valueCallback?n.valueCallback(i):i;var o=t.slice(a.length);return{value:i,rest:o}}}var Mb=/^(\d+)(th|st|nd|rd)?/i,Tb=/\d+/i,Rb={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ob={any:[/^b/i,/^(a|c)/i]},Pb={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lb={any:[/1/i,/2/i,/3/i,/4/i]},Ab={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fb={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$b={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ib={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ub={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zb={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wb={ordinalNumber:Db({matchPattern:Mb,parsePattern:Tb,valueCallback:function(t){return parseInt(t,10)}}),era:Qr({matchPatterns:Rb,defaultMatchWidth:"wide",parsePatterns:Ob,defaultParseWidth:"any"}),quarter:Qr({matchPatterns:Pb,defaultMatchWidth:"wide",parsePatterns:Lb,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Qr({matchPatterns:Ab,defaultMatchWidth:"wide",parsePatterns:Fb,defaultParseWidth:"any"}),day:Qr({matchPatterns:$b,defaultMatchWidth:"wide",parsePatterns:Ib,defaultParseWidth:"any"}),dayPeriod:Qr({matchPatterns:Ub,defaultMatchWidth:"any",parsePatterns:zb,defaultParseWidth:"any"})},Tp={code:"en-US",formatDistance:fb,formatLong:xb,formatRelative:yb,localize:Sb,match:Wb,options:{weekStartsOn:0,firstWeekContainsDate:1}},Bb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Hb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qb=/^'([^]*?)'?$/,Vb=/''/g,Yb=/[a-zA-Z]/;function ie(e,t,n){var s,a,l,i,o,d,c,p,u,g,b,m,j,S;me(2,arguments);var h=String(t),f=zs(),x=(s=(a=void 0)!==null&&a!==void 0?a:f.locale)!==null&&s!==void 0?s:Tp,w=Ot((l=(i=(o=(d=void 0)!==null&&d!==void 0?d:void 0)!==null&&o!==void 0?o:f.firstWeekContainsDate)!==null&&i!==void 0?i:(c=f.locale)===null||c===void 0||(p=c.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(w>=1&&w<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=Ot((u=(g=(b=(m=void 0)!==null&&m!==void 0?m:void 0)!==null&&b!==void 0?b:f.weekStartsOn)!==null&&g!==void 0?g:(j=f.locale)===null||j===void 0||(S=j.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&u!==void 0?u:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!x.localize)throw new RangeError("locale must contain localize property");if(!x.formatLong)throw new RangeError("locale must contain formatLong property");var E=ye(e);if(!Iv(E))throw new RangeError("Invalid time value");var v=No(E),k=Kv(E,v),R={firstWeekContainsDate:w,weekStartsOn:N,locale:x,_originalDate:E},O=h.match(Hb).map(function(F){var Q=F[0];if(Q==="p"||Q==="P"){var M=lb[Q];return M(F,x.formatLong)}return F}).join("").match(Bb).map(function(F){if(F==="''")return"'";var Q=F[0];if(Q==="'")return Qb(F);var M=sb[Q];if(M)return cb(F)&&Nu(F,t,String(e)),db(F)&&Nu(F,t,String(e)),M(k,F,x.localize,R);if(Q.match(Yb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");return F}).join("");return O}function Qb(e){var t=e.match(qb);return t?t[1].replace(Vb,"'"):e}function Rp(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Kb(e){return Rp({},e)}var _u=1440,Xb=2520,hi=43200,Gb=86400;function Jb(e,t,n){var s,a;me(2,arguments);var l=zs(),i=(s=(a=n==null?void 0:n.locale)!==null&&a!==void 0?a:l.locale)!==null&&s!==void 0?s:Tp;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=Sa(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var d=Rp(Kb(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:o}),c,p;o>0?(c=ye(t),p=ye(e)):(c=ye(e),p=ye(t));var u=Qv(p,c),g=(No(p)-No(c))/1e3,b=Math.round((u-g)/60),m;if(b<2)return n!=null&&n.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,d):u<10?i.formatDistance("lessThanXSeconds",10,d):u<20?i.formatDistance("lessThanXSeconds",20,d):u<40?i.formatDistance("halfAMinute",0,d):u<60?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",1,d):b===0?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",b,d);if(b<45)return i.formatDistance("xMinutes",b,d);if(b<90)return i.formatDistance("aboutXHours",1,d);if(b<_u){var j=Math.round(b/60);return i.formatDistance("aboutXHours",j,d)}else{if(b<Xb)return i.formatDistance("xDays",1,d);if(b<hi){var S=Math.round(b/_u);return i.formatDistance("xDays",S,d)}else if(b<Gb)return m=Math.round(b/hi),i.formatDistance("aboutXMonths",m,d)}if(m=Yv(p,c),m<12){var h=Math.round(b/hi);return i.formatDistance("xMonths",h,d)}else{var f=m%12,x=Math.floor(m/12);return f<3?i.formatDistance("aboutXYears",x,d):f<9?i.formatDistance("overXYears",x,d):i.formatDistance("almostXYears",x+1,d)}}function Zb(e,t){return me(1,arguments),Jb(e,Date.now(),t)}function oa(e,t){var n;me(1,arguments);var s=Ot((n=void 0)!==null&&n!==void 0?n:2);if(s!==2&&s!==1&&s!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=rj(e),l;if(a.date){var i=sj(a.date,s);l=aj(i.restDateString,i.year)}if(!l||isNaN(l.getTime()))return new Date(NaN);var o=l.getTime(),d=0,c;if(a.time&&(d=lj(a.time),isNaN(d)))return new Date(NaN);if(a.timezone){if(c=ij(a.timezone),isNaN(c))return new Date(NaN)}else{var p=new Date(o+d),u=new Date(0);return u.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),u.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),u}return new Date(o+d+c)}var da={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ej=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,tj=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,nj=/^([+-])(\d{2})(?::?(\d{2}))?$/;function rj(e){var t={},n=e.split(da.dateTimeDelimiter),s;if(n.length>2)return t;if(/:/.test(n[0])?s=n[0]:(t.date=n[0],s=n[1],da.timeZoneDelimiter.test(t.date)&&(t.date=e.split(da.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){var a=da.timezone.exec(s);a?(t.time=s.replace(a[1],""),t.timezone=a[1]):t.time=s}return t}function sj(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(n);if(!s)return{year:NaN,restDateString:""};var a=s[1]?parseInt(s[1]):null,l=s[2]?parseInt(s[2]):null;return{year:l===null?a:l*100,restDateString:e.slice((s[1]||s[2]).length)}}function aj(e,t){if(t===null)return new Date(NaN);var n=e.match(ej);if(!n)return new Date(NaN);var s=!!n[4],a=Kr(n[1]),l=Kr(n[2])-1,i=Kr(n[3]),o=Kr(n[4]),d=Kr(n[5])-1;if(s)return fj(t,o,d)?oj(t,o,d):new Date(NaN);var c=new Date(0);return!cj(t,l,i)||!uj(t,a)?new Date(NaN):(c.setUTCFullYear(t,l,Math.max(a,i)),c)}function Kr(e){return e?parseInt(e):1}function lj(e){var t=e.match(tj);if(!t)return NaN;var n=xi(t[1]),s=xi(t[2]),a=xi(t[3]);return mj(n,s,a)?n*Sp+s*kp+a*1e3:NaN}function xi(e){return e&&parseFloat(e.replace(",","."))||0}function ij(e){if(e==="Z")return 0;var t=e.match(nj);if(!t)return 0;var n=t[1]==="+"?-1:1,s=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return pj(s,a)?n*(s*Sp+a*kp):NaN}function oj(e,t,n){var s=new Date(0);s.setUTCFullYear(e,0,4);var a=s.getUTCDay()||7,l=(t-1)*7+n+1-a;return s.setUTCDate(s.getUTCDate()+l),s}var dj=[31,null,31,30,31,30,31,31,30,31,30,31];function Op(e){return e%400===0||e%4===0&&e%100!==0}function cj(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(dj[t]||(Op(e)?29:28))}function uj(e,t){return t>=1&&t<=(Op(e)?366:365)}function fj(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function mj(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function pj(e,t){return t>=0&&t<=59}function Pp(e,t){me(2,arguments);var n=Ot(t);return Od(e,-n)}const hj=()=>{const[e,t]=y.useState([]),[n,s]=y.useState(0),[a,l]=y.useState(!1),[i,o]=y.useState(!0),d=y.useRef(null);y.useEffect(()=>{c();const m=setInterval(c,3e4);return()=>clearInterval(m)},[]),y.useEffect(()=>{const m=j=>{d.current&&!d.current.contains(j.target)&&l(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const c=async()=>{try{const m=await Mv();t(m.data),s(m.data.filter(j=>!j.is_read).length)}catch(m){console.error("Failed to load notifications:",m)}finally{o(!1)}},p=async m=>{try{await Tv(m),c()}catch(j){console.error("Failed to mark notification as read:",j)}},u=async()=>{try{await Rv(),c()}catch(m){console.error("Failed to mark all notifications as read:",m)}},g=async(m,j)=>{j.stopPropagation();try{await Ov(m),c()}catch(S){console.error("Failed to delete notification:",S)}},b=m=>{switch(m){case"leave_approved":return"";case"leave_rejected":return"";case"schedule_update":return"";case"message":return"";default:return""}};return r.jsxs("div",{className:"relative",ref:d,children:[r.jsxs("button",{onClick:()=>l(!a),className:"relative p-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:[r.jsx(ho,{className:"w-5 h-5"}),n>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:n>9?"9+":n})]}),a&&r.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),n>0&&r.jsxs("button",{onClick:u,className:"text-xs text-blue-600 hover:text-blue-700 font-medium flex items-center",children:[r.jsx(g0,{className:"w-4 h-4 mr-1"}),"Mark all read"]})]}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:i?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):e.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(ho,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No notifications yet"})]}):e.map(m=>r.jsx("div",{onClick:()=>!m.is_read&&p(m.id),className:`px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${m.is_read?"":"bg-blue-50"}`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("span",{className:"text-lg",children:b(m.notification_type)}),r.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:m.title})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:m.message}),r.jsx("p",{className:"text-xs text-gray-400",children:Zb(new Date(m.created_at),{addSuffix:!0})})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[!m.is_read&&r.jsx("button",{onClick:j=>{j.stopPropagation(),p(m.id)},className:"text-blue-600 hover:text-blue-700",title:"Mark as read",children:r.jsx(Za,{className:"w-4 h-4"})}),r.jsx("button",{onClick:j=>g(m.id,j),className:"text-gray-400 hover:text-red-500",title:"Delete",children:r.jsx(qn,{className:"w-4 h-4"})})]})]})},m.id))})]})]})},Ld=({user:e,onLogout:t})=>{const s=e.user_type==="admin"?[{path:"/dashboard",icon:di,label:"Dashboard"},{path:"/managers",icon:Km,label:"Managers"},{path:"/departments",icon:Qm,label:"Departments"}]:e.user_type==="manager"?[{path:"/dashboard",icon:di,label:"Dashboard"},{path:"/employees",icon:kd,label:"Employees"},{path:"/schedules",icon:Ds,label:"Schedules"},{path:"/roles",icon:xo,label:"Role Management"},{path:"/overtime-approvals",icon:Ee,label:"Overtime Approvals"},{path:"/leaves",icon:Ts,label:"Leave Requests"},{path:"/comp-off",icon:tu,label:"Comp-Off Requests"},{path:"/attendance",icon:Ee,label:"Attendance"},{path:"/messages",icon:go,label:"Messages"}]:[{path:"/dashboard",icon:di,label:"Dashboard"},{path:"/schedule",icon:Ds,label:"My Schedule"},{path:"/requests",icon:xo,label:"Requests & Approvals"},{path:"/overtime-requests",icon:Ee,label:"Overtime Requests"},{path:"/leaves",icon:Ts,label:"Leave Requests"},{path:"/comp-off",icon:tu,label:"Comp-Off"},{path:"/attendance",icon:Ee,label:"My Attendance"},{path:"/messages",icon:go,label:"Messages"}];return r.jsxs("div",{className:"flex flex-col h-full bg-gray-900 text-white w-64",children:[r.jsxs("div",{className:"p-6 border-b border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Shift Scheduler"}),r.jsx(hj,{})]}),r.jsxs("p",{className:"text-sm text-gray-400 mt-1 capitalize",children:[e.user_type," Portal"]})]}),r.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:s.map(a=>r.jsxs(u0,{to:a.path,className:({isActive:l})=>`flex items-center px-4 py-3 mb-2 rounded-lg transition-colors ${l?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[r.jsx(a.icon,{className:"w-5 h-5 mr-3"}),r.jsx("span",{children:a.label})]},a.path))}),r.jsxs("div",{className:"p-4 border-t border-gray-700",children:[r.jsxs("div",{className:"px-4 py-2 mb-2",children:[r.jsx("p",{className:"text-sm font-medium",children:e.full_name}),r.jsx("p",{className:"text-xs text-gray-400",children:e.email})]}),r.jsxs("button",{onClick:t,className:"flex items-center w-full px-4 py-3 text-gray-300 hover:bg-gray-800 hover:text-white rounded-lg transition-colors",children:[r.jsx(el,{className:"w-5 h-5 mr-3"}),r.jsx("span",{children:"Logout"})]})]})]})},ze=({title:e,subtitle:t,showNotifications:n=!0})=>r.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e}),t&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t})]}),n&&r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("button",{className:"relative p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(ho,{className:"w-6 h-6"}),r.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]})})]})})}),He=({isOpen:e,onClose:t,title:n,children:s,footer:a,size:l="md",showCloseButton:i=!0})=>{if(y.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const o={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),r.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl ${o[l]} w-full max-h-[90vh] flex flex-col`,children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:n}),i&&r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(qn,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"px-6 py-4 overflow-y-auto flex-1",children:s}),a&&r.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:a})]})]})})};function xj(){const[e,t]=y.useState(null),[n,s]=y.useState(!1),[a,l]=y.useState(""),[i,o]=y.useState(""),[d,c]=y.useState(""),[p,u]=y.useState(new Date);y.useEffect(()=>{g()},[]),y.useEffect(()=>{const j=setInterval(()=>{u(new Date)},1e3);return()=>clearInterval(j)},[]);const g=async()=>{try{const j=ie(new Date,"yyyy-MM-dd"),S=await Pl(j,j);S.data&&S.data.length>0&&t(S.data[0])}catch(j){console.error("Failed to load attendance status:",j)}},b=async()=>{var j,S;s(!0),l(""),o("");try{const h=await bp("Office");t(h.data),o(" Checked in successfully!"),setTimeout(()=>o(""),3e3)}catch(h){const f=((S=(j=h.response)==null?void 0:j.data)==null?void 0:S.detail)||"Failed to check in";l(f)}finally{s(!1)}},m=async()=>{var j,S;s(!0),l(""),o("");try{const h=await jp(d);t(h.data),c(""),o(" Checked out successfully!"),setTimeout(()=>o(""),3e3)}catch(h){const f=((S=(j=h.response)==null?void 0:j.data)==null?void 0:S.detail)||"Failed to check out";l(f)}finally{s(!1)}};return r.jsxs(G,{title:"Check In / Out",subtitle:"Track your work hours",children:[r.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Current Time"}),r.jsx("p",{className:"text-4xl font-bold text-blue-900 font-mono",children:ie(p,"HH:mm:ss")}),r.jsx("p",{className:"text-sm text-blue-600 mt-1",children:ie(p,"EEEE, MMMM dd, yyyy")})]}),r.jsx(Ee,{className:"w-12 h-12 text-blue-600"})]})}),a&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:a})]}),i&&r.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg flex items-start",children:[r.jsx(Pe,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-green-700",children:i})]}),r.jsx("div",{className:"space-y-4",children:e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Checked In"}),r.jsx("p",{className:"text-xl font-semibold text-blue-900",children:e.in_time?e.in_time:"Not yet"}),e.status&&r.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Status: ",r.jsx("span",{className:"font-semibold",children:e.status})]})]}),r.jsx(wa,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Checked Out"}),r.jsx("p",{className:"text-xl font-semibold text-purple-900",children:e.out_time?e.out_time:"Not yet"})]}),r.jsx(el,{className:"w-8 h-8 text-purple-600"})]})}),e.in_time&&e.out_time&&r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Hours Worked"}),r.jsxs("p",{className:"text-lg font-semibold text-green-900",children:[e.worked_hours?e.worked_hours.toFixed(2):"0"," hours"]})]}),!e.out_time&&e.in_time&&r.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[r.jsxs(B,{variant:"success",fullWidth:!0,disabled:n,onClick:m,children:[r.jsx(el,{className:"w-4 h-4 mr-2 inline"}),"Check Out"]}),r.jsx("textarea",{value:d,onChange:j=>c(j.target.value),placeholder:"Add notes (optional)",className:"w-full p-2 border rounded text-sm",rows:2})]}),!e.in_time&&r.jsx("div",{className:"pt-4 border-t",children:r.jsxs(B,{variant:"primary",fullWidth:!0,disabled:n,onClick:b,children:[r.jsx(wa,{className:"w-4 h-4 mr-2 inline"}),"Check In Now"]})})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ee,{className:"w-12 h-12 mx-auto text-gray-400 mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Not checked in yet"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Click the button below to check in"}),r.jsxs(B,{variant:"primary",fullWidth:!0,disabled:n,onClick:b,className:"mt-4",children:[r.jsx(wa,{className:"w-4 h-4 mr-2 inline"}),"Check In Now"]})]})})]})}const gj=()=>{const[e,t]=y.useState([]),[n,s]=y.useState(!0),[a,l]=y.useState(!1),[i,o]=y.useState({request_date:new Date().toISOString().split("T")[0],from_time:"09:00",to_time:"10:00",reason:""}),[d,c]=y.useState(!1),[p,u]=y.useState(null);y.useEffect(()=>{g()},[]);const g=async()=>{try{s(!0);const h=await z.get("/overtime-requests");t(h.data)}catch(h){console.error("Error loading overtime requests:",h),u({type:"error",text:"Failed to load overtime requests"})}finally{s(!1)}},b=async h=>{var f,x;h.preventDefault();try{c(!0);const[w,N]=i.from_time.split(":").map(Number),[E,v]=i.to_time.split(":").map(Number),k=w*60+N;let O=E*60+v-k;O<0&&(O+=24*60);const F=O/60;if(F<=0){u({type:"error",text:"End time must be after start time"}),c(!1);return}await z.post("/overtime-requests",{request_date:i.request_date,from_time:i.from_time,to_time:i.to_time,request_hours:F,reason:i.reason}),u({type:"success",text:"Overtime request submitted successfully"}),o({request_date:new Date().toISOString().split("T")[0],from_time:"09:00",to_time:"10:00",reason:""}),l(!1),g()}catch(w){console.error("Error submitting request:",w);let N="Failed to submit request";const E=(x=(f=w.response)==null?void 0:f.data)==null?void 0:x.detail;typeof E=="string"?N=E:Array.isArray(E)&&(N=E.map(v=>typeof v=="string"?v:v.msg||JSON.stringify(v)).join(", ")),u({type:"error",text:N})}finally{c(!1)}},m=h=>{switch((h||"").toLowerCase()){case"approved":return"bg-green-50 border-green-200";case"rejected":return"bg-red-50 border-red-200";case"pending":return"bg-yellow-50 border-yellow-200";default:return"bg-gray-50 border-gray-200"}},j=h=>{switch((h||"").toLowerCase()){case"approved":return r.jsx(Pe,{className:"w-5 h-5 text-green-600"});case"rejected":return r.jsx(Hn,{className:"w-5 h-5 text-red-600"});case"pending":return r.jsx(we,{className:"w-5 h-5 text-yellow-600"});default:return null}},S=h=>{switch((h||"").toLowerCase()){case"approved":return"Approved";case"rejected":return"Rejected";case"pending":return"Pending";default:return"Unknown"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Overtime Requests"}),r.jsx("button",{onClick:()=>l(!a),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a?"bg-gray-300 text-gray-700 hover:bg-gray-400":"bg-blue-600 text-white hover:bg-blue-700"}`,children:a?"Cancel":"+ New Request"})]}),p&&r.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-3 ${p.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[p.type==="success"?r.jsx(Pe,{className:"w-5 h-5"}):r.jsx(we,{className:"w-5 h-5"}),r.jsx("span",{children:p.text}),r.jsx("button",{onClick:()=>u(null),className:"ml-auto text-sm font-medium hover:opacity-75",children:"Dismiss"})]}),a&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Submit Overtime Request"}),r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Request Date *"}),r.jsx("input",{type:"date",value:i.request_date,onChange:h=>o({...i,request_date:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Date for which you need overtime"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Time *"}),r.jsx("input",{type:"time",value:i.from_time,onChange:h=>o({...i,from_time:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Overtime start time"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Time *"}),r.jsx("input",{type:"time",value:i.to_time,onChange:h=>o({...i,to_time:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Overtime end time"})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Duration:"})," ",(()=>{const[h,f]=i.from_time.split(":").map(Number),[x,w]=i.to_time.split(":").map(Number),N=h*60+f;let v=x*60+w-N;v<0&&(v+=24*60);const k=Math.floor(v/60),R=v%60;return`${k}h ${R}m`})()]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),r.jsx("textarea",{value:i.reason,onChange:h=>o({...i,reason:h.target.value}),placeholder:"Explain why you need overtime...",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsxs("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[r.jsx(yo,{className:"w-4 h-4"}),d?"Submitting...":"Submit Request"]}),r.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Cancel"})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Your Requests"}),n?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.length===0?r.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-8 text-center",children:[r.jsx(we,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600",children:"No overtime requests yet"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Submit your first overtime request using the button above"})]}):r.jsx("div",{className:"grid gap-3",children:e.map(h=>r.jsx("div",{className:`border-l-4 rounded-lg p-4 flex justify-between items-start ${m(h.status)}`,children:r.jsxs("div",{className:"flex gap-3 flex-1",children:[j(h.status),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"font-semibold text-gray-900",children:[h.request_hours.toFixed(1)," hours"]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${h.status==="approved"?"bg-green-200 text-green-800":h.status==="rejected"?"bg-red-200 text-red-800":"bg-yellow-200 text-yellow-800"}`,children:S(h.status)})]}),r.jsx("p",{className:"text-sm text-gray-700 mt-1",children:h.reason}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Requested: ",new Date(h.request_date).toLocaleDateString()]}),h.manager_notes&&r.jsxs("div",{className:"mt-2 p-2 bg-white/50 rounded text-sm text-gray-700",children:[r.jsx("p",{className:"font-medium text-gray-800",children:"Manager Notes:"}),r.jsx("p",{children:h.manager_notes})]})]})]})},h.id))})]})]})},Lp=({currentUser:e,departmentId:t})=>{const[n,s]=y.useState([]),[a,l]=y.useState(null),[i,o]=y.useState([]),[d,c]=y.useState(!1),[p,u]=y.useState(!1),[g,b]=y.useState(!1),[m,j]=y.useState(""),[S,h]=y.useState([]),[f,x]=y.useState({employee_id:"",comp_off_date:"",reason:""});y.useEffect(()=>{w()},[]);const w=async()=>{b(!0),j("");try{const M=await xv();if(s(M.data),(e==null?void 0:e.user_type)==="employee")try{const U=await gv();l(U.data);const K=await yv();o(K.data.monthly_breakdown||[])}catch(U){console.error("Error loading comp-off tracking:",U)}if((e==null?void 0:e.user_type)==="manager")try{const U=await z.get("/employees");h(U.data)}catch(U){console.error("Error loading employees:",U)}}catch(M){console.error("Error loading data:",M),j("Failed to load comp-off data")}finally{b(!1)}},N=async()=>{var M,U;if(!f.comp_off_date){j("Please select a date for comp-off");return}if((e==null?void 0:e.user_type)==="manager"&&!f.employee_id){j("Please select an employee");return}b(!0),j("");try{const K={comp_off_date:f.comp_off_date,reason:f.reason};(e==null?void 0:e.user_type)==="manager"&&(K.employee_id=parseInt(f.employee_id)),await hv(K),x({employee_id:"",comp_off_date:"",reason:""}),c(!1),await w()}catch(K){let _="Failed to create comp-off request";if((U=(M=K.response)==null?void 0:M.data)!=null&&U.detail){const A=K.response.data.detail;typeof A=="string"?_=A:typeof A=="object"&&(_=A.msg||JSON.stringify(A))}j(_),console.error("Error creating comp-off:",K)}finally{b(!1)}},E=async M=>{var U,K;b(!0),j("");try{await vv(M,"Approved"),await w()}catch(_){let A="Failed to approve comp-off";if((K=(U=_.response)==null?void 0:U.data)!=null&&K.detail){const T=_.response.data.detail;typeof T=="string"?A=T:typeof T=="object"&&(A=T.msg||JSON.stringify(T))}j(A),console.error("Error approving comp-off:",_)}finally{b(!1)}},v=async M=>{var K,_;const U=prompt("Enter rejection reason:");if(U!==null){b(!0),j("");try{await bv(M,U),await w()}catch(A){let T="Failed to reject comp-off";if((_=(K=A.response)==null?void 0:K.data)!=null&&_.detail){const I=A.response.data.detail;typeof I=="string"?T=I:typeof I=="object"&&(T=I.msg||JSON.stringify(I))}j(T),console.error("Error rejecting comp-off:",A)}finally{b(!1)}}},k=async()=>{var M,U;b(!0);try{const K=await jv(),_=window.URL.createObjectURL(new Blob([K.data])),A=document.createElement("a");A.href=_,A.setAttribute("download",`comp_off_report_${new Date().toISOString().split("T")[0]}.xlsx`),document.body.appendChild(A),A.click(),A.parentChild.removeChild(A)}catch(K){let _="Failed to download report";if((U=(M=K.response)==null?void 0:M.data)!=null&&U.detail){const A=K.response.data.detail;typeof A=="string"?_=A:typeof A=="object"&&(_=A.msg||JSON.stringify(A))}j(_),console.error("Error downloading report:",K)}finally{b(!1)}},R=M=>{const U={pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Pending",icon:Ee},approved:{bg:"bg-green-100",text:"text-green-800",label:"Approved",icon:Pe},rejected:{bg:"bg-red-100",text:"text-red-800",label:"Rejected",icon:we}},K=U[M]||U.pending,_=K.icon;return r.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1 w-fit ${K.bg} ${K.text}`,children:[r.jsx(_,{className:"w-4 h-4"}),K.label]})},O=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),F=M=>{const U=new Date;return new Date(M).toDateString()===U.toDateString()},Q=M=>{const U=new Date;return new Date(M)>U};return r.jsxs("div",{className:"space-y-6",children:[(e==null?void 0:e.user_type)==="employee"&&a&&r.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-6 rounded-lg border-2 border-indigo-200",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-800 flex items-center gap-2",children:[r.jsx(kl,{className:"w-5 h-5 text-indigo-600"}),"Your Comp-Off Balance"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-blue-500",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Earned Days"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:a.earned_days}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"from non-shift days worked"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-orange-500",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Used Days"}),r.jsx("p",{className:"text-3xl font-bold text-orange-600",children:a.used_days}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"already taken"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-green-500",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Available Days"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:Math.max(0,a.available_days)}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ready to use"})]})]})]}),(e==null?void 0:e.user_type)==="employee"&&a&&a.available_days>0&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-2",children:" How to Use Your Available Comp-Off Days"}),r.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[r.jsxs("li",{children:["Go to ",r.jsx("strong",{children:"Leave Requests"})," tab"]}),r.jsxs("li",{children:["Click ",r.jsx("strong",{children:'"New Leave Request"'})," button"]}),r.jsxs("li",{children:["Select ",r.jsx("strong",{children:'Leave Type: "Comp-Off (Use Earned)"'})]}),r.jsx("li",{children:"Choose the date when you want to take off (must be a shift day)"}),r.jsx("li",{children:"Submit and wait for manager approval"}),r.jsx("li",{children:"Approved comp-off usage will deduct from your available balance"})]}),r.jsx("p",{className:"text-xs text-blue-700 mt-3 font-semibold",children:" Important: Comp-off must be used within the month it was earned. Unused comp-off expires at the end of the month."})]}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-yellow-900 font-semibold mb-2",children:" About Comp-Off Requests"}),r.jsxs("p",{className:"text-sm text-yellow-800 mb-2",children:["This page is for requesting to ",r.jsx("strong",{children:"EARN"})," comp-off days when you work on non-shift days (weekends, holidays)."]}),r.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1 list-disc list-inside",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"To EARN comp-off:"})," Submit a request here if you worked on a non-shift day"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"To USE comp-off:"}),' Go to "Leave Requests" page and select leave type "Comp-Off (Use Earned)"']})]})]}),(e==null?void 0:e.user_type)==="employee"&&i&&i.length>0&&r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(b0,{className:"w-5 h-5 text-indigo-600"}),"Monthly Comp-Off Breakdown"]}),r.jsxs("button",{onClick:()=>u(!p),className:"text-sm bg-indigo-100 text-indigo-700 px-3 py-1 rounded hover:bg-indigo-200 transition",children:[p?"Hide":"Show"," Details"]})]}),p&&r.jsx("div",{className:"space-y-4",children:i.map(M=>r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-semibold text-gray-800",children:new Date(M.month+"-01").toLocaleDateString("en-US",{month:"long",year:"numeric"})}),r.jsxs("span",{className:"text-xs bg-white px-2 py-1 rounded border border-gray-300",children:["Expires: ",new Date(M.expiry_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[r.jsxs("div",{className:"bg-white p-2 rounded border border-gray-300",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Earned"}),r.jsx("p",{className:"text-lg font-bold text-blue-600",children:M.earned})]}),r.jsxs("div",{className:"bg-white p-2 rounded border border-gray-300",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Used"}),r.jsx("p",{className:"text-lg font-bold text-orange-600",children:M.used})]}),r.jsxs("div",{className:"bg-white p-2 rounded border border-gray-300",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Available"}),r.jsx("p",{className:"text-lg font-bold text-green-600",children:M.available})]}),r.jsxs("div",{className:"bg-white p-2 rounded border border-gray-300",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Expired"}),r.jsx("p",{className:"text-lg font-bold text-red-600",children:M.expired})]})]}),M.details&&M.details.length>0&&r.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[r.jsx("p",{className:"font-semibold text-gray-700",children:"Transaction History:"}),M.details.slice(0,3).map((U,K)=>r.jsxs("p",{className:"text-gray-600",children:[" ",new Date(U.date).toLocaleDateString()," - ",U.type.toUpperCase(),": ",U.notes]},K)),M.details.length>3&&r.jsxs("p",{className:"text-gray-500 italic",children:["+ ",M.details.length-3," more transactions"]})]})]},M.month))})]}),m&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3 items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-red-800",children:"Error"}),r.jsx("p",{className:"text-red-700 text-sm",children:m})]})]}),(e==null?void 0:e.user_type)==="employee"&&r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Request to Earn Comp-Off"}),!d&&r.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition",children:[r.jsx(Rt,{className:"w-4 h-4"}),"New Comp-Off Request"]})]}),d&&r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date You Worked (Non-Shift Day) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",value:f.comp_off_date,onChange:M=>x({...f,comp_off_date:M.target.value}),className:"w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the date when you worked on a non-shift day (weekend/holiday) to earn comp-off."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason (What work did you do?)"}),r.jsx("textarea",{value:f.reason,onChange:M=>x({...f,reason:M.target.value}),placeholder:"e.g., Worked on project deadline, attended emergency meeting, etc.",className:"w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:"3"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:N,disabled:g,className:"flex-1 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition disabled:opacity-50",children:g?"Submitting...":"Request to Earn Comp-Off"}),r.jsx("button",{onClick:()=>c(!1),className:"flex-1 bg-gray-300 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-400 transition",children:"Cancel"})]})]})]}),(e==null?void 0:e.user_type)==="manager"&&r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Grant Comp-Off to Employee (For Non-Shift Work)"}),!d&&r.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition",children:[r.jsx(Rt,{className:"w-4 h-4"}),"New Comp-Off Request"]})]}),d&&r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Employee ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:f.employee_id,onChange:M=>x({...f,employee_id:M.target.value}),className:"w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"",children:"Select an employee..."}),S.map(M=>r.jsxs("option",{value:M.id,children:[M.first_name," ",M.last_name," (ID: ",M.employee_id,")"]},M.id))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date Employee Worked (Non-Shift Day) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",value:f.comp_off_date,onChange:M=>x({...f,comp_off_date:M.target.value}),className:"w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the date when the employee worked on a non-shift day (weekend/holiday)."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason (What work did they do?)"}),r.jsx("textarea",{value:f.reason,onChange:M=>x({...f,reason:M.target.value}),placeholder:"e.g., Worked on project deadline, attended emergency meeting, etc.",className:"w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:"3"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:N,disabled:g||!f.employee_id,className:"flex-1 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition disabled:opacity-50",children:g?"Creating...":"Grant Comp-Off Request"}),r.jsx("button",{onClick:()=>c(!1),className:"flex-1 bg-gray-300 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-400 transition",children:"Cancel"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:(e==null?void 0:e.user_type)==="employee"?"Your Comp-Off Earning Requests":"Comp-Off Earning Requests"}),(e==null?void 0:e.user_type)==="employee"&&r.jsx("button",{onClick:k,disabled:g,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition disabled:opacity-50",children:" Download Report"})]}),g&&!n.length?r.jsx("div",{className:"p-6 text-center text-gray-500",children:r.jsx("p",{children:"Loading comp-off requests..."})}):n.length===0?r.jsx("div",{className:"p-6 text-center text-gray-500",children:r.jsx("p",{children:(e==null?void 0:e.user_type)==="employee"?"No comp-off requests yet. Apply for comp-off on a free day.":"No comp-off requests to review."})}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[r.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Date"}),(e==null?void 0:e.user_type)!=="employee"&&r.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Employee"}),r.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Reason"}),r.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Status"}),(e==null?void 0:e.user_type)==="manager"&&r.jsx("th",{className:"px-6 py-3 text-center font-semibold text-gray-700",children:"Actions"})]})}),r.jsx("tbody",{children:n.map(M=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:O(M.comp_off_date)}),F(M.comp_off_date)&&r.jsx("p",{className:"text-xs text-indigo-600 font-semibold",children:"Today"}),Q(M.comp_off_date)&&r.jsx("p",{className:"text-xs text-gray-500",children:"Future"})]})}),(e==null?void 0:e.user_type)!=="employee"&&r.jsx("td",{className:"px-6 py-4 text-gray-700",children:M.employee?`${M.employee.first_name} ${M.employee.last_name} (${M.employee.employee_id})`:`Employee #${M.employee_id}`}),r.jsx("td",{className:"px-6 py-4 text-gray-700",children:M.reason||"-"}),r.jsx("td",{className:"px-6 py-4",children:R(M.status)}),(e==null?void 0:e.user_type)==="manager"&&M.status==="pending"&&r.jsxs("td",{className:"px-6 py-4 text-center space-x-2",children:[r.jsx("button",{onClick:()=>E(M.id),disabled:g,className:"inline-block bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 transition disabled:opacity-50",children:"Approve"}),r.jsx("button",{onClick:()=>v(M.id),disabled:g,className:"inline-block bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 transition disabled:opacity-50",children:"Reject"})]}),(e==null?void 0:e.user_type)==="manager"&&M.status!=="pending"&&r.jsx("td",{className:"px-6 py-4 text-center text-gray-500",children:M.review_notes&&r.jsxs("span",{title:M.review_notes,className:"text-xs",children:[M.review_notes.substring(0,20),"..."]})})]},M.id))})]})})]})]})},yj=({user:e})=>{const t=wd(),[n,s]=y.useState(null),[a,l]=y.useState(!0);y.useEffect(()=>{i()},[]);const i=async()=>{try{const o=ie(new Date,"yyyy-MM-dd"),[d]=await Promise.all([Ol(o,o)]);s(d.data[0]||null)}catch(o){console.error("Failed to load dashboard data:",o)}finally{l(!1)}};return a?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-xl text-gray-500",children:"Loading..."})}):r.jsxs("div",{children:[r.jsx(ze,{title:"Employee Dashboard",subtitle:`Welcome back, ${e.full_name}`}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[r.jsx(G,{title:`Today's Schedule - ${ie(new Date,"MMM dd, yyyy")}`,children:n?r.jsxs("div",{className:"space-y-4",children:[n.status!=="comp_off"&&r.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Shift Time"}),r.jsxs("p",{className:"text-lg font-semibold text-blue-900",children:[n.start_time," - ",n.end_time]})]}),r.jsx(Ee,{className:"w-8 h-8 text-blue-600"})]}),n.status==="comp_off"&&r.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),r.jsx("p",{className:"text-lg font-semibold text-purple-900",children:"Full Day Comp-Off"})]}),r.jsx(Ee,{className:"w-8 h-8 text-purple-600"})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ds,{className:"w-12 h-12 mx-auto text-gray-400 mb-3"}),r.jsx("p",{className:"text-gray-500",children:"No shift scheduled for today"}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Enjoy your day off!"})]})}),r.jsx(xj,{}),r.jsx(G,{title:"Quick Access",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs(B,{variant:"outline",fullWidth:!0,className:"justify-start",onClick:()=>t("/schedule"),children:[r.jsx(Ds,{className:"w-5 h-5 mr-3"}),"View My Schedule"]}),r.jsxs(B,{variant:"outline",fullWidth:!0,className:"justify-start",onClick:()=>t("/requests"),children:[r.jsx(Ee,{className:"w-5 h-5 mr-3"}),"Request Leave"]}),r.jsxs(B,{variant:"outline",fullWidth:!0,className:"justify-start",onClick:()=>t("/messages"),children:[r.jsx(go,{className:"w-5 h-5 mr-3"}),"Messages"]}),r.jsxs(B,{variant:"outline",fullWidth:!0,className:"justify-start",onClick:()=>t("/attendance"),children:[r.jsx(Ts,{className:"w-5 h-5 mr-3"}),"View Attendance History"]})]})})]}),r.jsx(G,{title:"Important Information",children:r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[r.jsx("p",{children:" Remember to check in when you arrive for your shift"}),r.jsx("p",{children:" Check your schedule regularly for any updates"}),r.jsx("p",{children:" Submit leave requests in advance"}),r.jsx("p",{children:" Contact your manager if you have any questions"})]})})]})]})},vj=({user:e})=>{const[t,n]=y.useState(null),[s,a]=y.useState(!1),[l,i]=y.useState(null),[o,d]=y.useState("Office"),[c,p]=y.useState(""),[u,g]=y.useState({type:"",text:""}),[b,m]=y.useState(!0);y.useEffect(()=>{j()},[]);const j=async()=>{try{const f=ie(new Date,"yyyy-MM-dd"),x=await Ol(f,f);n(x.data[0]||null)}catch(f){console.error("Failed to load schedule:",f)}finally{m(!1)}},S=async()=>{var f,x;g({type:"",text:""});try{await bp(o),a(!0),i(new Date),g({type:"success",text:"Successfully checked in!"})}catch(w){g({type:"error",text:((x=(f=w.response)==null?void 0:f.data)==null?void 0:x.detail)||"Failed to check in. Please try again."})}},h=async()=>{var f,x;g({type:"",text:""});try{await jp(c),a(!1),g({type:"success",text:"Successfully checked out!"}),setTimeout(()=>{i(null),p("")},2e3)}catch(w){g({type:"error",text:((x=(f=w.response)==null?void 0:f.data)==null?void 0:x.detail)||"Failed to check out. Please try again."})}};return b?r.jsx("div",{className:"p-6",children:"Loading..."}):t?r.jsxs("div",{children:[r.jsx(ze,{title:"Check In/Out",subtitle:"Record your attendance"}),r.jsxs("div",{className:"p-6",children:[u.text&&r.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-start ${u.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[u.type==="success"?r.jsx(Pe,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}):r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:`text-sm ${u.type==="success"?"text-green-700":"text-red-700"}`,children:u.text})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(G,{title:`Today's Shift - ${ie(new Date,"MMMM dd, yyyy")}`,children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Scheduled Time"}),r.jsxs("p",{className:"text-lg font-semibold text-blue-900",children:[t.start_time," - ",t.end_time]})]}),r.jsx(Ee,{className:"w-8 h-8 text-blue-600"})]}),s&&l&&r.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Checked In At"}),r.jsx("p",{className:"text-lg font-semibold text-green-900",children:ie(l,"HH:mm:ss")})]}),r.jsx(Pe,{className:"w-8 h-8 text-green-600"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Current Time"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ie(new Date,"HH:mm:ss")})]}),r.jsx(Ee,{className:"w-8 h-8 text-gray-600"})]})]})}),r.jsx(G,{title:s?"Check Out":"Check In",children:s?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg text-center",children:[r.jsx(Pe,{className:"w-12 h-12 mx-auto text-green-600 mb-2"}),r.jsx("p",{className:"text-green-800 font-semibold",children:"You are checked in"}),r.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Since ",l&&ie(l,"HH:mm:ss")]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),r.jsx("textarea",{value:c,onChange:f=>p(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",rows:"3",placeholder:"Add any notes about your shift..."})]}),r.jsxs(B,{variant:"danger",fullWidth:!0,className:"h-14 text-lg",onClick:h,children:[r.jsx(el,{className:"w-6 h-6 mr-2 inline"}),"Check Out Now"]}),r.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Click the button above when you're leaving"})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),r.jsxs("select",{value:o,onChange:f=>d(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[r.jsx("option",{value:"Office",children:"Office"}),r.jsx("option",{value:"Remote",children:"Remote"}),r.jsx("option",{value:"Client Site",children:"Client Site"})]})]}),r.jsxs(B,{variant:"success",fullWidth:!0,className:"h-14 text-lg",onClick:S,children:[r.jsx(Ts,{className:"w-6 h-6 mr-2 inline"}),"Check In Now"]}),r.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Click the button above when you arrive at your shift location"})]})})]}),r.jsx(G,{title:"Tips",className:"mt-6",children:r.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[r.jsx("li",{children:" Check in when you arrive at your scheduled shift"}),r.jsx("li",{children:" Make sure to check out when you leave"}),r.jsx("li",{children:" Late check-ins may be flagged for review"}),r.jsx("li",{children:" Contact your manager if you have any issues"})]})})]})]}):r.jsxs("div",{children:[r.jsx(ze,{title:"Check In/Out",subtitle:"Record your attendance"}),r.jsx("div",{className:"p-6",children:r.jsx(G,{children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ee,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500 text-lg",children:"No shift scheduled for today"}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"You don't need to check in today"})]})})})]})},bj=()=>{const[e,t]=y.useState([]),[n,s]=y.useState(new Date),[a,l]=y.useState(!0);y.useEffect(()=>{i()},[n]);const i=async()=>{try{const o=ie(Cp(n),"yyyy-MM-dd"),d=ie(Pd(n),"yyyy-MM-dd"),c=await Ol(o,d);t(c.data)}catch(o){console.error("Failed to load schedules:",o)}finally{l(!1)}};return a?r.jsx("div",{className:"p-6",children:"Loading..."}):r.jsxs("div",{children:[r.jsx(ze,{title:"My Schedule",subtitle:"View your upcoming shifts"}),r.jsxs("div",{className:"p-6",children:[r.jsxs(G,{children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(B,{variant:"outline",size:"sm",onClick:()=>s(Pp(n,1)),children:r.jsx(Nd,{className:"w-4 h-4"})}),r.jsx("h2",{className:"text-xl font-semibold",children:ie(n,"MMMM yyyy")}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>s(Od(n,1)),children:r.jsx(_d,{className:"w-4 h-4"})})]})}),e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(kl,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No shifts scheduled for this month"}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Check back later for updates"})]}):r.jsx("div",{className:"space-y-4",children:e.map(o=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:bg-blue-50 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:ie(new Date(o.date),"EEEE, MMMM dd, yyyy")}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[o.start_time," - ",o.end_time]})]}),r.jsx("div",{className:"text-right",children:r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:"Scheduled"})})]})},o.id))})]}),r.jsx(G,{title:"Schedule Information",className:"mt-6",children:r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[r.jsx("p",{children:" Your schedule is updated regularly by your manager"}),r.jsx("p",{children:" Make sure to check in on time for your shifts"}),r.jsx("p",{children:" If you can't make a shift, request leave in advance"}),r.jsx("p",{children:" Contact your manager if you have questions about your schedule"})]})})]})]})},jj=({user:e})=>{const[t,n]=y.useState([]),[s,a]=y.useState(null),[l,i]=y.useState(!1),[o,d]=y.useState(!0),[c,p]=y.useState(""),[u,g]=y.useState(null),[b,m]=y.useState({leave_type:"paid",duration_type:"full_day",start_date:"",end_date:"",reason:""});y.useEffect(()=>{j()},[]);const j=async()=>{try{const E=(await Tl()).data.find(k=>k.user_id===e.id);E&&g(E.id);const v=await Rl();n(v.data);try{const k=await mv();a(k.data);const R=k.data;R.available_paid_leave>0?m(O=>({...O,leave_type:"paid"})):R.comp_off_available>0?m(O=>({...O,leave_type:"comp_off"})):m(O=>({...O,leave_type:"unpaid"}))}catch(k){console.error("Failed to load leave statistics:",k)}}catch(w){console.error("Failed to load leave requests:",w)}finally{d(!1)}},S=async w=>{var N,E;if(w.preventDefault(),p(""),!u){p("Unable to find your employee record. Please refresh the page.");return}try{const v={...b,employee_id:u};v.duration_type.startsWith("half_day")&&(v.end_date=v.start_date),await wp(v),i(!1),(s==null?void 0:s.available_paid_leave)>0?m({leave_type:"paid",duration_type:"full_day",start_date:"",end_date:"",reason:""}):(s==null?void 0:s.comp_off_available)>0?m({leave_type:"comp_off",duration_type:"full_day",start_date:"",end_date:"",reason:""}):m({leave_type:"unpaid",duration_type:"full_day",start_date:"",end_date:"",reason:""}),j()}catch(v){let k="Failed to create leave request";if((E=(N=v.response)==null?void 0:N.data)!=null&&E.detail){const R=v.response.data.detail;Array.isArray(R)?k=R.map(O=>{var F;return typeof O=="object"&&O.msg?`${((F=O.loc)==null?void 0:F[1])||"field"}: ${O.msg}`:String(O)}).join("; "):typeof R=="object"&&R.msg?k=R.msg:typeof R=="string"&&(k=R)}p(k)}},h=w=>{const N={pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Ee},approved:{bg:"bg-green-100",text:"text-green-800",icon:Pe},rejected:{bg:"bg-red-100",text:"text-red-800",icon:Hn}},E=N[w]||N.pending,v=E.icon;return r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${E.bg} ${E.text} flex items-center`,children:[r.jsx(v,{className:"w-3 h-3 mr-1"}),w.charAt(0).toUpperCase()+w.slice(1)]})};if(o)return r.jsx("div",{className:"p-6",children:"Loading..."});const f=t.filter(w=>w.status==="pending").length,x=t.filter(w=>w.status==="approved").length;return r.jsxs("div",{children:[r.jsx(ze,{title:"Leave Requests",subtitle:"Request and manage your time off"}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Pending"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:f})]}),r.jsx(Ee,{className:"w-8 h-8 text-yellow-600"})]})})}),r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Approved"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:x})]}),r.jsx(Pe,{className:"w-8 h-8 text-green-600"})]})})}),r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Requests"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.length})]}),r.jsx(we,{className:"w-8 h-8 text-blue-600"})]})})})]}),s&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Paid Leave"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600",children:s.total_paid_leave||0})]}),r.jsx(kl,{className:"w-8 h-8 text-purple-600"})]})})}),r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Taken Paid Leave"}),r.jsx("p",{className:"text-3xl font-bold text-orange-600",children:s.taken_paid_leave||0})]}),r.jsx(Pe,{className:"w-8 h-8 text-orange-600"})]})})}),r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Available Paid Leave"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:s.available_paid_leave||0})]}),r.jsx(Pe,{className:"w-8 h-8 text-green-600"})]})})}),r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Usage %"}),r.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[s.total_paid_leave>0?Math.round(s.taken_paid_leave/s.total_paid_leave*100):0,"%"]})]}),r.jsx(we,{className:"w-8 h-8 text-blue-600"})]})})})]}),r.jsx(G,{title:"My Leave Requests",subtitle:`${t.length} total requests`,headerAction:r.jsxs(B,{onClick:()=>i(!0),children:[r.jsx(Rt,{className:"w-4 h-4 mr-2 inline"}),"New Request"]}),children:t.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ee,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No leave requests yet"}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Create your first request to get started"})]}):r.jsx("div",{className:"space-y-4",children:t.map(w=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:w.leave_type.replace("_"," ")}),h(w.status)]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[ie(new Date(w.start_date),"MMM dd, yyyy")," -"," ",ie(new Date(w.end_date),"MMM dd, yyyy")]}),r.jsx("p",{className:"text-sm text-gray-700",children:w.reason}),w.review_notes&&r.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Manager's Note:"}),r.jsx("p",{className:"text-sm text-gray-700",children:w.review_notes})]})]})})},w.id))})}),r.jsxs(He,{isOpen:l,onClose:()=>i(!1),title:"Request Leave",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),r.jsx(B,{onClick:S,children:"Submit Request"})]}),children:[c&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:c})]}),r.jsxs("form",{onSubmit:S,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-4 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" Leave Type"}),r.jsxs("select",{value:b.leave_type,onChange:w=>m({...b,leave_type:w.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none font-medium",required:!0,children:[(s==null?void 0:s.available_paid_leave)>0&&r.jsxs("option",{value:"paid",children:[" Paid Leave (",s.available_paid_leave," days)"]}),r.jsx("option",{value:"unpaid",children:" Unpaid Leave"}),(s==null?void 0:s.comp_off_available)>0&&r.jsxs("option",{value:"comp_off",children:[" Comp-off (Available: ",s.comp_off_available,")"]})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the type of leave you are requesting"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" Duration Type"}),r.jsxs("select",{value:b.duration_type,onChange:w=>m({...b,duration_type:w.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none font-medium",required:!0,children:[r.jsx("option",{value:"full_day",children:"Full Day (Entire Day)"}),r.jsx("option",{value:"half_day_morning",children:"Half Day - Morning Only"}),r.jsx("option",{value:"half_day_afternoon",children:"Half Day - Afternoon Only"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose if this is a full or half day"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-4 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" Start Date"}),r.jsx("input",{type:"date",value:b.start_date,onChange:w=>m({...b,start_date:w.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none font-medium",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" End Date"}),r.jsx("input",{type:"date",value:b.end_date,onChange:w=>m({...b,end_date:w.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none font-medium",required:!0,disabled:b.duration_type.startsWith("half_day")}),b.duration_type.startsWith("half_day")&&r.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Auto-set to start date for half-day leaves"})]})]}),r.jsxs("div",{className:"pb-4",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" Reason"}),r.jsx("textarea",{value:b.reason,onChange:w=>m({...b,reason:w.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",rows:"3",placeholder:"Provide a reason for your request (optional)..."})]}),b.leave_type&&b.duration_type&&b.start_date&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Request Summary:"})," ",b.duration_type.startsWith("half_day")?"Half Day":"Full Day"," ",b.leave_type," leave on ",new Date(b.start_date).toLocaleDateString(),b.duration_type==="half_day_morning"&&" (Morning)",b.duration_type==="half_day_afternoon"&&" (Afternoon)"]})})]})]})]})]})},wj=()=>{const[e,t]=y.useState([]),[n,s]=y.useState(new Date),[a,l]=y.useState(!0),[i,o]=y.useState({present:0,late:0,absent:0}),[d,c]=y.useState(!1);y.useEffect(()=>{p()},[n]);const p=async()=>{try{const g=ie(Cp(n),"yyyy-MM-dd"),b=ie(Pd(n),"yyyy-MM-dd"),m=await Pl(g,b);t(m.data);let j=0,S=0,h=0;m.data.forEach(f=>{f.in_time?f.status==="onTime"?j++:S++:h++}),o({present:j,late:S,absent:h})}catch(g){console.error("Failed to load attendance:",g)}finally{l(!1)}},u=async()=>{try{c(!0);const g=n.getFullYear(),b=n.getMonth()+1,m=localStorage.getItem("token"),j=await fetch(`http://localhost:8000/attendance/export/employee-monthly?year=${g}&month=${b}`,{method:"GET",headers:{Authorization:`Bearer ${m}`}});if(!j.ok)throw new Error("Download failed");const S=await j.blob(),h=window.URL.createObjectURL(S),f=document.createElement("a");f.href=h,f.download=`attendance_${ie(n,"MMMM_yyyy")}.xlsx`,document.body.appendChild(f),f.click(),document.body.removeChild(f),window.URL.revokeObjectURL(h)}catch(g){console.error("Download failed:",g),alert("Failed to download report")}finally{c(!1)}};return a?r.jsx("div",{className:"p-6",children:"Loading..."}):r.jsxs("div",{children:[r.jsx(ze,{title:"My Attendance",subtitle:"View your attendance history"}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"On Time"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:i.present})]}),r.jsx(Pe,{className:"w-8 h-8 text-green-600"})]})})}),r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Late"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:i.late})]}),r.jsx(Ee,{className:"w-8 h-8 text-yellow-600"})]})})}),r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Absent"}),r.jsx("p",{className:"text-3xl font-bold text-red-600",children:i.absent})]}),r.jsx(Hn,{className:"w-8 h-8 text-red-600"})]})})})]}),r.jsxs(G,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(B,{variant:"outline",size:"sm",onClick:()=>s(Pp(n,1)),children:r.jsx(Nd,{className:"w-4 h-4"})}),r.jsx("h2",{className:"text-xl font-semibold",children:ie(n,"MMMM yyyy")}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>s(Od(n,1)),children:r.jsx(_d,{className:"w-4 h-4"})})]}),r.jsxs(B,{onClick:u,disabled:d,size:"sm",className:"flex items-center space-x-2",children:[r.jsx(y0,{className:"w-4 h-4"}),r.jsx("span",{children:d?"Downloading...":"Download Report"})]})]}),e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ee,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No attendance records for this month"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Scheduled Time"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Check-In"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Check-Out"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(g=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:ie(new Date(g.date),"MMM dd, yyyy")}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:g.schedule?`${g.schedule.start_time} - ${g.schedule.end_time}`:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:g.in_time?g.in_time:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:g.out_time?g.out_time:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${g.status==="onTime"?"bg-green-100 text-green-800":g.status==="slightlyLate"?"bg-yellow-100 text-yellow-800":g.status==="late"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:g.status||"Scheduled"})})]},g.id))})]})})]}),r.jsx(G,{title:"Attendance Tips",className:"mt-6",children:r.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[r.jsx("li",{children:" Always check in on time to maintain a good attendance record"}),r.jsx("li",{children:" Late arrivals may impact your performance reviews"}),r.jsx("li",{children:" If you'll be late or absent, notify your manager in advance"}),r.jsx("li",{children:" Your attendance history is visible to management"})]})})]})]})},Nj=()=>{const[e,t]=y.useState([]),[n,s]=y.useState(!0);y.useEffect(()=>{a()},[]);const a=async()=>{try{const d=await Np();t(d.data)}catch(d){console.error("Failed to load messages:",d)}finally{s(!1)}},l=async d=>{if(window.confirm("Are you sure you want to delete this message?"))try{await _p(d),a()}catch{alert("Failed to delete message")}},i=async(d,c)=>{try{c||await kv(d),a()}catch{alert("Failed to update message status")}};if(n)return r.jsx("div",{className:"p-6",children:"Loading..."});const o=e.filter(d=>!d.is_read).length;return r.jsxs("div",{children:[r.jsx(ze,{title:"Messages",subtitle:"Messages from your manager"}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Unread Messages"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:o})]}),r.jsx(ci,{className:"w-8 h-8 text-blue-600"})]})})}),r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Messages"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),r.jsx(v0,{className:"w-8 h-8 text-gray-600"})]})})})]}),r.jsx(G,{title:"All Messages",subtitle:`${e.length} total messages`,children:e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ci,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No messages yet"}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Messages from your manager will appear here"})]}):r.jsx("div",{className:"space-y-4",children:e.map(d=>r.jsxs("div",{className:`border rounded-lg p-4 transition-colors ${d.is_read?"border-gray-200 bg-white hover:border-gray-300":"border-blue-200 bg-blue-50 hover:border-blue-300"}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[!d.is_read&&r.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-yellow-200 text-yellow-800",children:"Unread"}),r.jsx("h4",{className:"font-semibold text-gray-900",children:d.subject})]}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["From: ",d.department_id?"Department Manager":"Manager"]})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsx("span",{className:"text-xs text-gray-500",children:ie(new Date(d.created_at),"MMM dd, HH:mm")}),r.jsx("button",{onClick:()=>i(d.id,d.is_read),className:`p-1 rounded ${d.is_read?"text-gray-400 hover:text-blue-600 hover:bg-blue-50":"text-blue-600 hover:text-blue-700 hover:bg-blue-50"}`,title:d.is_read?"Mark as unread":"Mark as read",children:r.jsx(ci,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>l(d.id),className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50",title:"Delete message",children:r.jsx(Bn,{className:"w-4 h-4"})})]})]}),r.jsx("p",{className:"text-gray-700 mt-3 pl-2 border-l-2 border-gray-300 whitespace-pre-wrap",children:d.message})]},d.id))})})]})]})},_j=({user:e})=>{const[t,n]=y.useState([]),[s,a]=y.useState(!1),[l,i]=y.useState(!0),[o,d]=y.useState(""),[c,p]=y.useState(""),[u,g]=y.useState({leave_type:"paid",duration_type:"full_day",start_date:"",end_date:"",reason:""}),[b,m]=y.useState(0);y.useEffect(()=>{S(),j()},[]);const j=async()=>{try{const v=await z.get("/comp-off/balance");v.data&&v.data.balance&&m(v.data.balance)}catch(v){console.error("Failed to load comp-off balance:",v)}},S=async()=>{try{const v=await Rl();n(v.data||[])}catch(v){console.error("Failed to load requests:",v)}finally{i(!1)}},h=async v=>{var k,R;v.preventDefault(),d(""),p("");try{const O={...u};O.duration_type&&O.duration_type.startsWith("half_day")&&(O.end_date=O.start_date),await wp(O),p(" Leave request submitted successfully! Your manager will review it."),g({leave_type:"paid",duration_type:"full_day",start_date:"",end_date:"",reason:""}),a(!1),S(),setTimeout(()=>p(""),3e3)}catch(O){d(((R=(k=O.response)==null?void 0:k.data)==null?void 0:R.detail)||"Failed to submit request")}},f=v=>{switch(v){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},x=v=>{switch(v){case"approved":return r.jsx(Pe,{className:"w-5 h-5 inline mr-2 text-green-600"});case"rejected":return r.jsx(qn,{className:"w-5 h-5 inline mr-2 text-red-600"});case"pending":return r.jsx(Ee,{className:"w-5 h-5 inline mr-2 text-yellow-600"});default:return null}},w=t.filter(v=>v.status==="pending"),N=t.filter(v=>v.status==="approved"),E=t.filter(v=>v.status==="rejected");return l?r.jsx("div",{className:"p-6",children:"Loading..."}):r.jsxs("div",{className:"min-h-screen bg-gray-100",children:[r.jsx(ze,{title:"Requests & Approvals",subtitle:"Manage your leave and overtime requests"}),r.jsxs("div",{className:"p-6",children:[c&&r.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-start",children:[r.jsx(Pe,{className:"w-5 h-5 text-green-600 mr-3 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-green-800",children:c})]}),o&&r.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-red-800",children:o})]}),r.jsx(G,{title:"Pending Requests",subtitle:w.length===0?"No pending requests":"",action:r.jsxs(B,{onClick:()=>a(!0),size:"sm",children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"New Request"]}),children:w.length>0&&r.jsx("div",{className:"space-y-3",children:w.map(v=>r.jsx("div",{className:"p-4 border border-yellow-200 bg-yellow-50 rounded-lg",children:r.jsx("div",{className:"flex justify-between items-start",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[x(v.status),r.jsx("span",{className:"font-semibold capitalize",children:v.leave_type}),v.duration_type&&v.duration_type!=="full_day"&&r.jsx("span",{className:"text-xs ml-2 px-2 py-1 bg-yellow-100 rounded capitalize",children:v.duration_type.replace(/_/g," ")}),r.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${f(v.status)}`,children:v.status.charAt(0).toUpperCase()+v.status.slice(1)})]}),r.jsxs("p",{className:"text-sm text-gray-700",children:[v.start_date," to ",v.end_date]}),v.reason&&r.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[r.jsx("strong",{children:"Reason:"})," ",v.reason]})]})})},v.id))})}),N.length>0&&r.jsx(G,{title:"Approved Requests",className:"mt-6",children:r.jsx("div",{className:"space-y-3",children:N.map(v=>r.jsx("div",{className:"p-4 border border-green-200 bg-green-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Pe,{className:"w-5 h-5 text-green-600 mr-3 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-semibold capitalize",children:v.leave_type}),v.duration_type&&v.duration_type!=="full_day"&&r.jsx("span",{className:"text-xs ml-2 px-2 py-1 bg-green-100 rounded capitalize",children:v.duration_type.replace(/_/g," ")})]}),r.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[v.start_date," to ",v.end_date]}),v.reason&&r.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[r.jsx("strong",{children:"Reason:"})," ",v.reason]}),v.reviewed_by&&r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Approved by manager on ",v.reviewed_at]})]})]})},v.id))})}),E.length>0&&r.jsx(G,{title:"Rejected Requests",className:"mt-6",children:r.jsx("div",{className:"space-y-3",children:E.map(v=>r.jsx("div",{className:"p-4 border border-red-200 bg-red-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(qn,{className:"w-5 h-5 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-semibold capitalize",children:v.leave_type}),v.duration_type&&v.duration_type!=="full_day"&&r.jsx("span",{className:"text-xs ml-2 px-2 py-1 bg-red-100 rounded capitalize",children:v.duration_type.replace(/_/g," ")})]}),r.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[v.start_date," to ",v.end_date]}),v.reason&&r.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[r.jsx("strong",{children:"Reason:"})," ",v.reason]}),v.reviewed_by&&r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Rejected by manager on ",v.reviewed_at]})]})]})},v.id))})}),r.jsx(He,{isOpen:s,onClose:()=>a(!1),title:"Submit Leave Request",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),r.jsx(B,{onClick:h,children:"Submit Request"})]}),children:r.jsxs("form",{onSubmit:h,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-4 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" Leave Type"}),r.jsxs("select",{value:u.leave_type,onChange:v=>g({...u,leave_type:v.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none font-medium",children:[r.jsx("option",{value:"paid",children:" Paid Leave"}),r.jsx("option",{value:"unpaid",children:" Unpaid Leave"}),b>0&&r.jsxs("option",{value:"comp_off",children:[" Comp-off (Available: ",b,")"]})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the type of leave you are requesting"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" Duration Type"}),r.jsxs("select",{value:u.duration_type,onChange:v=>g({...u,duration_type:v.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none font-medium",children:[r.jsx("option",{value:"full_day",children:"Full Day (Entire Day)"}),r.jsx("option",{value:"half_day_morning",children:"Half Day - Morning Only"}),r.jsx("option",{value:"half_day_afternoon",children:"Half Day - Afternoon Only"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose if this is a full or half day"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-4 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" Start Date"}),r.jsx("input",{type:"date",value:u.start_date,onChange:v=>g({...u,start_date:v.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none font-medium",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" End Date"}),r.jsx("input",{type:"date",value:u.end_date,onChange:v=>g({...u,end_date:v.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none font-medium",required:!0,disabled:u.duration_type.startsWith("half_day")}),u.duration_type.startsWith("half_day")&&r.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Auto-set to start date for half-day leaves"})]})]}),r.jsxs("div",{className:"pb-4",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" Reason"}),r.jsx("textarea",{value:u.reason,onChange:v=>g({...u,reason:v.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",rows:"3",placeholder:"Provide a reason for your request (optional)..."})]}),u.leave_type&&u.duration_type&&u.start_date&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Request Summary:"})," ",u.duration_type.startsWith("half_day")?"Half Day":"Full Day"," ",u.leave_type," leave on ",new Date(u.start_date).toLocaleDateString(),u.duration_type==="half_day_morning"&&" (Morning)",u.duration_type==="half_day_afternoon"&&" (Afternoon)"]})})]})})]})]})},kj=({user:e})=>r.jsxs("div",{children:[r.jsx(ze,{title:"Comp-Off Management",subtitle:"Apply and manage your comp-off balance"}),r.jsx("div",{className:"p-6",children:r.jsx(Lp,{currentUser:e,departmentId:null})})]}),Sj=({user:e,onLogout:t})=>r.jsxs("div",{className:"flex h-screen bg-gray-100",children:[r.jsx(Ld,{user:e,onLogout:t}),r.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsxs(_l,{children:[r.jsx(be,{path:"/dashboard",element:r.jsx(yj,{user:e})}),r.jsx(be,{path:"/check-in",element:r.jsx(vj,{user:e})}),r.jsx(be,{path:"/schedule",element:r.jsx(bj,{})}),r.jsx(be,{path:"/leaves",element:r.jsx(jj,{user:e})}),r.jsx(be,{path:"/requests",element:r.jsx(_j,{user:e})}),r.jsx(be,{path:"/overtime-requests",element:r.jsx(gj,{})}),r.jsx(be,{path:"/comp-off",element:r.jsx(kj,{user:e})}),r.jsx(be,{path:"/attendance",element:r.jsx(wj,{})}),r.jsx(be,{path:"/messages",element:r.jsx(Nj,{})}),r.jsx(be,{path:"/",element:r.jsx(Es,{to:"/dashboard",replace:!0})})]})})})]}),Ad=({columns:e,data:t,onRowClick:n,emptyMessage:s="No data available"})=>r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsx("tr",{children:e.map((a,l)=>r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a.header},l))})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:e.length,className:"px-6 py-12 text-center text-gray-500",children:s})}):t.map((a,l)=>r.jsx("tr",{onClick:()=>n&&n(a),className:n?"hover:bg-gray-50 cursor-pointer":"",children:e.map((i,o)=>r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.render?i.render(a):a[i.accessor]},o))},l))})]})}),Cj=({departmentId:e,employees:t=[],roles:n=[]})=>{var Cn,Bs;const[s,a]=y.useState("view"),[l,i]=y.useState([]),[o,d]=y.useState(!1),[c,p]=y.useState(W(new Date)),[u,g]=y.useState({}),[b,m]=y.useState({}),[j,S]=y.useState(!1),[h,f]=y.useState(!1),[x,w]=y.useState(null),[N,E]=y.useState(null),[v,k]=y.useState(W(new Date)),[R,O]=y.useState([]),[F,Q]=y.useState(null),[M,U]=y.useState(null),[K,_]=y.useState(null),[A,T]=y.useState(""),[I,J]=y.useState("");function W(X){const te=new Date(X),ce=te.getDay(),oe=te.getDate()-ce+(ce===0?-6:1);return new Date(te.setDate(oe)).toISOString().split("T")[0]}function Z(X){const te=[],ce=new Date(X);for(let oe=0;oe<7;oe++){const se=new Date(ce);se.setDate(se.getDate()+oe),te.push(se.toISOString().split("T")[0])}return te}y.useEffect(()=>{pe(),Re()},[c,s]);const Re=async()=>{var X;try{const te=Z(c),ce=new Date(te[0]),oe=new Date(te[6]),se=new Set;se.add(`${ce.getFullYear()}-${ce.getMonth()+1}`),se.add(`${oe.getFullYear()}-${oe.getMonth()+1}`);const xe={};for(const ne of se){const[P,q]=ne.split("-").map(Number);try{const ae=await Dv(P,q);Object.assign(xe,((X=ae.data)==null?void 0:X.holidays)||{})}catch(ae){console.error(`Failed to load holidays for ${ne}:`,ae)}}m(xe)}catch(te){console.error("Failed to load holidays:",te)}},pe=async()=>{d(!0);try{const X=Z(c),te=X[0],ce=X[6],oe=await Ol(te,ce);i(oe.data||[]),O(JSON.parse(JSON.stringify(oe.data||[])));const se=await z.get("/leave-requests");if(se.data){const xe={};console.log("All leave requests:",se.data),se.data.forEach(ne=>{if(console.log(`Processing leave: emp=${ne.employee_id}, status=${ne.status}, start=${ne.start_date}, end=${ne.end_date}`),ne.status==="approved"){let P=typeof ne.start_date=="string"?ne.start_date:new Date(ne.start_date).toISOString().split("T")[0],q=typeof ne.end_date=="string"?ne.end_date:new Date(ne.end_date).toISOString().split("T")[0];console.log(`   Approved leave: emp=${ne.employee_id}, ${P} to ${q}`);const ae=oa(P),ue=oa(q);let Ne=ae;for(;ie(Ne,"yyyy-MM-dd")<=ie(ue,"yyyy-MM-dd");){const st=ie(Ne,"yyyy-MM-dd");xe[`${ne.employee_id}-${st}`]=ne,console.log(`     Added leave key: ${ne.employee_id}-${st}`),Ne=Lv(Ne,1)}}}),console.log("Final leave map:",xe),g(xe)}}catch(X){console.error("Failed to load schedules:",X),T("Failed to load schedules")}finally{d(!1)}},We=async()=>{var X,te,ce,oe,se,xe,ne;d(!0);try{const P=Z(v),q=P[0],ae=P[6];console.log("Generating schedules for",q,"to",ae);const ue=await vu(q,ae);if(console.log("Generation response:",ue),(X=ue.data)!=null&&X.requires_confirmation){if(window.confirm(ue.data.feedback.join(`
`)+`

Click OK to regenerate and replace existing schedules.`)){d(!0);const Lr=await vu(q,ae,!0),Ar=((te=Lr.data)==null?void 0:te.schedules_created)||0,Fr=((ce=Lr.data)==null?void 0:ce.feedback)||[];Ar>0?J(` Regenerated ${Ar} schedules!
${Fr.join(`
`)}`):T(` No schedules generated.
${Fr.join(`
`)}`)}else T("Schedule generation cancelled.");setTimeout(()=>{J(""),T("")},5e3),S(!1),p(v),setTimeout(()=>pe(),500),d(!1);return}const Ne=((oe=ue.data)==null?void 0:oe.schedules_created)||0,st=((se=ue.data)==null?void 0:se.feedback)||[];Ne>0?J(` Generated ${Ne} schedules!
${st.join(`
`)}`):T(` No schedules generated.
${st.join(`
`)}`),setTimeout(()=>{J(""),T("")},5e3),S(!1),p(v),setTimeout(()=>pe(),500)}catch(P){console.error("Generation error:",P);let q=P.message;const ae=(ne=(xe=P.response)==null?void 0:xe.data)==null?void 0:ne.detail;typeof ae=="string"?q=ae:Array.isArray(ae)&&(q=ae.map(ue=>typeof ue=="string"?ue:ue.msg||JSON.stringify(ue)).join(", ")),T("Failed to generate schedule: "+q),setTimeout(()=>T(""),3e3)}finally{d(!1)}},C=()=>{var te,ce;const X={id:`new-${Date.now()}`,employee_id:((te=t[0])==null?void 0:te.id)||"",role_id:((ce=n[0])==null?void 0:ce.id)||"",date:Z(c)[0],start_time:"09:00",end_time:"17:00",shift_id:null,status:"scheduled",isNew:!0};O([...R,X])},V=X=>{O(R.filter(te=>te.id!==X))},$=X=>{U(X.id),_({...X})},ee=()=>{K&&O(R.map(X=>X.id===K.id?{...X,start_time:K.start_time,end_time:K.end_time}:X)),U(null),_(null)},H=async()=>{var X,te,ce;d(!0);try{const oe=l.filter(q=>!R.find(ae=>ae.id===q.id)).map(q=>Ev(q.id)),se=R.filter(q=>q.isNew).map(q=>Sv({employee_id:q.employee_id,role_id:q.role_id,date:q.date,start_time:q.start_time,end_time:q.end_time,shift_id:q.shift_id})),xe=R.filter(q=>!q.isNew&&l.find(ae=>ae.id===q.id)).map(q=>Cv(q.id,{employee_id:q.employee_id,role_id:q.role_id,date:q.date,start_time:q.start_time,end_time:q.end_time,shift_id:q.shift_id})),P=(await Promise.all([...oe,...se,...xe])).filter(q=>(q==null?void 0:q.status)==="requires_overtime_approval");if(P.length>0){const q=P.map(ue=>`${ue.employee_name} (${ue.date}): ${ue.message}
Shift Hours: ${ue.shift_hours}h, Total Daily: ${ue.total_daily_hours}h, Total Weekly: ${ue.total_weekly_hours}h`).join(`

`);if(!window.confirm(`Overtime Alert!

`+q+`

OT Available: `+(((X=P[0])==null?void 0:X.remaining_ot_hours)||0)+`h

Do you want to proceed with these assignments?`)){T("Schedule changes cancelled"),d(!1);return}}J(" Schedule changes saved!"),setTimeout(()=>J(""),3e3),a("view"),await pe()}catch(oe){console.error("Save error:",oe);let se=oe.message;const xe=(ce=(te=oe.response)==null?void 0:te.data)==null?void 0:ce.detail;typeof xe=="string"?se=xe:Array.isArray(xe)&&(se=xe.map(ne=>typeof ne=="string"?ne:ne.msg||JSON.stringify(ne)).join(", ")),T("Failed to save schedule: "+se),setTimeout(()=>T(""),5e3)}finally{d(!1)}},he=X=>{const te=t.find(ce=>ce.id===X);return te?`${te.first_name} ${te.last_name}`:"Unknown"},Le=X=>{const te=n.find(ce=>ce.id===X);return(te==null?void 0:te.name)||"Unknown"},Lt=X=>{const te=["bg-blue-100 text-blue-900","bg-purple-100 text-purple-900","bg-pink-100 text-pink-900","bg-green-100 text-green-900","bg-yellow-100 text-yellow-900","bg-indigo-100 text-indigo-900"];return te[X%te.length]},Pr=(X,te)=>{const ce=`${X}-${te}`,oe=!!u[ce];return oe&&console.log(` Leave found for ${ce}`),oe},yt=Z(c),Sn=s==="edit"?R:l,Bt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Ws=()=>{p(W(new Date(c).getTime()-7*24*60*60*1e3))},Kn=()=>{p(W(new Date(c).getTime()+7*24*60*60*1e3))};return r.jsxs("div",{children:[A&&r.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700 whitespace-pre-wrap",children:A})]}),I&&r.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-start",children:[r.jsx(Za,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-green-700 whitespace-pre-wrap",children:I})]}),r.jsx(G,{title:"Schedule Management",subtitle:`Week of ${yt[0]} to ${yt[6]}`,headerAction:s==="view"?r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx("button",{onClick:Ws,className:"p-2 hover:bg-gray-100 rounded",children:r.jsx(Nd,{className:"w-5 h-5"})}),r.jsxs("span",{className:"text-sm font-medium min-w-[200px] text-center",children:[yt[0]," to ",yt[6]]}),r.jsx("button",{onClick:Kn,className:"p-2 hover:bg-gray-100 rounded",children:r.jsx(_d,{className:"w-5 h-5"})}),r.jsxs("div",{className:"border-l pl-2 ml-2 flex gap-2",children:[r.jsxs(B,{onClick:()=>S(!0),variant:"primary",children:[r.jsx(kl,{className:"w-4 h-4 mr-2 inline"}),"Generate"]}),r.jsxs(B,{onClick:()=>a("edit"),variant:"secondary",children:[r.jsx(Ms,{className:"w-4 h-4 mr-2 inline"}),"Edit"]})]})]}):r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(B,{onClick:C,variant:"secondary",children:[r.jsx(Rt,{className:"w-4 h-4 mr-2 inline"}),"Add Shift"]}),r.jsxs(B,{onClick:H,variant:"primary",children:[r.jsx(Za,{className:"w-4 h-4 mr-2 inline"}),"Confirm & Save"]}),r.jsxs(B,{onClick:()=>{a("view"),O(JSON.parse(JSON.stringify(l)))},variant:"ghost",children:[r.jsx(qn,{className:"w-4 h-4 mr-2 inline"}),"Cancel"]})]}),children:o?r.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading schedules..."}):r.jsx("div",{className:"overflow-x-auto",children:r.jsx("div",{className:"min-w-max",children:r.jsxs("div",{className:"grid gap-0 border border-gray-300 rounded-lg overflow-hidden",style:{gridTemplateColumns:"250px repeat(7, 1fr)"},children:[r.jsx("div",{className:"bg-gray-900 text-white p-4 font-bold",children:"Employee / Role"}),yt.map((X,te)=>{const oe=new Date(X).getDate(),se=b[X],xe=(se==null?void 0:se.holiday_name)||null,ne=te>=5,P=ne||se;return r.jsxs("div",{className:`p-3 border-l border-gray-300 font-bold text-sm text-center ${P?"bg-gray-300 text-gray-700":"bg-gray-100 text-gray-600"}`,title:xe||(ne?"Weekend":""),children:[r.jsx("div",{className:"text-gray-700",children:Bt[te]}),r.jsx("div",{className:"text-lg font-bold",children:oe}),xe&&r.jsx("div",{className:"text-xs mt-1 text-gray-600 truncate",children:xe.substring(0,8)})]},X)}),t.map(X=>r.jsxs(Eo.Fragment,{children:[r.jsxs("div",{className:"bg-white border-b border-t border-gray-300 p-3 font-semibold text-sm flex flex-col justify-center sticky left-0 z-10 bg-gray-50",children:[r.jsxs("div",{className:"text-gray-900",children:[X.first_name," ",X.last_name]}),X.role_id&&r.jsx("div",{className:`text-xs mt-1 px-2 py-1 rounded w-fit ${Lt(X.role_id)}`,children:Le(X.role_id)})]}),yt.map(te=>{const ce=Sn.filter(ne=>ne.employee_id===X.id&&ne.date===te),oe=Pr(X.id,te),se=u[`${X.id}-${te}`],xe=(se==null?void 0:se.leave_type)==="comp_off";return r.jsxs("div",{onClick:()=>{oe&&se&&E({...se,employee:X,leaveDate:te})},className:`border-b border-l border-gray-300 p-2 min-h-[120px] relative transition cursor-pointer ${oe?xe?"bg-purple-50 hover:bg-purple-100":"bg-red-50 hover:bg-red-100":"bg-white hover:bg-gray-50"}`,onDragOver:ne=>s==="edit"&&!oe&&ne.preventDefault(),onDrop:ne=>{s==="edit"&&F&&!oe&&(O(R.map(P=>P.id===F.id?{...P,employee_id:X.id,date:te}:P)),Q(null))},children:[oe&&r.jsxs("div",{className:"text-center py-6",children:[r.jsx("div",{className:`font-bold text-sm ${xe?"text-purple-700":"text-red-700"}`,children:xe?" COMP-OFF":"LEAVE"}),r.jsx("div",{className:`text-xs mt-1 ${xe?"text-purple-600":"text-red-600"}`,children:(se==null?void 0:se.duration_type)==="half_day_morning"?" Half Day (AM)":(se==null?void 0:se.duration_type)==="half_day_afternoon"?" Half Day (PM)":xe?"Comp-Off Usage":"Approved Time Off"})]}),!oe&&ce.map(ne=>r.jsx("div",{draggable:s==="edit",onDragStart:()=>s==="edit"&&Q(ne),onDragEnd:()=>Q(null),onClick:()=>s==="view"&&(w(ne),f(!0)),className:`
                                p-2 rounded mb-1 text-xs font-semibold cursor-pointer
                                transition-all border-l-4
                                ${Lt(ne.role_id)}
                                ${s==="edit"?"cursor-move hover:shadow-lg":"hover:shadow-md"}
                              `,style:{borderLeftColor:"#1e40af"},children:M===ne.id?r.jsxs("div",{className:"space-y-1",children:[r.jsx("input",{type:"time",value:K.start_time,onChange:P=>_({...K,start_time:P.target.value}),className:"w-full px-1 py-0.5 border rounded text-xs"}),r.jsx("input",{type:"time",value:K.end_time,onChange:P=>_({...K,end_time:P.target.value}),className:"w-full px-1 py-0.5 border rounded text-xs"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:ee,className:"flex-1 bg-green-500 text-white px-1 py-0.5 rounded text-xs hover:bg-green-600",children:"Save"}),r.jsx("button",{onClick:()=>{U(null),_(null)},className:"flex-1 bg-gray-400 text-white px-1 py-0.5 rounded text-xs hover:bg-gray-500",children:"Cancel"})]})]}):r.jsxs("div",{children:[r.jsxs("div",{className:"font-bold",children:[ne.start_time," - ",ne.end_time]}),r.jsx("div",{className:"text-xs opacity-75 mt-0.5",children:Le(ne.role_id)}),s==="edit"&&r.jsxs("div",{className:"flex gap-1 mt-1",children:[r.jsx("button",{onClick:P=>{P.stopPropagation(),$(ne)},className:"text-blue-600 hover:text-blue-800",title:"Edit times",children:r.jsx(Ee,{className:"w-3 h-3"})}),r.jsx("button",{onClick:P=>{P.stopPropagation(),V(ne.id)},className:"text-red-600 hover:text-red-800",title:"Delete shift",children:r.jsx(Bn,{className:"w-3 h-3"})})]})]})},ne.id))]},`${X.id}-${te}`)})]},X.id))]})})})}),r.jsxs("div",{className:"mt-6 flex flex-wrap gap-4 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 border-l-4 border-blue-600 rounded"}),r.jsx("span",{children:"Scheduled Shift"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-red-50 border border-gray-300 rounded"}),r.jsx("span",{children:"Leave (Paid/Unpaid)"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-purple-50 border border-gray-300 rounded"}),r.jsx("span",{children:"Comp-Off Usage"})]})]}),r.jsx(He,{isOpen:j,onClose:()=>S(!1),title:"Generate Schedule",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Week to Generate"}),r.jsx("input",{type:"date",value:v,onChange:X=>k(W(new Date(X.target.value))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Week: ",Z(v)[0]," to ",Z(v)[6]]})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(B,{onClick:()=>S(!1),variant:"ghost",children:"Cancel"}),r.jsx(B,{onClick:We,variant:"primary",disabled:o,children:o?"Generating...":"Generate"})]})]})}),r.jsx(He,{isOpen:h,onClose:()=>f(!1),title:"Schedule Details",children:x&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Employee"}),r.jsx("p",{className:"font-semibold",children:he(x.employee_id)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Role"}),r.jsx("p",{className:"font-semibold",children:Le(x.role_id)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Date"}),r.jsx("p",{className:"font-semibold",children:x.date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Time"}),r.jsxs("p",{className:"font-semibold",children:[x.start_time," - ",x.end_time]})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Status"}),r.jsx("p",{className:"font-semibold capitalize",children:x.status})]})]}),r.jsx("div",{className:"flex gap-2 justify-end",children:r.jsx(B,{onClick:()=>f(!1),variant:"primary",children:"Close"})})]})}),N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>E(null),children:r.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-2xl",onClick:X=>X.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Leave Details"}),r.jsx("button",{onClick:()=>E(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx(qn,{size:24})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Employee"}),r.jsxs("p",{className:"text-lg text-gray-900 font-bold",children:[(Cn=N.employee)==null?void 0:Cn.first_name," ",(Bs=N.employee)==null?void 0:Bs.last_name]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Leave Type"}),r.jsx("div",{className:"flex items-center gap-2 mt-2",children:r.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-white font-bold text-sm ${N.leave_type==="paid"?"bg-blue-600":N.leave_type==="unpaid"?"bg-orange-600":"bg-purple-600"}`,children:N.leave_type==="paid"?" PAID LEAVE":N.leave_type==="unpaid"?" UNPAID LEAVE":(N.leave_type==="comp_off"," COMP-OFF USAGE")})})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Duration"}),r.jsx("p",{className:"text-lg text-gray-900 font-bold",children:N.duration_type==="half_day_morning"?" Half Day (Morning)":N.duration_type==="half_day_afternoon"?" Half Day (Afternoon)":" Full Day"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Date Range"}),r.jsxs("p",{className:"text-lg text-gray-900 font-bold",children:[N.start_date?ie(oa(N.start_date),"MMM dd, yyyy"):"N/A"," to ",N.end_date?ie(oa(N.end_date),"MMM dd, yyyy"):"N/A"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Status"}),r.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-white font-bold text-sm mt-2 ${N.status==="approved"?"bg-green-600":N.status==="rejected"?"bg-red-600":"bg-yellow-600"}`,children:N.status&&N.status.charAt(0).toUpperCase()+N.status.slice(1)})]}),N.reason&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Reason"}),r.jsx("p",{className:"text-gray-900",children:N.reason})]}),N.review_notes&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Manager Notes"}),r.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded border border-gray-200",children:N.review_notes})]})]}),r.jsx("button",{onClick:()=>E(null),className:"w-full mt-6 px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg font-bold",children:"Close"})]})})]})},Ej=()=>{const[e,t]=y.useState([]),[n,s]=y.useState(!0),[a,l]=y.useState(null),[i,o]=y.useState(null),[d,c]=y.useState(""),[p,u]=y.useState(null),[g,b]=y.useState("PENDING");y.useEffect(()=>{m()},[g]);const m=async()=>{try{s(!0);const x=await z.get(`/overtime-requests?status=${g}`);t(x.data)}catch(x){console.error("Error loading overtime requests:",x),u({type:"error",text:"Failed to load overtime requests"})}finally{s(!1)}},j=async x=>{var w,N;try{l(x),await z.put(`/overtime-requests/${x}/approve`,{approval_notes:d}),u({type:"success",text:"Overtime request approved"}),o(null),c(""),m()}catch(E){console.error("Error approving request:",E),u({type:"error",text:((N=(w=E.response)==null?void 0:w.data)==null?void 0:N.detail)||"Failed to approve request"})}finally{l(null)}},S=async x=>{var w,N;try{l(x),await z.put(`/overtime-requests/${x}/reject`,{approval_notes:d}),u({type:"success",text:"Overtime request rejected"}),o(null),c(""),m()}catch(E){console.error("Error rejecting request:",E),u({type:"error",text:((N=(w=E.response)==null?void 0:w.data)==null?void 0:N.detail)||"Failed to reject request"})}finally{l(null)}},h=x=>`Employee ID: ${x.employee_id}`,f=x=>(x||"").toLowerCase()==="pending";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Overtime Approvals"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Review and approve employee overtime requests"})]}),r.jsx("div",{className:"flex gap-2",children:["PENDING","APPROVED","REJECTED"].map(x=>r.jsx("button",{onClick:()=>b(x),className:`px-4 py-2 rounded-lg font-medium transition-colors ${g===x?x==="PENDING"?"bg-yellow-600 text-white":x==="APPROVED"?"bg-green-600 text-white":"bg-red-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:x},x))}),p&&r.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-3 ${p.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[p.type==="success"?r.jsx(Pe,{className:"w-5 h-5"}):r.jsx(we,{className:"w-5 h-5"}),r.jsx("span",{children:p.text}),r.jsx("button",{onClick:()=>u(null),className:"ml-auto text-sm font-medium hover:opacity-75",children:"Dismiss"})]}),n?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.length===0?r.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-8 text-center",children:[r.jsx(Pe,{className:"w-12 h-12 text-green-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-semibold",children:"All Caught Up!"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"No pending overtime requests at the moment"})]}):r.jsx("div",{className:"grid gap-4",children:e.map(x=>{var w;return r.jsx("div",{className:"bg-white border-l-4 border-yellow-400 rounded-lg p-6 shadow-sm",children:r.jsx("div",{className:"flex justify-between items-start gap-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(we,{className:"w-5 h-5 text-yellow-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:h(x)}),r.jsxs("span",{className:"ml-auto flex items-center gap-2",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${f(x.status)?"bg-yellow-100 text-yellow-800":(x.status||"").toLowerCase()==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(x.status||"").toUpperCase()}),r.jsx("span",{className:"text-sm font-medium text-gray-500",children:new Date(x.request_date).toLocaleDateString()})]})]}),r.jsxs("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg",children:[r.jsxs("p",{className:"text-sm text-gray-700 font-medium mb-1",children:[r.jsx("strong",{children:"Date:"})," ",new Date(x.request_date).toLocaleDateString()]}),r.jsxs("p",{className:"text-sm text-gray-700 font-medium mb-1",children:[r.jsx("strong",{children:"Time:"})," ",r.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[x.from_time||"N/A"," - ",x.to_time||"N/A"]})]}),r.jsxs("p",{className:"text-sm text-gray-700 font-medium mb-2",children:[r.jsx("strong",{children:"Hours:"})," ",r.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[((w=x.request_hours)==null?void 0:w.toFixed(1))||"N/A"," hours"]})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("strong",{children:"Reason:"})," ",x.reason]})]}),(i==null?void 0:i.id)===x.id&&f(x.status)?r.jsxs("div",{className:"space-y-3 pt-3 border-t border-gray-200",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approval Notes"}),r.jsx("textarea",{value:d,onChange:N=>c(N.target.value),placeholder:"Add notes about this decision...",rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>j(x.id),disabled:a===x.id,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r.jsx(Za,{className:"w-4 h-4"}),a===x.id?"Processing...":"Approve"]}),r.jsxs("button",{onClick:()=>S(x.id),disabled:a===x.id,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r.jsx(qn,{className:"w-4 h-4"}),a===x.id?"Processing...":"Reject"]}),r.jsx("button",{onClick:()=>{o(null),c("")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Cancel"})]})]}):(i==null?void 0:i.id)===x.id?r.jsxs("div",{className:"space-y-3 pt-3 border-t border-gray-200",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-700 font-medium mb-2",children:"Manager Notes:"}),r.jsx("p",{className:"text-sm text-gray-600 p-3 bg-gray-50 rounded-lg",children:x.manager_notes||"No notes provided"})]}),r.jsx("button",{onClick:()=>{o(null),c("")},className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Close"})]}):r.jsx("button",{onClick:()=>o(x),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700",children:f(x.status)?"Review Request":"View Details"})]})})},x.id)})})]})},Dj=({user:e})=>{const[t,n]=y.useState({totalEmployees:0,pendingLeaves:0,todayScheduled:0,activeEmployees:0}),[s,a]=y.useState(!0);y.useEffect(()=>{l()},[]);const l=async()=>{try{const[o,d]=await Promise.all([Tl(),Rl()]),c=o.data,p=d.data;n({totalEmployees:c.length,pendingLeaves:p.filter(u=>u.status==="pending").length,todayScheduled:0,activeEmployees:c.filter(u=>u.is_active).length})}catch(o){console.error("Failed to load dashboard data:",o)}finally{a(!1)}},i=[{title:"Total Employees",value:t.totalEmployees,icon:kd,color:"blue"},{title:"Pending Leaves",value:t.pendingLeaves,icon:xo,color:"yellow"},{title:"Active Employees",value:t.activeEmployees,icon:Ts,color:"green"},{title:"Today's Schedule",value:t.todayScheduled,icon:Ds,color:"purple"}];return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-xl text-gray-500",children:"Loading..."})}):r.jsxs("div",{children:[r.jsx(ze,{title:"Manager Dashboard",subtitle:`Welcome back, ${e.full_name}`}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:i.map((o,d)=>r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:o.title}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:o.value})]}),r.jsx("div",{className:`p-3 bg-${o.color}-100 rounded-lg`,children:r.jsx(o.icon,{className:`w-8 h-8 text-${o.color}-600`})})]})})},d))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(G,{title:"Department Overview",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-gray-600",children:["You are managing ",t.totalEmployees," employees in your department."]}),r.jsx("p",{className:"text-gray-600",children:t.pendingLeaves>0?r.jsxs("span",{className:"text-yellow-600 font-semibold",children:[t.pendingLeaves," leave request",t.pendingLeaves>1?"s":""," pending review."]}):"No pending leave requests."})]})}),r.jsx(G,{title:"Quick Tips",children:r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[r.jsx("p",{children:" Review and approve leave requests regularly"}),r.jsx("p",{children:" Check daily attendance for your team"}),r.jsx("p",{children:" Create schedules in advance"}),r.jsx("p",{children:" Keep employee information up to date"})]})})]})]})]})},Mj=({user:e})=>{const[t,n]=y.useState([]),[s,a]=y.useState([]),[l,i]=y.useState(!1),[o,d]=y.useState(null),[c,p]=y.useState(!0),[u,g]=y.useState(""),[b,m]=y.useState(""),[j,S]=y.useState(!1),[h,f]=y.useState({first_name:"",last_name:"",email:"",phone:"",address:"",password:"",role_id:null,hire_date:"",weekly_hours:40,daily_max_hours:8,shifts_per_week:5,skills:[]});y.useEffect(()=>{x()},[j]);const x=async()=>{try{p(!0);const[k,R]=await Promise.all([z.get("/employees",{params:{show_inactive:j}}),Rd()]);n(k.data),a(R.data)}catch(k){console.error("Failed to load data:",k)}finally{p(!1)}},w=async k=>{var R,O;k.preventDefault(),g(""),m("");try{const F=e==null?void 0:e.manager_department_id;console.log("=== Employee Form Submit ==="),console.log("User:",e),console.log("Department ID:",F),console.log("Form Data:",h);const Q={...h,department_id:F};if(!Q.department_id){g("Department information is missing. Please ensure you are logged in as a manager.");return}console.log("Employee Data to Submit:",Q);let M;o?(console.log("Updating employee..."),M=await ov(o.id,Q),m(" Employee updated successfully!")):(console.log("Creating new employee..."),M=await iv(Q),console.log("Response:",M),m(" Employee created successfully!")),M&&(console.log("Success! Clearing form..."),i(!1),d(null),f({first_name:"",last_name:"",email:"",phone:"",address:"",password:"",role_id:null,hire_date:"",weekly_hours:40,daily_max_hours:8,shifts_per_week:5,skills:[]}),x(),setTimeout(()=>m(""),3e3))}catch(F){console.error("Error in handleSubmit:",F);let Q="Failed to save employee";if((O=(R=F.response)==null?void 0:R.data)!=null&&O.detail){const M=F.response.data.detail;Array.isArray(M)?Q=M.map(U=>{var K;return`${(K=U.loc)==null?void 0:K.join(".")}: ${U.msg}`}).join("; "):typeof M=="string"&&(Q=M)}console.error("Final error message:",Q),g(Q)}},N=k=>{d(k),f({first_name:k.first_name,last_name:k.last_name,email:k.email,phone:k.phone||"",address:k.address||"",password:"",role_id:k.role_id||null,hire_date:k.hire_date||"",weekly_hours:k.weekly_hours||40,daily_max_hours:k.daily_max_hours||8,shifts_per_week:k.shifts_per_week||5,skills:k.skills||[]}),i(!0)},E=async(k,R=!1)=>{if(!t.find(Q=>Q.id===k))return;let F=R?"Are you sure you want to PERMANENTLY DELETE this inactive employee? This cannot be undone.":"Are you sure you want to delete this employee?";if(window.confirm(F))try{await dv(k,R),m(R?" Employee permanently deleted!":" Employee deleted successfully!"),setTimeout(()=>m(""),3e3),x()}catch{g("Failed to delete employee"),setTimeout(()=>g(""),3e3)}},v=[{header:"Employee ID",accessor:"employee_id"},{header:"Name",render:k=>`${k.first_name} ${k.last_name}`},{header:"Email",accessor:"email"},{header:"Phone",accessor:"phone"},{header:"Status",render:k=>r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${k.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.is_active?"Active":"Inactive"})},{header:"Actions",render:k=>r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>N(k),className:"text-blue-600 hover:text-blue-800",children:r.jsx(Ms,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>E(k.id,!k.is_active),className:`${k.is_active?"text-red-600 hover:text-red-800":"text-red-700 hover:text-red-900"}`,title:k.is_active?"Soft delete (mark inactive)":"Permanently delete (hard delete)",children:r.jsx(Bn,{className:"w-4 h-4"})})]})}];return c?r.jsx("div",{className:"p-6",children:"Loading..."}):r.jsxs("div",{children:[r.jsx(ze,{title:"Employees",subtitle:"Manage your team members"}),r.jsxs("div",{className:"p-6",children:[b&&r.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg flex items-start",children:[r.jsx(Pe,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-green-700",children:b})]}),r.jsx(G,{title:"All Employees",subtitle:`${t.length} total employees`,headerAction:r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"checkbox",checked:j,onChange:k=>S(k.target.checked),className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Inactive"})]}),r.jsxs(B,{onClick:()=>{d(null),i(!0)},children:[r.jsx(Rt,{className:"w-4 h-4 mr-2 inline"}),"Add Employee"]})]}),children:r.jsx(Ad,{columns:v,data:t})}),r.jsxs(He,{isOpen:l,onClose:()=>{i(!1),d(null)},title:o?"Edit Employee":"Add New Employee",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{i(!1),d(null)},children:"Cancel"}),r.jsxs(B,{type:"submit",form:"employee-form",children:[o?"Update":"Create"," Employee"]})]}),children:[u&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:u})]}),r.jsxs("form",{id:"employee-form",onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),r.jsx("input",{type:"text",value:h.first_name,onChange:k=>f({...h,first_name:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),r.jsx("input",{type:"text",value:h.last_name,onChange:k=>f({...h,last_name:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:h.email,onChange:k=>f({...h,email:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),h.email&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Login Username:"})," ",r.jsx("code",{className:"font-mono",children:h.email.split("@")[0]})]}),r.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Employee will use this username to login along with their password"})]}),o&&o.employee_id&&r.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[r.jsxs("p",{className:"text-sm text-green-800",children:[r.jsx("strong",{children:"Employee ID:"})," ",r.jsx("code",{className:"font-mono",children:o.employee_id})]}),r.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Unique 5-digit employee identifier"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",!o&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"password",value:h.password,onChange:k=>f({...h,password:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:o?"Leave blank to keep current password":"Enter initial password",required:!o}),o&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank to keep the current password"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role (Optional)"}),r.jsxs("select",{value:h.role_id||"",onChange:k=>f({...h,role_id:k.target.value?parseInt(k.target.value):null}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[r.jsx("option",{value:"",children:"Select a role"}),s.map(k=>r.jsx("option",{value:k.id,children:k.name},k.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hire Date (Optional)"}),r.jsx("input",{type:"date",value:h.hire_date,onChange:k=>f({...h,hire_date:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{type:"tel",value:h.phone,onChange:k=>f({...h,phone:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),r.jsx("textarea",{value:h.address,onChange:k=>f({...h,address:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",rows:"3"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weekly Hours"}),r.jsx("input",{type:"number",step:"0.5",min:"0",value:h.weekly_hours,onChange:k=>f({...h,weekly_hours:parseFloat(k.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Daily Max Hours"}),r.jsx("input",{type:"number",step:"0.5",min:"0",value:h.daily_max_hours,onChange:k=>f({...h,daily_max_hours:parseFloat(k.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shifts Per Week"}),r.jsx("input",{type:"number",min:"1",value:h.shifts_per_week,onChange:k=>f({...h,shifts_per_week:parseInt(k.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skills (comma-separated)"}),r.jsx("input",{type:"text",value:Array.isArray(h.skills)?h.skills.join(", "):h.skills,onChange:k=>f({...h,skills:k.target.value.split(",").map(R=>R.trim()).filter(R=>R)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"e.g., machine operation, quality control"})]})]})]})]})]})},Tj=({user:e})=>{const[t,n]=y.useState([]),[s,a]=y.useState(!1),[l,i]=y.useState(!1),[o,d]=y.useState(null),[c,p]=y.useState(null),[u,g]=y.useState(null),[b,m]=y.useState(null),[j,S]=y.useState(null),[h,f]=y.useState(!0),[x,w]=y.useState(""),[N,E]=y.useState(""),[v,k]=y.useState(!1),[R,O]=y.useState([]),[F,Q]=y.useState(!1),[M,U]=y.useState({name:"",description:"",priority:50,priority_percentage:50,break_minutes:60,weekend_required:!1,required_skills:[],schedule_config:{monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1,sunday:!1}}),K=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],[_,A]=y.useState({name:"",start_time:"09:00",end_time:"17:00",min_emp:1,max_emp:5,priority:50,schedule_config:{}});y.useEffect(()=>{T()},[]),y.useEffect(()=>{v&&(u!=null&&u.id)?I(u.id):(O([]),E(""))},[v,u]);const T=async()=>{try{f(!0);const C=await Rd();if(console.log("Loaded roles:",C.data),n(C.data),u&&u.id)try{const V=await z.get(`/roles/${u.id}`);console.log("Loaded role details:",V.data),g(V.data);const $=C.data.map(ee=>ee.id===u.id?V.data:ee);n($)}catch(V){console.error("Failed to load role details:",V)}}catch(C){console.error("Failed to load roles:",C)}finally{f(!1)}},I=async C=>{var V,$;if(C)try{Q(!0),E("");const H=((await wv(C,!0)).data||[]).filter(he=>!he.is_active);O(H)}catch(ee){console.error("Failed to load archived shifts:",ee),E((($=(V=ee.response)==null?void 0:V.data)==null?void 0:$.detail)||"Failed to load archived shifts")}finally{Q(!1)}},J=async C=>{m(C.id),U({name:C.name,description:C.description||"",priority:C.priority||50,priority_percentage:C.priority_percentage||50,break_minutes:C.break_minutes||60,weekend_required:C.weekend_required||!1,required_skills:C.required_skills||[],schedule_config:C.schedule_config||{monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1,sunday:!1}}),a(!0)},W=async C=>{S(C.id),A({name:C.name,start_time:C.start_time,end_time:C.end_time,min_emp:C.min_emp||1,max_emp:C.max_emp||5,priority:C.priority||50,schedule_config:C.schedule_config||{}}),i(!0)},Z=async C=>{var V,$;C.preventDefault(),w("");try{const ee=e==null?void 0:e.manager_department_id;b?(await z.put(`/roles/${b}`,M),m(null)):await cv({...M,department_id:ee}),a(!1),U({name:"",description:"",priority:50,priority_percentage:50,break_minutes:60,weekend_required:!1,required_skills:[],schedule_config:{monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1,sunday:!1}}),T()}catch(ee){w((($=(V=ee.response)==null?void 0:V.data)==null?void 0:$.detail)||"Failed to save role")}},Re=async C=>{var V,$;if(C.preventDefault(),w(""),!_.name||!_.name.trim()){w("Shift name is required");return}if(!_.start_time||!_.end_time){w("Start time and end time are required");return}if(!j&&(!u||!u.id)){w("Please select a role first");return}try{const ee={name:_.name,start_time:_.start_time,end_time:_.end_time,min_emp:parseInt(_.min_emp)||1,max_emp:parseInt(_.max_emp)||5,priority:parseInt(_.priority)||50,schedule_config:_.schedule_config||{}};if(console.log("Submitting shift:",ee,"Role ID:",u==null?void 0:u.id),j)console.log("Updating shift:",j),await z.put(`/shifts/${j}`,ee),S(null);else{const H={...ee,role_id:u.id};console.log("Creating shift with:",H);const he=await z.post("/shifts",H);console.log("Shift created:",he.data)}i(!1),A({name:"",start_time:"09:00",end_time:"17:00",min_emp:1,max_emp:5,priority:50,schedule_config:{}}),await T()}catch(ee){console.error("Shift error:",ee);const H=(($=(V=ee.response)==null?void 0:V.data)==null?void 0:$.detail)||ee.message||"Failed to save shift";w(H)}},pe=async C=>{var V,$;w("");try{await z.delete(`/roles/${C}`),d(null),p(null),(u==null?void 0:u.id)===C&&(g(null),k(!1),O([]),E("")),T()}catch(ee){w((($=(V=ee.response)==null?void 0:V.data)==null?void 0:$.detail)||"Failed to delete role")}},We=async(C,V=!1)=>{var $,ee;V?E(""):w("");try{await Nv(C,V),d(null),p(null),await T(),V&&(u!=null&&u.id)&&await I(u.id)}catch(H){const he=((ee=($=H.response)==null?void 0:$.data)==null?void 0:ee.detail)||"Failed to delete shift";V?E(he):w(he)}};return h?r.jsx("div",{className:"p-6",children:"Loading..."}):r.jsxs("div",{children:[r.jsx(ze,{title:"Roles & Shifts Management",subtitle:"Configure job roles and their shift schedules"}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx(G,{title:"Job Roles",subtitle:`${t.length} roles configured`,headerAction:r.jsxs(B,{onClick:()=>{g(null),a(!0)},children:[r.jsx(Rt,{className:"w-4 h-4 mr-2 inline"}),"Add Role"]}),children:r.jsx("div",{className:"space-y-3",children:t.length===0?r.jsx("p",{className:"text-center text-gray-500 py-4",children:"No roles created yet. Create one to get started!"}):t.map(C=>{var V,$,ee;return r.jsxs("div",{onClick:async()=>{k(!1),O([]),E("");try{console.log("Loading role details for:",C.id);const H=await z.get(`/roles/${C.id}`);console.log("Role details loaded:",H.data),g(H.data)}catch(H){console.error("Failed to load role details:",H),g(C)}},className:`p-4 rounded-lg border cursor-pointer transition-all ${(u==null?void 0:u.id)===C.id?"border-blue-500 bg-blue-50":"border-gray-200 bg-gray-50 hover:border-blue-300"}`,children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:C.name}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:C.description}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[r.jsxs("span",{children:["Skills: ",((V=C.required_skills)==null?void 0:V.length)||0]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${C.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:C.is_active?"Active":"Inactive"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs font-medium text-blue-600 bg-blue-100 px-3 py-1 rounded",children:[(($=C.shifts)==null?void 0:$.length)||0," Shifts"]}),r.jsx("button",{onClick:H=>{H.stopPropagation(),J(C)},className:"p-2 text-blue-600 hover:bg-blue-100 rounded",title:"Edit role",children:r.jsx(Ms,{className:"w-4 h-4"})}),r.jsx("button",{onClick:H=>{H.stopPropagation(),p({type:"role",id:C.id,name:C.name}),d("role")},className:"p-2 text-red-600 hover:bg-red-100 rounded",title:"Delete role",children:r.jsx(Bn,{className:"w-4 h-4"})})]})]}),(u==null?void 0:u.id)===C.id&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-300 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Shifts (",((ee=C.shifts)==null?void 0:ee.length)||0,"):"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:H=>{H.stopPropagation(),k(he=>!he)},className:`text-xs px-3 py-1 rounded border ${v?"border-blue-500 text-blue-600 bg-blue-50":"border-gray-300 text-gray-600 bg-white"}`,children:v?"Hide Archived":"View Archived"}),r.jsxs(B,{onClick:H=>{H.stopPropagation(),i(!0)},className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 text-sm",children:[r.jsx(Rt,{className:"w-3 h-3 mr-1 inline"}),"Add Shift"]})]})]}),C.shifts&&C.shifts.length>0?r.jsx("div",{className:"space-y-2",children:C.shifts.map(H=>r.jsx("div",{className:"ml-4 p-3 bg-white rounded border border-blue-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-800",children:H.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[H.start_time," - ",H.end_time]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Capacity: ",H.min_emp,"-",H.max_emp," employees"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:["Priority: ",H.priority]}),r.jsx("button",{onClick:he=>{he.stopPropagation(),W(H)},className:"p-2 text-blue-600 hover:bg-blue-100 rounded",title:"Edit shift",children:r.jsx(Ms,{className:"w-4 h-4"})}),r.jsx("button",{onClick:he=>{he.stopPropagation(),p({type:"shift",id:H.id,name:H.name,hardDelete:!1}),d("shift")},className:"p-2 text-red-600 hover:bg-red-100 rounded",title:"Delete shift",children:r.jsx(Bn,{className:"w-4 h-4"})})]})]})},H.id))}):r.jsx("p",{className:"text-sm text-gray-500 ml-4 italic",children:'No shifts yet. Click "Add Shift" to create one.'}),v&&r.jsxs("div",{className:"mt-4 p-3 border border-dashed border-gray-300 rounded bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Archived Shifts (",R.length,")"]}),F&&r.jsx("span",{className:"text-xs text-gray-500",children:"Loading..."})]}),N&&r.jsx("div",{className:"mb-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-600",children:N}),!F&&R.length===0&&r.jsx("p",{className:"text-sm text-gray-500 italic",children:"No archived shifts for this role."}),!F&&R.length>0&&r.jsx("div",{className:"space-y-2",children:R.map(H=>r.jsxs("div",{className:"p-3 bg-white border border-gray-200 rounded flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:H.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[H.start_time," - ",H.end_time]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Capacity: ",H.min_emp,"-",H.max_emp," employees"]})]}),r.jsx("button",{onClick:he=>{he.stopPropagation(),p({type:"shift",id:H.id,name:H.name,hardDelete:!0}),d("shift")},className:"text-sm text-red-600 hover:bg-red-50 px-3 py-1 rounded border border-red-200",children:"Delete Permanently"})]},H.id))})]})]})]},C.id)})})}),r.jsxs(He,{isOpen:s,onClose:()=>{a(!1),m(null),U({name:"",description:"",priority:50,priority_percentage:50,break_minutes:60,weekend_required:!1,required_skills:[],schedule_config:{monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1,sunday:!1}})},title:b?`Edit Role: ${M.name}`:"Create New Job Role",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{a(!1),m(null),U({name:"",description:"",priority:50,priority_percentage:50,break_minutes:60,weekend_required:!1,required_skills:[],schedule_config:{monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1,sunday:!1}})},children:"Cancel"}),r.jsx(B,{type:"submit",form:"role-form",children:b?"Update Role":"Create Role"})]}),children:[x&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:x})]}),r.jsxs("form",{id:"role-form",onSubmit:Z,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name *"}),r.jsx("input",{type:"text",value:M.name,onChange:C=>U({...M,name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"e.g., Engineer, Manager, Assembly Line Worker",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:M.description,onChange:C=>U({...M,description:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",rows:"3",placeholder:"Describe this job role..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority (1-100)"}),r.jsx("input",{type:"number",min:"1",max:"100",value:M.priority,onChange:C=>U({...M,priority:parseInt(C.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority % (1-100)"}),r.jsx("input",{type:"number",min:"1",max:"100",value:M.priority_percentage,onChange:C=>U({...M,priority_percentage:parseInt(C.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Break Minutes"}),r.jsx("input",{type:"number",min:"0",step:"5",value:M.break_minutes,onChange:C=>U({...M,break_minutes:parseInt(C.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("label",{className:"flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:M.weekend_required,onChange:C=>U({...M,weekend_required:C.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Weekend Required"})]})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Required Skills (comma-separated)"}),r.jsx("input",{type:"text",value:M.required_skills.join(", "),onChange:C=>U({...M,required_skills:C.target.value.split(",").map(V=>V.trim()).filter(V=>V)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"e.g., Java, Python, SQL"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Operating Days"}),r.jsx("div",{className:"grid grid-cols-4 gap-3",children:K.map(C=>r.jsxs("label",{className:"flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:M.schedule_config[C]||!1,onChange:V=>U({...M,schedule_config:{...M.schedule_config,[C]:V.target.checked}}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700 capitalize",children:C})]},C))})]})]})]}),r.jsxs(He,{isOpen:l,onClose:()=>{i(!1),S(null),A({name:"",start_time:"09:00",end_time:"17:00",min_emp:1,max_emp:5,priority:50,schedule_config:{}})},title:j?`Edit Shift: ${_.name}`:`Create Shift for ${(u==null?void 0:u.name)||"Role"}`,footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{i(!1),S(null),A({name:"",start_time:"09:00",end_time:"17:00",min_emp:1,max_emp:5,priority:50,schedule_config:{}})},children:"Cancel"}),r.jsx(B,{type:"submit",form:"shift-form",children:j?"Update Shift":"Create Shift"})]}),children:[x&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:x})]}),r.jsxs("form",{id:"shift-form",onSubmit:Re,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shift Name *"}),r.jsx("input",{type:"text",value:_.name,onChange:C=>A({..._,name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"e.g., Morning 5AM, Evening 2PM, Night 11PM",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time *"}),r.jsx("input",{type:"time",value:_.start_time,onChange:C=>A({..._,start_time:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time *"}),r.jsx("input",{type:"time",value:_.end_time,onChange:C=>A({..._,end_time:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Employees"}),r.jsx("input",{type:"number",value:_.min_emp,onChange:C=>A({..._,min_emp:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",min:"1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Employees"}),r.jsx("input",{type:"number",value:_.max_emp,onChange:C=>A({..._,max_emp:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",min:"1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),r.jsx("input",{type:"number",value:_.priority,onChange:C=>A({..._,priority:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",min:"0",max:"100"})]})]})]})]}),r.jsx(He,{isOpen:!!o,onClose:()=>{d(null),p(null)},title:"Confirm Delete",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{d(null),p(null)},children:"Cancel"}),r.jsx(B,{onClick:()=>{c&&(c.type==="role"?pe(c.id):c.type==="shift"&&We(c.id,c.hardDelete))},className:"bg-red-600 hover:bg-red-700",children:"Delete"})]}),children:r.jsxs("div",{className:"space-y-4",children:[((c==null?void 0:c.type)==="shift"&&(c!=null&&c.hardDelete)?N:x)&&r.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:(c==null?void 0:c.type)==="shift"&&(c!=null&&c.hardDelete)?N:x})]}),r.jsxs("p",{className:"text-gray-700",children:["Are you sure you want to delete the ",c==null?void 0:c.type," ",r.jsx("strong",{children:c==null?void 0:c.name}),"?"]}),r.jsx("p",{className:"text-sm text-gray-600",children:(c==null?void 0:c.type)==="role"?"All shifts under this role will be marked as inactive.":c!=null&&c.hardDelete?"This archived shift will be permanently removed from the system.":"This shift will be marked as inactive."})]})})]})]})},Rj=({user:e})=>{const[t,n]=y.useState([]),[s,a]=y.useState([]),[l,i]=y.useState(!0);y.useEffect(()=>{o()},[]);const o=async()=>{try{i(!0);const[d,c]=await Promise.all([Tl(),Rd()]);n((d==null?void 0:d.data)||[]),a((c==null?void 0:c.data)||[])}catch(d){console.error("Failed to load data:",d)}finally{i(!1)}};return l?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-xl text-gray-500",children:"Loading..."})}):r.jsxs("div",{children:[r.jsx(ze,{title:"Schedule Management",subtitle:"View, create, and manage employee schedules"}),r.jsx("div",{className:"p-6",children:r.jsx(Cj,{employees:t,roles:s})})]})},Oj=()=>{const[e,t]=y.useState([]),[n,s]=y.useState(null),[a,l]=y.useState(!1),[i,o]=y.useState(""),[d,c]=y.useState(""),[p,u]=y.useState(!0),[g,b]=y.useState(""),[m,j]=y.useState(null),[S,h]=y.useState(!1),[f,x]=y.useState("all");y.useEffect(()=>{w()},[]);const w=async()=>{try{const _=await Rl();t(_.data)}catch(_){console.error("Failed to load leave requests:",_)}finally{u(!1)}},N=async()=>{if(!g.trim()){alert("Please enter an employee ID");return}try{const _=await pv(g.trim());j(_.data),h(!0)}catch(_){console.error("Failed to load employee leave statistics:",_),alert("Employee not found or error loading data")}},E=(_,A)=>{s(_),c(A),l(!0)},v=async()=>{try{d==="approve"?await uv(n.id,i||void 0):await fv(n.id,i||void 0),l(!1),o(""),s(null),w()}catch{alert("Failed to process leave request")}},k=_=>{const A=`
    <table border="1" cellspacing="0" cellpadding="8">
      <!-- ========== HEADER ========== -->
      <tr style="background-color: #1e40af; color: white; font-weight: bold; height: 30px;">
        <td colspan="5" style="font-size: 18px; text-align: center; padding: 15px;">
          EMPLOYEE LEAVE STATISTICS REPORT
        </td>
      </tr>
      
      <!-- Employee Info -->
      <tr style="background-color: #e0e7ff;">
        <td style="font-weight: bold;">Employee Name:</td>
        <td>${_.employee_name}</td>
        <td style="font-weight: bold;">Employee ID:</td>
        <td colspan="2">${_.employee_id}</td>
      </tr>
      <tr style="background-color: #e0e7ff;">
        <td style="font-weight: bold;">Report Generated:</td>
        <td colspan="4">${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}</td>
      </tr>
      
      <!-- Spacing -->
      <tr style="height: 15px;"><td colspan="5"></td></tr>
      
      <!-- ========== OVERALL SUMMARY ========== -->
      <tr style="background-color: #fbbf24; color: #1f2937; font-weight: bold; height: 25px;">
        <td colspan="5" style="font-size: 14px;">OVERALL YEARLY SUMMARY</td>
      </tr>
      
      <tr style="background-color: #fef3c7;">
        <td style="font-weight: bold; width: 25%;">Metric</td>
        <td style="font-weight: bold; text-align: center; width: 18%;">Paid Days</td>
        <td style="font-weight: bold; text-align: center; width: 18%;">Unpaid Days</td>
        <td style="font-weight: bold; text-align: center; width: 18%;">Total Days</td>
        <td style="font-weight: bold; text-align: center; width: 21%;">Usage %</td>
      </tr>
      
      <tr style="background-color: #fffbeb;">
        <td style="font-weight: bold;">Total Taken</td>
        <td style="text-align: center;">${_.taken_paid_leave}</td>
        <td style="text-align: center;">${_.taken_unpaid_leave}</td>
        <td style="text-align: center; font-weight: bold;">${_.total_leaves_taken}</td>
        <td style="text-align: center;">${_.total_paid_leave>0?Math.round(_.taken_paid_leave/_.total_paid_leave*100):0}%</td>
      </tr>
      
      <tr style="background-color: #fffbeb;">
        <td style="font-weight: bold;">Entitlement</td>
        <td style="text-align: center;">${_.total_paid_leave}</td>
        <td style="text-align: center;">-</td>
        <td style="text-align: center; font-weight: bold;">-</td>
        <td style="text-align: center;">-</td>
      </tr>
      
      <tr style="background-color: #fffbeb;">
        <td style="font-weight: bold;">Available/Remaining</td>
        <td style="text-align: center;">${_.available_paid_leave}</td>
        <td style="text-align: center;">-</td>
        <td style="text-align: center; font-weight: bold;">-</td>
        <td style="text-align: center;">-</td>
      </tr>
      
      <!-- Spacing -->
      <tr style="height: 15px;"><td colspan="5"></td></tr>
      
      <!-- ========== MONTHLY BREAKDOWN ========== -->
      <tr style="background-color: #3b82f6; color: white; font-weight: bold; height: 25px;">
        <td colspan="5" style="font-size: 14px;">MONTH-WISE BREAKDOWN</td>
      </tr>
      
      <tr style="background-color: #dbeafe; font-weight: bold;">
        <td style="width: 25%; text-align: center;">Month</td>
        <td style="width: 18%; text-align: center; background-color: #ede9fe;">Paid Days</td>
        <td style="width: 18%; text-align: center; background-color: #fee2e2;">Unpaid Days</td>
        <td style="width: 18%; text-align: center; background-color: #ccfbf1;">Total Days</td>
        <td style="width: 21%; text-align: center;">Daily Avg</td>
      </tr>
      
      ${_.monthly_breakdown&&_.monthly_breakdown.length>0?_.monthly_breakdown.map((W,Z)=>{const Re=new Date(new Date(W.month+" 1").getFullYear(),new Date(W.month+" 1").getMonth()+1,0).getDate(),pe=(W.total/Re).toFixed(2);return`
        <tr style="background-color: ${Z%2===0?"#ffffff":"#f9fafb"};">
          <td style="text-align: center; font-weight: 500;">${W.month}</td>
          <td style="text-align: center; background-color: ${Z%2===0?"#f3e8ff":"#faf5ff"};">${W.paid}</td>
          <td style="text-align: center; background-color: ${Z%2===0?"#fef2f2":"#fdf8f8"};">${W.unpaid}</td>
          <td style="text-align: center; background-color: ${Z%2===0?"#ccfbf1":"#e5fdf9"}; font-weight: bold;">${W.total}</td>
          <td style="text-align: center;">${pe} days/day</td>
        </tr>
                `}).join(""):'<tr><td colspan="5" style="text-align: center; padding: 20px;">No monthly data available</td></tr>'}
      
      <!-- Monthly Summary Row -->
      <tr style="background-color: #e5e7eb; font-weight: bold; height: 25px;">
        <td style="text-align: center;">TOTAL</td>
        <td style="text-align: center; background-color: #ede9fe;">
          ${_.monthly_breakdown&&_.monthly_breakdown.length>0?_.monthly_breakdown.reduce((W,Z)=>W+Z.paid,0):_.taken_paid_leave}
        </td>
        <td style="text-align: center; background-color: #fee2e2;">
          ${_.monthly_breakdown&&_.monthly_breakdown.length>0?_.monthly_breakdown.reduce((W,Z)=>W+Z.unpaid,0):_.taken_unpaid_leave}
        </td>
        <td style="text-align: center; background-color: #ccfbf1;">
          ${_.total_leaves_taken}
        </td>
        <td style="text-align: center;">
          ${_.monthly_breakdown&&_.monthly_breakdown.length>0?(_.total_leaves_taken/_.monthly_breakdown.length).toFixed(2):_.total_leaves_taken} days/month
        </td>
      </tr>
      
      <!-- Spacing -->
      <tr style="height: 15px;"><td colspan="5"></td></tr>
      
      <!-- ========== DETAILED BREAKUP ========== -->
      <tr style="background-color: #10b981; color: white; font-weight: bold; height: 25px;">
        <td colspan="5" style="font-size: 14px;">DETAILED STATISTICS</td>
      </tr>
      
      <tr style="background-color: #d1fae5;">
        <td style="font-weight: bold; width: 40%;">Category</td>
        <td colspan="4" style="font-weight: bold; text-align: center;">Value</td>
      </tr>
      
      <tr style="background-color: #f0fdf4;">
        <td style="font-weight: bold;">Total Paid Leave Entitlement (Annual)</td>
        <td colspan="4" style="text-align: center;">${_.total_paid_leave} days</td>
      </tr>
      
      <tr style="background-color: #f0fdf4;">
        <td style="font-weight: bold;">Paid Leave Taken</td>
        <td colspan="4" style="text-align: center;">${_.taken_paid_leave} days</td>
      </tr>
      
      <tr style="background-color: #f0fdf4;">
        <td style="font-weight: bold;">Paid Leave Available/Remaining</td>
        <td colspan="4" style="text-align: center;">${_.available_paid_leave} days</td>
      </tr>
      
      <tr style="background-color: #f0fdf4;">
        <td style="font-weight: bold;">Unpaid Leave Taken</td>
        <td colspan="4" style="text-align: center;">${_.taken_unpaid_leave} days</td>
      </tr>
      
      <tr style="background-color: #f0fdf4;">
        <td style="font-weight: bold;">Paid Leave Usage Percentage</td>
        <td colspan="4" style="text-align: center;">${_.total_paid_leave>0?Math.round(_.taken_paid_leave/_.total_paid_leave*100):0}%</td>
      </tr>
      
      <tr style="background-color: #f0fdf4;">
        <td style="font-weight: bold;">Average Days per Month</td>
        <td colspan="4" style="text-align: center;">
          ${_.monthly_breakdown&&_.monthly_breakdown.length>0?(_.total_leaves_taken/_.monthly_breakdown.length).toFixed(2):0} days
        </td>
      </tr>

      <!-- Spacing -->
      <tr style="height: 15px;"><td colspan="5"></td></tr>

      <!-- ========== COMP-OFF SUMMARY ========== -->
      <tr style="background-color: #0891b2; color: white; font-weight: bold; height: 25px;">
        <td colspan="5" style="font-size: 14px;">COMP-OFF SUMMARY</td>
      </tr>

      <tr style="background-color: #cffafe;">
        <td style="font-weight: bold; width: 40%;">Metric</td>
        <td colspan="4" style="font-weight: bold; text-align: center;">Value</td>
      </tr>

      <tr style="background-color: #ecfeff;">
        <td style="font-weight: bold;">Comp-Off Earned</td>
        <td colspan="4" style="text-align: center;">${_.comp_off_earned||0} days</td>
      </tr>

      <tr style="background-color: #ecfeff;">
        <td style="font-weight: bold;">Comp-Off Used</td>
        <td colspan="4" style="text-align: center;">${_.comp_off_used||0} days</td>
      </tr>

      <tr style="background-color: #ecfeff;">
        <td style="font-weight: bold;">Comp-Off Available</td>
        <td colspan="4" style="text-align: center; font-weight: bold;">${_.comp_off_available||0} days</td>
      </tr>

      <tr style="background-color: #ecfeff;">
        <td style="font-weight: bold;">Comp-Off Usage Percentage</td>
        <td colspan="4" style="text-align: center;">
          ${_.comp_off_earned>0?Math.round(_.comp_off_used/_.comp_off_earned*100):0}%
        </td>
      </tr>

      <!-- Spacing -->
      <tr style="height: 15px;"><td colspan="5"></td></tr>

      <!-- ========== COMP-OFF MONTHLY BREAKDOWN ========== -->
      ${_.comp_off_monthly_breakdown&&_.comp_off_monthly_breakdown.length>0?`
      <tr style="background-color: #0891b2; color: white; font-weight: bold; height: 25px;">
        <td colspan="5" style="font-size: 14px;">COMP-OFF MONTH-WISE BREAKDOWN</td>
      </tr>

      <tr style="background-color: #cffafe; font-weight: bold;">
        <td style="text-align: center;">Month</td>
        <td style="text-align: center; background-color: #a5f3fc;">Earned</td>
        <td style="text-align: center; background-color: #fed7aa;">Used</td>
        <td style="text-align: center; background-color: #e5e7eb;">Expired</td>
        <td style="text-align: center; background-color: #a7f3d0;">Available</td>
      </tr>

      ${_.comp_off_monthly_breakdown.map((W,Z)=>`
        <tr style="background-color: ${Z%2===0?"#ffffff":"#f9fafb"};">
          <td style="text-align: center; font-weight: 500;">${W.month}</td>
          <td style="text-align: center; background-color: ${Z%2===0?"#cffafe":"#ecfeff"};">${W.earned}</td>
          <td style="text-align: center; background-color: ${Z%2===0?"#ffedd5":"#fed7aa"};">${W.used}</td>
          <td style="text-align: center; background-color: ${Z%2===0?"#f3f4f6":"#e5e7eb"};">${W.expired}</td>
          <td style="text-align: center; background-color: ${Z%2===0?"#d1fae5":"#a7f3d0"}; font-weight: bold;">${W.available}</td>
        </tr>
        `).join("")}

      <!-- Spacing -->
      <tr style="height: 15px;"><td colspan="5"></td></tr>
      `:""}

      <!-- ========== COMP-OFF TRANSACTIONS ========== -->
      ${_.comp_off_details&&_.comp_off_details.length>0?`
      <tr style="background-color: #0891b2; color: white; font-weight: bold; height: 25px;">
        <td colspan="5" style="font-size: 14px;">RECENT COMP-OFF TRANSACTIONS (LAST 10)</td>
      </tr>

      <tr style="background-color: #cffafe; font-weight: bold;">
        <td style="text-align: center;">Date</td>
        <td style="text-align: center;">Type</td>
        <td style="text-align: center;">Month</td>
        <td colspan="2" style="text-align: center;">Notes</td>
      </tr>

      ${_.comp_off_details.map((W,Z)=>`
        <tr style="background-color: ${Z%2===0?"#ffffff":"#f9fafb"};">
          <td style="text-align: center;">${new Date(W.date).toLocaleDateString()}</td>
          <td style="text-align: center; font-weight: 500; ${W.type==="earned"?"background-color: #cffafe;":W.type==="used"?"background-color: #fed7aa;":"background-color: #e5e7eb;"}">
            ${W.type.toUpperCase()}
          </td>
          <td style="text-align: center;">${W.month||"-"}</td>
          <td colspan="2" style="padding: 5px;">${W.notes||"-"}</td>
        </tr>
        `).join("")}
      `:""}

    </table>
    `,T=new Blob([A],{type:"application/vnd.ms-excel;charset=utf-8;"}),I=document.createElement("a"),J=URL.createObjectURL(T);I.setAttribute("href",J),I.setAttribute("download",`${_.employee_name}_leave_compoff_report_${new Date().toISOString().split("T")[0]}.xls`),I.style.visibility="hidden",document.body.appendChild(I),I.click(),document.body.removeChild(I)},R=_=>{const A={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"};return r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${A[_]||"bg-gray-100 text-gray-800"}`,children:_.charAt(0).toUpperCase()+_.slice(1)})},O=[{header:"Employee",render:_=>_.employee?`${_.employee.first_name} ${_.employee.last_name} (${_.employee.employee_id})`:`Employee #${_.employee_id}`},{header:"Leave Type",render:_=>{let A="Full Day";_.duration_type==="half_day_morning"?A="Half Day (AM)":_.duration_type==="half_day_afternoon"&&(A="Half Day (PM)");const T=_.leave_type==="comp_off",I=_.leave_type==="comp_off"?"Comp-Off Usage":_.leave_type.charAt(0).toUpperCase()+_.leave_type.slice(1);return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{children:[I," - ",A]}),T&&r.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-800 text-xs font-semibold rounded",children:"USES EARNED"})]})}},{header:"Start Date",render:_=>ie(new Date(_.start_date),"MMM dd, yyyy")},{header:"End Date",render:_=>ie(new Date(_.end_date),"MMM dd, yyyy")},{header:"Reason",accessor:"reason"},{header:"Status",render:_=>R(_.status)},{header:"Actions",render:_=>_.status==="pending"?r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>E(_,"approve"),className:"text-green-600 hover:text-green-800",title:"Approve",children:r.jsx(Pe,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>E(_,"reject"),className:"text-red-600 hover:text-red-800",title:"Reject",children:r.jsx(Hn,{className:"w-5 h-5"})})]}):r.jsx("span",{className:"text-gray-400 text-sm",children:"Reviewed"})}];if(p)return r.jsx("div",{className:"p-6",children:"Loading..."});const F=f==="all"?e:e.filter(_=>_.leave_type===f),Q=e.filter(_=>_.status==="pending").length,M=e.filter(_=>_.leave_type==="paid").length,U=e.filter(_=>_.leave_type==="unpaid").length,K=e.filter(_=>_.leave_type==="comp_off").length;return r.jsxs("div",{children:[r.jsx(ze,{title:"Leave Requests",subtitle:"Review and manage leave requests"}),r.jsxs("div",{className:"p-6",children:[r.jsx(G,{title:"Search Employee Leave Details",className:"mb-6",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx("input",{type:"text",placeholder:"Enter Employee ID",value:g,onChange:_=>b(_.target.value),onKeyPress:_=>_.key==="Enter"&&N(),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),r.jsx(B,{onClick:N,children:"Search"})]})}),S&&m&&r.jsxs("div",{className:"mb-6",children:[r.jsx(G,{className:"mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m.employee_name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Employee ID: ",m.employee_id]})]}),r.jsx(B,{onClick:()=>h(!0),children:"View Full Details"})]})}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:" Leave Summary"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Paid Leave"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:m.total_paid_leave})]}),r.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Taken (Paid)"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:m.taken_paid_leave})]}),r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Available (Paid)"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.available_paid_leave})]}),r.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Taken (Unpaid)"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:m.taken_unpaid_leave})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:" Comp-Off Summary"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 bg-cyan-50 rounded-lg border border-cyan-200 border-l-4",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Comp-Off Earned"}),r.jsx("p",{className:"text-2xl font-bold text-cyan-600",children:m.comp_off_earned||0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"total days"})]}),r.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200 border-l-4",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Comp-Off Used"}),r.jsx("p",{className:"text-2xl font-bold text-amber-600",children:m.comp_off_used||0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"days taken"})]}),r.jsxs("div",{className:"p-4 bg-emerald-50 rounded-lg border border-emerald-200 border-l-4",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Comp-Off Available"}),r.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:m.comp_off_available||0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"days remaining"})]})]})]}),S&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-auto",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-5xl w-full shadow-2xl",children:[r.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-800 text-white p-6 flex justify-between items-center rounded-t-lg",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:m.employee_name}),r.jsxs("p",{className:"text-sm text-blue-100",children:["Employee ID: ",m.employee_id]}),r.jsxs("p",{className:"text-xs text-blue-200 mt-1",children:["Generated on ",new Date().toLocaleDateString()]})]}),r.jsx("button",{onClick:()=>h(!1),className:"text-3xl font-bold hover:text-blue-200 transition",children:""})]}),r.jsxs("div",{className:"p-6 max-h-96 overflow-y-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b-2 border-purple-500",children:" Paid Leave Statistics"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border-l-4 border-purple-500",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide mb-2",children:"Total Annual Entitlement"}),r.jsx("p",{className:"text-4xl font-bold text-purple-600",children:m.total_paid_leave}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"days per year"})]}),r.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border-l-4 border-orange-500",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide mb-2",children:"Days Taken"}),r.jsx("p",{className:"text-4xl font-bold text-orange-600",children:m.taken_paid_leave}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"days utilized"})]}),r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide mb-2",children:"Days Available"}),r.jsx("p",{className:"text-4xl font-bold text-green-600",children:m.available_paid_leave}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"days remaining"})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-3",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Usage Progress"}),r.jsxs("p",{className:"text-sm font-bold text-purple-600",children:[m.total_paid_leave>0?Math.round(m.taken_paid_leave/m.total_paid_leave*100):0,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-300 rounded-full h-3",children:r.jsx("div",{className:"bg-purple-600 h-3 rounded-full transition-all",style:{width:`${m.total_paid_leave>0?Math.min(m.taken_paid_leave/m.total_paid_leave*100,100):0}%`}})}),r.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:[m.taken_paid_leave," / ",m.total_paid_leave," days used"]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b-2 border-red-500",children:" Unpaid Leave Statistics"}),r.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border-l-4 border-red-500",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide mb-2",children:"Total Unpaid Days Taken"}),r.jsx("p",{className:"text-4xl font-bold text-red-600",children:m.taken_unpaid_leave}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"This includes all approved unpaid leave"})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b-2 border-cyan-500",children:" Comp-Off Statistics"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 bg-cyan-50 rounded-lg border-l-4 border-cyan-500",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide mb-2",children:"Comp-Off Earned"}),r.jsx("p",{className:"text-4xl font-bold text-cyan-600",children:m.comp_off_earned||0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"total days earned"})]}),r.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border-l-4 border-amber-500",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide mb-2",children:"Comp-Off Used"}),r.jsx("p",{className:"text-4xl font-bold text-amber-600",children:m.comp_off_used||0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"days utilized"})]}),r.jsxs("div",{className:"p-4 bg-emerald-50 rounded-lg border-l-4 border-emerald-500",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide mb-2",children:"Comp-Off Available"}),r.jsx("p",{className:"text-4xl font-bold text-emerald-600",children:m.comp_off_available||0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"days remaining"})]})]}),m.comp_off_earned>0&&r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-3",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Usage Progress"}),r.jsxs("p",{className:"text-sm font-bold text-cyan-600",children:[m.comp_off_earned>0?Math.round(m.comp_off_used/m.comp_off_earned*100):0,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-300 rounded-full h-3",children:r.jsx("div",{className:"bg-cyan-600 h-3 rounded-full transition-all",style:{width:`${m.comp_off_earned>0?Math.min(m.comp_off_used/m.comp_off_earned*100,100):0}%`}})}),r.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:[m.comp_off_used," / ",m.comp_off_earned," days used"]})]})]}),m.monthly_breakdown&&m.monthly_breakdown.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b-2 border-blue-500",children:" Monthly Breakdown"}),r.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-300",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b-2 border-gray-300",children:[r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Month"}),r.jsx("th",{className:"px-4 py-3 text-center font-semibold text-purple-700 bg-purple-50",children:"Paid Days"}),r.jsx("th",{className:"px-4 py-3 text-center font-semibold text-red-700 bg-red-50",children:"Unpaid Days"}),r.jsx("th",{className:"px-4 py-3 text-center font-semibold text-blue-700 bg-blue-50",children:"Total Days"})]})}),r.jsx("tbody",{children:m.monthly_breakdown.map((_,A)=>r.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 transition",children:[r.jsx("td",{className:"px-4 py-3 text-gray-900 font-medium",children:_.month}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full font-semibold text-sm",children:_.paid})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:`px-3 py-1 rounded-full font-semibold text-sm ${_.unpaid>0?"bg-red-100 text-red-700":"bg-gray-100 text-gray-500"}`,children:_.unpaid})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full font-bold text-sm",children:_.total})})]},A))})]})})]}),m.comp_off_monthly_breakdown&&m.comp_off_monthly_breakdown.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b-2 border-cyan-500",children:" Comp-Off Monthly Breakdown"}),r.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-300",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b-2 border-gray-300",children:[r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Month"}),r.jsx("th",{className:"px-4 py-3 text-center font-semibold text-cyan-700 bg-cyan-50",children:"Earned"}),r.jsx("th",{className:"px-4 py-3 text-center font-semibold text-amber-700 bg-amber-50",children:"Used"}),r.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700 bg-gray-50",children:"Expired"}),r.jsx("th",{className:"px-4 py-3 text-center font-semibold text-emerald-700 bg-emerald-50",children:"Available"})]})}),r.jsx("tbody",{children:m.comp_off_monthly_breakdown.map((_,A)=>r.jsxs("tr",{className:"border-b border-gray-200 hover:bg-cyan-50 transition",children:[r.jsx("td",{className:"px-4 py-3 text-gray-900 font-medium",children:_.month}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:"px-3 py-1 bg-cyan-100 text-cyan-700 rounded-full font-semibold text-sm",children:_.earned})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:"px-3 py-1 bg-amber-100 text-amber-700 rounded-full font-semibold text-sm",children:_.used})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:`px-3 py-1 rounded-full font-semibold text-sm ${_.expired>0?"bg-gray-200 text-gray-700":"bg-gray-100 text-gray-500"}`,children:_.expired})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full font-bold text-sm",children:_.available})})]},A))})]})})]}),m.comp_off_details&&m.comp_off_details.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b-2 border-cyan-500",children:" Recent Comp-Off Transactions (Last 10)"}),r.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-300",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b-2 border-gray-300",children:[r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Type"}),r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Month"}),r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Notes"})]})}),r.jsx("tbody",{children:m.comp_off_details.map((_,A)=>r.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition",children:[r.jsx("td",{className:"px-4 py-3 text-gray-900",children:new Date(_.date).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:`px-3 py-1 rounded-full font-semibold text-sm ${_.type==="earned"?"bg-cyan-100 text-cyan-700":_.type==="used"?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-700"}`,children:_.type})}),r.jsx("td",{className:"px-4 py-3 text-gray-700",children:_.month||"-"}),r.jsx("td",{className:"px-4 py-3 text-gray-600 text-xs",children:_.notes||"-"})]},A))})]})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b-2 border-green-500",children:" Annual Summary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[r.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide",children:"Paid Days (Year)"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-2",children:m.taken_paid_leave})]}),r.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide",children:"Unpaid Days (Year)"}),r.jsx("p",{className:"text-2xl font-bold text-red-600 mt-2",children:m.taken_unpaid_leave})]}),r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide",children:"Total Days (Year)"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:m.total_leaves_taken})]}),r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide",children:"Usage Rate"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600 mt-2",children:[m.total_paid_leave>0?Math.round(m.taken_paid_leave/m.total_paid_leave*100):0,"%"]})]})]})]}),r.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border-l-4 border-indigo-500",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Key Metrics"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Monthly Average (Paid):"}),r.jsxs("span",{className:"font-bold text-gray-900",children:[m.monthly_breakdown&&m.monthly_breakdown.length>0?(m.taken_paid_leave/m.monthly_breakdown.length).toFixed(2):0," days"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Days Per Month (Entitlement):"}),r.jsxs("span",{className:"font-bold text-gray-900",children:[(m.total_paid_leave/12).toFixed(2)," days"]})]})]})]})]}),r.jsxs("div",{className:"flex gap-3 p-6 bg-gray-50 border-t border-gray-200 rounded-b-lg",children:[r.jsx(B,{onClick:()=>k(m),className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-2",children:" Download as Excel"}),r.jsx(B,{onClick:()=>h(!1),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2",children:"Close"})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Pending"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:Q})]}),r.jsx(Ee,{className:"w-8 h-8 text-yellow-600"})]})})}),r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Approved"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.filter(_=>_.status==="approved").length})]}),r.jsx(Pe,{className:"w-8 h-8 text-green-600"})]})})}),r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Rejected"}),r.jsx("p",{className:"text-3xl font-bold text-red-600",children:e.filter(_=>_.status==="rejected").length})]}),r.jsx(Hn,{className:"w-8 h-8 text-red-600"})]})})})]}),r.jsxs("div",{className:"mb-6 flex gap-3 flex-wrap",children:[r.jsxs("button",{onClick:()=>x("all"),className:`px-6 py-2 rounded-lg font-medium transition ${f==="all"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All Requests (",e.length,")"]}),r.jsxs("button",{onClick:()=>x("paid"),className:`px-6 py-2 rounded-lg font-medium transition ${f==="paid"?"bg-green-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Paid Leave (",M,")"]}),r.jsxs("button",{onClick:()=>x("unpaid"),className:`px-6 py-2 rounded-lg font-medium transition ${f==="unpaid"?"bg-orange-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Unpaid Leave (",U,")"]}),r.jsxs("button",{onClick:()=>x("comp_off"),className:`px-6 py-2 rounded-lg font-medium transition ${f==="comp_off"?"bg-purple-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Comp-Off Usage (",K,")"]})]}),r.jsx(G,{title:f==="all"?"All Leave Requests":f==="paid"?"Paid Leave Requests":f==="unpaid"?"Unpaid Leave Requests":"Comp-Off Usage Requests",subtitle:`${F.length} ${f==="all"?"total":f==="comp_off"?"comp-off usage":f} requests`,children:r.jsx(Ad,{columns:O,data:F})}),r.jsx(He,{isOpen:a,onClose:()=>l(!1),title:`${d==="approve"?"Approve":"Reject"} ${(n==null?void 0:n.leave_type)==="comp_off"?"Comp-Off Usage":"Leave"} Request`,footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),r.jsx(B,{variant:d==="approve"?"success":"danger",onClick:v,children:d==="approve"?"Approve":"Reject"})]}),children:n&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Employee"}),r.jsx("p",{className:"font-medium",children:n.employee?`${n.employee.first_name} ${n.employee.last_name} (${n.employee.employee_id})`:`Employee #${n.employee_id}`})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Leave Type"}),r.jsxs("p",{className:"font-medium",children:[n.leave_type==="comp_off"?"Comp-Off Usage":n.leave_type.charAt(0).toUpperCase()+n.leave_type.slice(1),n.duration_type&&r.jsxs("span",{className:"ml-2",children:["(",n.duration_type==="half_day_morning"?"Half Day - Morning":n.duration_type==="half_day_afternoon"?"Half Day - Afternoon":"Full Day",")"]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Leave Period"}),r.jsxs("p",{className:"font-medium",children:[ie(new Date(n.start_date),"MMM dd, yyyy")," -"," ",ie(new Date(n.end_date),"MMM dd, yyyy")]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Reason"}),r.jsx("p",{className:"font-medium",children:n.reason})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Review Notes (Optional)"}),r.jsx("textarea",{value:i,onChange:_=>o(_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",rows:"3",placeholder:"Add any notes about this decision..."})]})]})})]})]})},Pj=({user:e})=>{const[t,n]=y.useState([]),[s,a]=y.useState(!0),[l,i]=y.useState({present:0,late:0,absent:0}),[o,d]=y.useState(new Date().getMonth()+1),[c,p]=y.useState(new Date().getFullYear()),[u,g]=y.useState(""),[b,m]=y.useState(new Date().getMonth()+1),[j,S]=y.useState(new Date().getFullYear()),[h,f]=y.useState(!1);y.useEffect(()=>{x()},[]);const x=async()=>{try{const v=ie(new Date,"yyyy-MM-dd"),k=await Pl(v,v);n(k.data);let R=0,O=0,F=0;k.data.forEach(Q=>{Q.in_time?Q.status==="onTime"?R++:O++:F++}),i({present:R,late:O,absent:F})}catch(v){console.error("Failed to load attendance:",v)}finally{a(!1)}},w=async()=>{try{const v=await z.get(`/attendance/export/monthly?department_id=${e.manager_department_id}&year=${c}&month=${o}`,{responseType:"blob"}),k=window.URL.createObjectURL(new Blob([v.data])),R=document.createElement("a");R.href=k,R.setAttribute("download",`attendance_${c}-${String(o).padStart(2,"0")}.xlsx`),document.body.appendChild(R),R.click(),R.remove()}catch(v){console.error("Failed to download monthly report",v)}},N=async()=>{try{const v=new Date,k=v.getDay(),R=new Date(v);R.setDate(v.getDate()-k);const O=new Date(R);O.setDate(R.getDate()+6);const F=await z.get(`/attendance/export/weekly?department_id=${e.manager_department_id}&start_date=${R.toISOString().split("T")[0]}&end_date=${O.toISOString().split("T")[0]}`,{responseType:"blob"}),Q=window.URL.createObjectURL(new Blob([F.data])),M=document.createElement("a");M.href=Q,M.setAttribute("download",`attendance_weekly_${R.toISOString().split("T")[0]}.xlsx`),document.body.appendChild(M),M.click(),M.remove()}catch(v){console.error("Failed to download weekly report",v)}},E=async()=>{if(!u){alert("Please enter an Employee ID");return}try{f(!0);const v=localStorage.getItem("token"),k=await fetch(`http://localhost:8000/attendance/export/employee-monthly?year=${j}&month=${b}&employee_id=${u}`,{method:"GET",headers:{Authorization:`Bearer ${v}`}});if(!k.ok)throw new Error("Download failed");const R=await k.blob(),O=window.URL.createObjectURL(R),F=document.createElement("a");F.href=O,F.download=`employee_${u}_attendance_${j}-${String(b).padStart(2,"0")}.xlsx`,document.body.appendChild(F),F.click(),document.body.removeChild(F),window.URL.revokeObjectURL(O)}catch(v){console.error("Download failed:",v),alert("Failed to download employee report")}finally{f(!1)}};return s?r.jsx("div",{className:"p-6",children:"Loading..."}):r.jsxs("div",{children:[r.jsx(ze,{title:"Attendance",subtitle:"Track daily employee attendance"}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Present"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:l.present})]}),r.jsx(Pe,{className:"w-8 h-8 text-green-600"})]})})}),r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Late"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:l.late})]}),r.jsx(we,{className:"w-8 h-8 text-yellow-600"})]})})}),r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Absent"}),r.jsx("p",{className:"text-3xl font-bold text-red-600",children:l.absent})]}),r.jsx(Hn,{className:"w-8 h-8 text-red-600"})]})})})]}),r.jsxs(G,{title:`Today's Attendance - ${ie(new Date,"MMMM dd, yyyy")}`,children:[r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-4 border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Month & Year"}),r.jsx("select",{value:o,onChange:v=>d(parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:12},(v,k)=>k+1).map(v=>r.jsx("option",{value:v,children:new Date(2024,v-1).toLocaleString("default",{month:"long"})},v))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),r.jsx("select",{value:c,onChange:v=>p(parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:5},(v,k)=>new Date().getFullYear()-2+k).map(v=>r.jsx("option",{value:v,children:v},v))})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:w,className:"w-full px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg font-medium transition",children:" Download Monthly"})}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:N,className:"w-full px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition",children:" Download Weekly"})})]})}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-6 border border-blue-200",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:" Download Individual Employee Monthly Report"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee ID"}),r.jsx("input",{type:"text",placeholder:"e.g., EMP001",value:u,onChange:v=>g(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Month"}),r.jsx("select",{value:b,onChange:v=>m(parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:12},(v,k)=>k+1).map(v=>r.jsx("option",{value:v,children:new Date(2024,v-1).toLocaleString("default",{month:"long"})},v))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),r.jsx("select",{value:j,onChange:v=>S(parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:5},(v,k)=>new Date().getFullYear()-2+k).map(v=>r.jsx("option",{value:v,children:v},v))})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:E,disabled:h,className:"w-full px-4 py-2 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-400 text-white rounded-lg font-medium transition",children:h?" Downloading...":" Download"})})]})]}),t.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ee,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No scheduled shifts for today"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Employee"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned Shift Time"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Hrs Assigned"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Check-In"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Check-Out"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Hrs Worked"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Break Time"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Overtime Hours"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(v=>{var R,O,F,Q;const k=()=>{var J,W;if(!((J=v.schedule)!=null&&J.start_time)||!((W=v.schedule)!=null&&W.end_time))return"-";const[M,U]=v.schedule.start_time.split(":").map(Number),[K,_]=v.schedule.end_time.split(":").map(Number),A=M+U/60,T=K+_/60;return(T>A?T-A:24-A+T).toFixed(2)};return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(R=v.employee)==null?void 0:R.first_name," ",(O=v.employee)==null?void 0:O.last_name]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:((Q=(F=v.schedule)==null?void 0:F.role)==null?void 0:Q.name)||"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:v.schedule?`${v.schedule.start_time} - ${v.schedule.end_time}`:"-"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:[k()," hrs"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:v.in_time?v.in_time:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:v.out_time?v.out_time:"-"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:[v.worked_hours!==null&&v.worked_hours!==void 0?v.worked_hours.toFixed(2):"-"," hrs"]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[v.break_minutes," min"]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-orange-600",children:[v.overtime_hours?v.overtime_hours.toFixed(2):"-"," hrs"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${v.status==="onTime"?"bg-green-100 text-green-800":v.status==="slightlyLate"?"bg-yellow-100 text-yellow-800":v.status==="late"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:v.status||"Scheduled"})})]},v.id)})})]})})]})]})]})},Lj=({user:e})=>{const[t,n]=y.useState([]),[s,a]=y.useState([]),[l,i]=y.useState(!1),[o,d]=y.useState(!0),[c,p]=y.useState(""),[u,g]=y.useState("all"),[b,m]=y.useState({recipient_id:"",subject:"",message:"",sendToAll:!1});y.useEffect(()=>{j()},[]);const j=async()=>{try{const[N,E]=await Promise.all([Np(),Tl()]);n(N.data),a(E.data)}catch(N){console.error("Failed to load messages:",N)}finally{d(!1)}},S=async N=>{var E,v;N.preventDefault(),p("");try{const k=b.sendToAll?null:b.recipient_id?parseInt(b.recipient_id):null;if(!b.sendToAll&&!k){p('Please select an employee or check "Send to all department employees"');return}await _v({recipient_id:k,department_id:b.sendToAll?e.manager_department_id:null,subject:b.subject,message:b.message}),i(!1),m({recipient_id:"",subject:"",message:"",sendToAll:!1}),j()}catch(k){p(((v=(E=k.response)==null?void 0:E.data)==null?void 0:v.detail)||"Failed to send message")}},h=async N=>{if(window.confirm("Are you sure you want to delete this message?"))try{await _p(N),j()}catch{alert("Failed to delete message")}},f=N=>{const E=s.find(v=>v.user_id===N);return E?`${E.first_name} ${E.last_name}`:`Employee #${N}`},w=u==="sent"?t.filter(N=>N.sender_id===e.id):u==="received"?t.filter(N=>N.recipient_id===e.id||N.department_id===e.manager_department_id):t;return o?r.jsx("div",{className:"p-6",children:"Loading..."}):r.jsxs("div",{children:[r.jsx(ze,{title:"Messages",subtitle:"Communicate with your team"}),r.jsxs("div",{className:"p-6",children:[r.jsxs(G,{title:"Messages",subtitle:`${w.length} of ${t.length} messages`,headerAction:r.jsxs(B,{onClick:()=>i(!0),children:[r.jsx(Rt,{className:"w-4 h-4 mr-2 inline"}),"New Message"]}),children:[r.jsxs("div",{className:"flex space-x-2 mb-4 border-b border-gray-200",children:[r.jsxs("button",{onClick:()=>g("all"),className:`px-4 py-2 font-medium text-sm transition-colors border-b-2 ${u==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:["All (",t.length,")"]}),r.jsxs("button",{onClick:()=>g("sent"),className:`px-4 py-2 font-medium text-sm transition-colors border-b-2 ${u==="sent"?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:["Sent (",t.filter(N=>N.sender_id===e.id).length,")"]}),r.jsxs("button",{onClick:()=>g("received"),className:`px-4 py-2 font-medium text-sm transition-colors border-b-2 ${u==="received"?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:["Received (",t.filter(N=>N.recipient_id===e.id||N.department_id===e.manager_department_id).length,")"]})]}),w.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(yo,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No messages yet"}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Send your first message to get started"})]}):r.jsx("div",{className:"space-y-4",children:w.map(N=>{const E=N.sender_id===e.id;return r.jsxs("div",{className:`border rounded-lg p-4 transition-all hover:shadow-md ${E?"border-blue-200 bg-blue-50":"border-gray-200 bg-white"}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${E?"bg-blue-200 text-blue-800":"bg-green-200 text-green-800"}`,children:E?"Sent":"Received"}),!N.is_read&&!E&&r.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-yellow-200 text-yellow-800",children:"Unread"})]}),r.jsx("h4",{className:"font-semibold text-gray-900",children:N.subject}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:E?N.recipient_id?r.jsxs(r.Fragment,{children:["To: ",f(N.recipient_id)]}):"To: All Department":N.sender_id?r.jsxs(r.Fragment,{children:["From: ",f(N.sender_id)]}):"From: System"})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsx("span",{className:"text-xs text-gray-500",children:ie(new Date(N.created_at),"MMM dd, HH:mm")}),r.jsx("button",{onClick:()=>h(N.id),className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50",title:"Delete message",children:r.jsx(Bn,{className:"w-4 h-4"})})]})]}),r.jsx("p",{className:"text-gray-700 mt-3 pl-2 border-l-2 border-gray-300",children:N.message})]},N.id)})})]}),r.jsxs(He,{isOpen:l,onClose:()=>i(!1),title:"Send New Message",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),r.jsxs(B,{type:"submit",form:"message-form",children:[r.jsx(yo,{className:"w-4 h-4 mr-2 inline"}),"Send Message"]})]}),children:[c&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:c})]}),r.jsxs("form",{id:"message-form",onSubmit:S,className:"space-y-4",children:[r.jsx("div",{children:r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",checked:b.sendToAll,onChange:N=>m({...b,sendToAll:N.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Send to all department employees"})]})}),!b.sendToAll&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipient"}),r.jsxs("select",{value:b.recipient_id,onChange:N=>m({...b,recipient_id:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!b.sendToAll,children:[r.jsx("option",{value:"",children:"Select employee"}),s.map(N=>r.jsxs("option",{value:N.user_id,children:[N.first_name," ",N.last_name," (",N.email,")"]},N.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),r.jsx("input",{type:"text",value:b.subject,onChange:N=>m({...b,subject:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Message subject",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),r.jsx("textarea",{value:b.message,onChange:N=>m({...b,message:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",rows:"5",placeholder:"Type your message here...",required:!0})]})]})]})]})]})},Aj=({user:e})=>r.jsxs("div",{children:[r.jsx(ze,{title:"Comp-Off Management",subtitle:"Manage and approve employee comp-off requests"}),r.jsx("div",{className:"p-6",children:r.jsx(Lp,{currentUser:e,departmentId:e.manager_department_id})})]}),Fj=({user:e,onLogout:t})=>r.jsxs("div",{className:"flex h-screen bg-gray-100",children:[r.jsx(Ld,{user:e,onLogout:t}),r.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsxs(_l,{children:[r.jsx(be,{path:"/dashboard",element:r.jsx(Dj,{user:e})}),r.jsx(be,{path:"/employees",element:r.jsx(Mj,{user:e})}),r.jsx(be,{path:"/roles",element:r.jsx(Tj,{user:e})}),r.jsx(be,{path:"/schedules",element:r.jsx(Rj,{user:e})}),r.jsx(be,{path:"/leaves",element:r.jsx(Oj,{})}),r.jsx(be,{path:"/comp-off",element:r.jsx(Aj,{user:e})}),r.jsx(be,{path:"/overtime-approvals",element:r.jsx(Ej,{})}),r.jsx(be,{path:"/attendance",element:r.jsx(Pj,{user:e})}),r.jsx(be,{path:"/messages",element:r.jsx(Lj,{user:e})}),r.jsx(be,{path:"/",element:r.jsx(Es,{to:"/dashboard",replace:!0})})]})})})]}),$j=()=>{const[e,t]=y.useState({totalUsers:0,totalDepartments:0,totalManagers:0,totalEmployees:0}),[n,s]=y.useState(!0);y.useEffect(()=>{a()},[]);const a=async()=>{try{s(!0);const[i,o]=await Promise.all([Md(),Td()]),d=i.data,c=d.filter(u=>u.user_type==="manager"),p=d.filter(u=>u.user_type==="employee");t({totalUsers:d.length,totalDepartments:o.data.length,totalManagers:c.length,totalEmployees:p.length})}catch(i){console.error("Failed to load dashboard data:",i)}finally{s(!1)}},l=[{title:"Total Users",value:e.totalUsers,icon:kd,color:"blue"},{title:"Departments",value:e.totalDepartments,icon:Qm,color:"green"},{title:"Managers",value:e.totalManagers,icon:Km,color:"purple"},{title:"Employees",value:e.totalEmployees,icon:j0,color:"orange"}];return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-xl text-gray-500",children:"Loading..."})}):r.jsxs("div",{children:[r.jsx(ze,{title:"Admin Dashboard",subtitle:"Manage your organization"}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:l.map((i,o)=>r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:i.title}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.value})]}),r.jsx("div",{className:`p-3 bg-${i.color}-100 rounded-lg`,children:r.jsx(i.icon,{className:`w-8 h-8 text-${i.color}-600`})})]})})},o))}),r.jsx(G,{title:"System Overview",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Recent Activity"}),r.jsx("p",{className:"text-gray-600",children:"System is running smoothly. All services operational."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Quick Stats"}),r.jsxs("p",{className:"text-gray-600",children:["Managing ",e.totalDepartments," departments with ",e.totalManagers," managers overseeing ",e.totalEmployees," employees."]})]})]})})]})]})},Ij=()=>{var te,ce,oe,se,xe,ne;const[e,t]=y.useState([]),[n,s]=y.useState([]),[a,l]=y.useState(!1),[i,o]=y.useState(!1),[d,c]=y.useState(null),[p,u]=y.useState(!0),[g,b]=y.useState(!1),[m,j]=y.useState(""),[S,h]=y.useState(""),[f,x]=y.useState(""),[w,N]=y.useState([]),[E,v]=y.useState(!1),[k,R]=y.useState(null),[O,F]=y.useState(!1),[Q,M]=y.useState(null),[U,K]=y.useState(!1),[_,A]=y.useState(!1),[T,I]=y.useState(!1),[J,W]=y.useState(null),[Z,Re]=y.useState(!1),[pe,We]=y.useState(null),[C,V]=y.useState(null),[$,ee]=y.useState({username:"",password:"",email:"",full_name:"",department_id:""}),[H,he]=y.useState({department_id:""});y.useEffect(()=>{Le()},[]);const Le=async()=>{try{u(!0);const[P,q]=await Promise.all([tv(),Td()]),ae=await Md(),ue={};ae.data.forEach(st=>{ue[st.id]=st});const Ne=P.data.map(st=>({...st,...ue[st.user_id]}));t(Ne),s(q.data)}catch(P){console.error("Failed to load managers:",P),j("Failed to load data")}finally{u(!1)}},Lt=async P=>{if(x(P),!P.trim()){N([]),v(!1);return}try{const q=await lv(P),ae=Array.isArray(q.data)?q.data:[q.data];N(ae),v(!0)}catch(q){console.error("Failed to search departments:",q),N([])}},Pr=P=>{R(P),ee({...$,department_id:P.id.toString()}),x(P.name),v(!1)},yt=async P=>{var q,ae,ue,Ne,st,Ll,Lr,Ar,Fr,Fd;if(P&&P.preventDefault(),j(""),!U){if(!((q=$.username)!=null&&q.trim())||!((ae=$.email)!=null&&ae.trim())||!((ue=$.password)!=null&&ue.trim())||!((Ne=$.full_name)!=null&&Ne.trim())||!k){j("Please fill in all required fields");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($.email.trim())){j("Please enter a valid email address");return}b(!0);try{if(!await ev($.username.trim())){j(`Username "${$.username.trim()}" already exists. Please choose a different username.`),b(!1);return}K(!0)}catch{j("Failed to validate username availability")}finally{b(!1)}return}b(!0),K(!1);try{const Xn=await Zy({username:$.username.trim(),email:$.email.trim(),password:$.password.trim(),full_name:$.full_name.trim(),user_type:"manager"});try{const At=await yu({user_id:Xn.data.id,department_id:k.id});if(((st=At.data)==null?void 0:st.status)==="conflict"){We(At.data),V({user_id:Xn.data.id,department_id:k.id}),Re(!0),b(!1);return}((Ll=At.data)==null?void 0:Ll.status)==="success"?(l(!1),ee({username:"",password:"",email:"",full_name:"",department_id:""}),R(null),x(""),b(!1),Le()):(j("Unexpected response from server"),b(!1))}catch(At){j(((Ar=(Lr=At.response)==null?void 0:Lr.data)==null?void 0:Ar.detail)||"Failed to create manager"),b(!1)}}catch(Xn){const At=((Fd=(Fr=Xn.response)==null?void 0:Fr.data)==null?void 0:Fd.detail)||Xn.message||"Failed to create user";j(At),console.error("Create user error:",At),b(!1)}},Sn=async()=>{var P,q,ae,ue;b(!0),j("");try{const Ne=await yu(C,!0);console.log("Reassign response:",Ne),console.log("Response status:",(P=Ne.data)==null?void 0:P.status),((q=Ne.data)==null?void 0:q.status)==="success"?(Re(!1),l(!1),ee({username:"",password:"",email:"",full_name:"",department_id:""}),R(null),x(""),We(null),V(null),b(!1),Le()):(j("Unexpected response from server: "+JSON.stringify(Ne.data)),b(!1))}catch(Ne){console.error("Reassign error:",Ne),j(((ue=(ae=Ne.response)==null?void 0:ae.data)==null?void 0:ue.detail)||Ne.message||"Failed to reassign manager"),b(!1)}},Bt=async P=>{var q,ae,ue;if(P.preventDefault(),h(""),!_){A(!0);return}b(!0);try{await nv(d.id,{department_id:H.department_id?parseInt(H.department_id):null}),o(!1),A(!1),c(null),Le()}catch(Ne){((q=Ne.response)==null?void 0:q.status)===409?I(!0):h(((ue=(ae=Ne.response)==null?void 0:ae.data)==null?void 0:ue.detail)||Ne.message||"Failed to reassign manager")}finally{b(!1)}},Ws=async()=>{var P,q;h(""),b(!0);try{await rv(d.id,{department_id:H.department_id?parseInt(H.department_id):null}),o(!1),I(!1),A(!1),c(null),Le()}catch(ae){h(((q=(P=ae.response)==null?void 0:P.data)==null?void 0:q.detail)||ae.message||"Failed to reassign manager")}finally{b(!1)}},Kn=P=>{c(P),he({department_id:P.department_id||""}),o(!0)},Cn=P=>{M(P),F(!0)},Bs=async()=>{var P,q;b(!0);try{await sv(Q.id),F(!1),M(null),Le()}catch(ae){alert("Failed to delete manager: "+(((q=(P=ae.response)==null?void 0:P.data)==null?void 0:q.detail)||ae.message)),F(!1)}finally{b(!1)}},X=[{header:"Username",accessor:"username",width:"120px"},{header:"Full Name",accessor:"full_name",width:"180px"},{header:"Email",accessor:"email",width:"180px"},{header:"Department",width:"150px",render:P=>{const q=n.find(ae=>ae.id===P.department_id);return r.jsx("span",{className:"font-medium",children:q?q.name:r.jsx("span",{className:"text-gray-400",children:"Unassigned"})})}},{header:"Status",width:"100px",render:P=>r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${P.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.is_active?"Active":"Inactive"})},{header:"Actions",width:"100px",render:P=>r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(B,{variant:"outline",size:"sm",onClick:()=>Kn(P),className:"flex items-center gap-1",children:[r.jsx(Ms,{className:"w-4 h-4"}),"Reassign"]}),r.jsxs(B,{variant:"outline",size:"sm",onClick:()=>Cn(P),className:"flex items-center gap-1 text-red-600 hover:bg-red-50",children:[r.jsx(Bn,{className:"w-4 h-4"}),"Delete"]})]})}];return p?r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-xl text-gray-500",children:"Loading managers..."})})}):r.jsxs("div",{children:[r.jsx(ze,{title:"Managers",subtitle:"Create and manage department managers"}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx(G,{title:"All Managers",subtitle:`${e.length} total managers`,headerAction:r.jsxs(B,{onClick:()=>l(!0),children:[r.jsx(Rt,{className:"w-4 h-4 mr-2 inline"}),"Add Manager"]}),children:e.length===0?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500",children:"No managers yet. Create one to get started."})}):r.jsx(Ad,{columns:X,data:e})}),r.jsxs(He,{isOpen:a,onClose:()=>{l(!1),j(""),x(""),N([]),v(!1),R(null)},title:"Create New Manager",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{l(!1),j(""),x(""),N([]),v(!1),R(null)},children:"Cancel"}),r.jsx(B,{onClick:yt,disabled:g||!((te=$.username)!=null&&te.trim())||!((ce=$.password)!=null&&ce.trim())||!((oe=$.email)!=null&&oe.trim())||!((se=$.full_name)!=null&&se.trim())||!k,children:g?"Creating...":"Create Manager"})]}),children:[m&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:m})]}),r.jsxs("form",{onSubmit:yt,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),r.jsx("input",{type:"text",value:$.username,onChange:P=>ee({...$,username:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0,disabled:g})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),r.jsx("input",{type:"password",value:$.password,onChange:P=>ee({...$,password:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0,disabled:g})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),r.jsx("input",{type:"text",value:$.full_name,onChange:P=>ee({...$,full_name:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0,disabled:g})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:$.email,onChange:P=>ee({...$,email:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0,disabled:g})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department (Search by ID or Name)"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:f,onChange:P=>Lt(P.target.value),onFocus:()=>f&&v(!0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Search by department name, code, or ID (e.g., 'Assembly', '001', or '1')",disabled:g}),k&&r.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Selected: ",k.name," (Dept ID: ",k.dept_id,")"]})}),E&&w.length>0&&r.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:w.map(P=>r.jsxs("button",{type:"button",onClick:()=>Pr(P),className:"w-full text-left px-3 py-2 hover:bg-blue-50 border-b border-gray-100 last:border-b-0",children:[r.jsx("p",{className:"font-medium text-gray-900",children:P.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Dept ID: ",P.dept_id," | ID: ",P.id," ",P.description?"- "+P.description:""]})]},P.id))})]})]})]})]}),r.jsxs(He,{isOpen:i,onClose:()=>{o(!1),h(""),c(null)},title:`Reassign ${(d==null?void 0:d.full_name)||"Manager"}`,footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{o(!1),h(""),c(null)},children:"Cancel"}),r.jsx(B,{onClick:Bt,disabled:g,children:g?"Reassigning...":"Reassign Manager"})]}),children:[S&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:S})]}),d&&r.jsxs("form",{onSubmit:Bt,className:"space-y-4",children:[r.jsx("div",{className:"bg-blue-50 p-3 rounded-lg mb-4",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Manager:"})," ",d.full_name]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign to Department"}),r.jsxs("select",{value:H.department_id,onChange:P=>he({department_id:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",disabled:g,children:[r.jsx("option",{value:"",children:"Unassign from department"}),n.map(P=>r.jsx("option",{value:P.id,children:P.name},P.id))]})]})]})]}),r.jsx(He,{isOpen:U,onClose:()=>{K(!1)},title:"Confirm Create Manager",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{K(!1)},children:"Cancel"}),r.jsx(B,{onClick:yt,disabled:g,className:"bg-green-600 hover:bg-green-700",children:g?"Creating...":"Confirm Create"})]}),children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsx("p",{className:"text-green-900 font-medium",children:"Create new manager?"})}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Username:"})," ",$.username]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Full Name:"})," ",$.full_name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",$.email]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Department:"})," ",k==null?void 0:k.name]})]})]})}),r.jsx(He,{isOpen:_,onClose:()=>{A(!1)},title:"Confirm Reassign Manager",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{A(!1)},children:"Cancel"}),r.jsx(B,{onClick:Bt,disabled:g,className:"bg-blue-600 hover:bg-blue-700",children:g?"Reassigning...":"Confirm Reassign"})]}),children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsx("p",{className:"text-blue-900 font-medium",children:"Reassign manager to different department?"})}),d&&r.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Manager:"})," ",d.full_name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Current Department:"})," ",(xe=n.find(P=>P.id===d.department_id))==null?void 0:xe.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"New Department:"})," ",H.department_id?(ne=n.find(P=>P.id===parseInt(H.department_id)))==null?void 0:ne.name:"Unassigned"]})]})]})}),r.jsx(He,{isOpen:T,onClose:()=>{I(!1)},title:"Manager Already Assigned",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{I(!1)},children:"Cancel"}),r.jsx(B,{onClick:Ws,disabled:g,className:"bg-orange-600 hover:bg-orange-700",children:g?"Reassigning...":"Yes, Reassign"})]}),children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:r.jsx("p",{className:"text-orange-900 font-medium",children:"Manager already assigned to this department. Do you want to reassign?"})}),r.jsx("p",{className:"text-sm text-gray-600",children:"The current manager will be deactivated and this manager will be assigned to the department."})]})}),r.jsxs(He,{isOpen:Z,onClose:()=>{Re(!1),We(null),V(null),j("")},title:"Manager Already Assigned",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{Re(!1),We(null),V(null),j("")},children:"Cancel"}),r.jsx(B,{onClick:Sn,disabled:g,className:"bg-orange-600 hover:bg-orange-700",children:g?"Reassigning...":"Yes, Reassign"})]}),children:[m&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:m})]}),pe&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:r.jsx("p",{className:"text-orange-900 font-medium text-lg",children:" Manager Already Assigned to This Department"})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Current Manager:"}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-1",children:[r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Name:"})," ",pe.existing_manager.full_name]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Email:"})," ",pe.existing_manager.email]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Username:"})," ",pe.existing_manager.username]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"New Manager:"}),r.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg space-y-1",children:[r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Name:"})," ",$.full_name]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Email:"})," ",$.email]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Username:"})," ",$.username]})]})]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:r.jsx("p",{className:"text-sm text-blue-900",children:" If you proceed, the current manager will be unassigned from this department and the new manager will be assigned."})})]})]}),r.jsx(He,{isOpen:O,onClose:()=>{F(!1),M(null)},title:"Confirm Delete Manager",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{F(!1),M(null)},children:"Cancel"}),r.jsx(B,{onClick:Bs,disabled:g,className:"bg-red-600 hover:bg-red-700",children:g?"Deleting...":"Delete Manager"})]}),children:Q&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsx("p",{className:"text-red-900 font-medium",children:"Are you sure you want to delete this manager?"})}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Username:"})," ",Q.username]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Name:"})," ",Q.full_name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",Q.email]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:r.jsx("p",{className:"text-sm text-yellow-900",children:" This action will remove the manager from all assigned departments but will not delete the departments themselves."})})]})})]})]})},Uj=()=>{var pe,We;const[e,t]=y.useState([]),[n,s]=y.useState(null),[a,l]=y.useState(null),[i,o]=y.useState([]),[d,c]=y.useState(!1),[p,u]=y.useState(""),[g,b]=y.useState(new Date().getMonth()+1),[m,j]=y.useState(new Date().getFullYear()),[S,h]=y.useState(!1),[f,x]=y.useState(!1),[w,N]=y.useState(""),[E,v]=y.useState({present:0,late:0,absent:0}),[k,R]=y.useState(""),[O,F]=y.useState(new Date().getMonth()+1),[Q,M]=y.useState(new Date().getFullYear()),[U,K]=y.useState(!1),[_,A]=y.useState({dept_id:"",name:"",description:""});y.useEffect(()=>{T()},[]);const T=async()=>{try{c(!0);const C=await Td();t(C.data),u("")}catch(C){u("Failed to load departments"),console.error(C)}finally{c(!1)}},I=async C=>{try{c(!0);const V=await z.get(`/departments/${C}/details`);l(V.data),s(C);const $=ie(new Date,"yyyy-MM-dd"),ee=await Pl($,$);o(ee.data);let H=0,he=0,Le=0;ee.data.forEach(Lt=>{Lt.in_time?Lt.status==="on-time"||Lt.status==="onTime"?H++:he++:Le++}),v({present:H,late:he,absent:Le}),u("")}catch(V){u("Failed to load department details"),console.error(V)}finally{c(!1)}},J=async()=>{if(!n){u("Please select a department first");return}try{const C=await z.get(`/attendance/export/monthly?department_id=${n}&year=${m}&month=${g}`,{responseType:"blob"}),V=window.URL.createObjectURL(new Blob([C.data])),$=document.createElement("a");$.href=V,$.setAttribute("download",`attendance_${m}-${String(g).padStart(2,"0")}.xlsx`),document.body.appendChild($),$.click(),$.remove()}catch(C){u("Failed to download monthly report"),console.error(C)}},W=async()=>{if(!n){u("Please select a department first");return}try{const C=new Date,V=C.getDay(),$=new Date(C);$.setDate(C.getDate()-V);const ee=new Date($);ee.setDate($.getDate()+6);const H=await z.get(`/attendance/export/weekly?department_id=${n}&start_date=${$.toISOString().split("T")[0]}&end_date=${ee.toISOString().split("T")[0]}`,{responseType:"blob"}),he=window.URL.createObjectURL(new Blob([H.data])),Le=document.createElement("a");Le.href=he,Le.setAttribute("download",`attendance_weekly_${$.toISOString().split("T")[0]}.xlsx`),document.body.appendChild(Le),Le.click(),Le.remove()}catch(C){u("Failed to download weekly report"),console.error(C)}},Z=async()=>{if(!k){alert("Please enter an Employee ID");return}try{K(!0);const C=localStorage.getItem("token"),V=await fetch(`http://localhost:8000/attendance/export/employee-monthly?year=${Q}&month=${O}&employee_id=${k}`,{method:"GET",headers:{Authorization:`Bearer ${C}`}});if(!V.ok)throw new Error("Download failed");const $=await V.blob(),ee=window.URL.createObjectURL($),H=document.createElement("a");H.href=ee,H.download=`employee_${k}_attendance_${Q}-${String(O).padStart(2,"0")}.xlsx`,document.body.appendChild(H),H.click(),document.body.removeChild(H),window.URL.revokeObjectURL(ee)}catch(C){console.error("Download failed:",C),alert("Failed to download employee report")}finally{K(!1)}},Re=async C=>{var V,$,ee,H;if(C.preventDefault(),N(""),!((V=_.dept_id)!=null&&V.trim())||!(($=_.name)!=null&&$.trim())){N("Department ID and Name are required");return}x(!0);try{await av({dept_id:_.dept_id.trim(),name:_.name.trim(),description:_.description.trim()}),h(!1),A({dept_id:"",name:"",description:""}),T()}catch(he){N(((H=(ee=he.response)==null?void 0:ee.data)==null?void 0:H.detail)||"Failed to create department")}finally{x(!1)}};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Department Management"}),r.jsxs(B,{onClick:()=>h(!0),children:[r.jsx(Rt,{className:"w-4 h-4 mr-2 inline"}),"Add Department"]})]}),p&&r.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:p}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs(G,{className:"sticky top-8",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Departments"}),d&&!e.length?r.jsx("p",{className:"text-gray-600 text-center py-4",children:"Loading..."}):r.jsx("div",{className:"space-y-2",children:e.map(C=>r.jsxs("button",{onClick:()=>I(C.id),className:`w-full text-left px-4 py-3 rounded-lg transition ${n===C.id?"bg-blue-500 text-white font-semibold":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:[r.jsx("div",{className:"font-medium",children:C.name}),r.jsx("div",{className:"text-xs opacity-75",children:C.dept_id})]},C.id))})]})}),r.jsxs("div",{className:"lg:col-span-2",children:[d&&r.jsx(G,{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-600",children:"Loading..."})}),a&&r.jsxs(r.Fragment,{children:[r.jsx(G,{className:"mb-8 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:a.name}),r.jsxs("p",{className:"text-gray-600 mb-1",children:[r.jsx("span",{className:"font-semibold",children:"Department ID:"})," ",a.dept_id]}),a.description&&r.jsxs("p",{className:"text-gray-600",children:[r.jsx("span",{className:"font-semibold",children:"Description:"})," ",a.description]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Department Manager"}),a.manager?r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-700 font-medium",children:a.manager.full_name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-semibold",children:"Username:"})," ",a.manager.username]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-semibold",children:"Email:"})," ",a.manager.email]})]}):r.jsx("p",{className:"text-gray-500 italic",children:"No manager assigned"})]})]})}),r.jsxs(G,{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"flex justify-between items-center mb-4",children:r.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Employees (",a.employees.length,")"]})}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-4 border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Month & Year"}),r.jsx("select",{value:g,onChange:C=>b(parseInt(C.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:12},(C,V)=>V+1).map(C=>r.jsx("option",{value:C,children:new Date(2024,C-1).toLocaleString("default",{month:"long"})},C))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),r.jsx("select",{value:m,onChange:C=>j(parseInt(C.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:5},(C,V)=>new Date().getFullYear()-2+V).map(C=>r.jsx("option",{value:C,children:C},C))})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:J,className:"w-full px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg font-medium transition",children:" Download Monthly"})}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:W,className:"w-full px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition",children:" Download Weekly"})})]})})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-6 border border-blue-200",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:" Download Individual Employee Monthly Report"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee ID"}),r.jsx("input",{type:"text",placeholder:"e.g., EMP001",value:k,onChange:C=>R(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Month"}),r.jsx("select",{value:O,onChange:C=>F(parseInt(C.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:12},(C,V)=>V+1).map(C=>r.jsx("option",{value:C,children:new Date(2024,C-1).toLocaleString("default",{month:"long"})},C))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),r.jsx("select",{value:Q,onChange:C=>M(parseInt(C.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:5},(C,V)=>new Date().getFullYear()-2+V).map(C=>r.jsx("option",{value:C,children:C},C))})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:Z,disabled:U,className:"w-full px-4 py-2 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-400 text-white rounded-lg font-medium transition",children:U?" Downloading...":" Download"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Present"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:E.present})]}),r.jsx(Pe,{className:"w-8 h-8 text-green-600"})]})})}),r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Late"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:E.late})]}),r.jsx(we,{className:"w-8 h-8 text-yellow-600"})]})})}),r.jsx(G,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Absent"}),r.jsx("p",{className:"text-3xl font-bold text-red-600",children:E.absent})]}),r.jsx(Hn,{className:"w-8 h-8 text-red-600"})]})})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Today's Attendance - ",ie(new Date,"MMMM dd, yyyy")]})}),i.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ee,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No scheduled shifts for today"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Employee"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned Shift"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Hrs Assigned"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Check-In"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Check-Out"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Hrs Worked"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Break Time"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Overtime Hours"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(C=>{var $,ee,H,he;const V=()=>{var Kn,Cn;if(!((Kn=C.schedule)!=null&&Kn.start_time)||!((Cn=C.schedule)!=null&&Cn.end_time))return"-";const[Le,Lt]=C.schedule.start_time.split(":").map(Number),[Pr,yt]=C.schedule.end_time.split(":").map(Number),Sn=Le+Lt/60,Bt=Pr+yt/60;return(Bt>Sn?Bt-Sn:24-Sn+Bt).toFixed(2)};return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[($=C.employee)==null?void 0:$.first_name," ",(ee=C.employee)==null?void 0:ee.last_name]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:((he=(H=C.schedule)==null?void 0:H.role)==null?void 0:he.name)||"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:C.schedule?`${C.schedule.start_time} - ${C.schedule.end_time}`:"-"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:[V()," hrs"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:C.in_time?C.in_time:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:C.out_time?C.out_time:"-"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:[C.worked_hours!==null&&C.worked_hours!==void 0?C.worked_hours.toFixed(2):"-"," hrs"]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[C.break_minutes," min"]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-orange-600",children:[C.overtime_hours?C.overtime_hours.toFixed(2):"-"," hrs"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${C.status==="onTime"?"bg-green-100 text-green-800":C.status==="slightlyLate"?"bg-yellow-100 text-yellow-800":C.status==="late"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:C.status||"Scheduled"})})]},C.id)})})]})})]})]})]}),!a&&!d&&r.jsx(G,{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500 text-lg",children:"Select a department from the list to view details"})})]})]}),r.jsxs(He,{isOpen:S,onClose:()=>{h(!1),N(""),A({dept_id:"",name:"",description:""})},title:"Add New Department",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{h(!1),N(""),A({dept_id:"",name:"",description:""})},children:"Cancel"}),r.jsx(B,{onClick:Re,disabled:f||!((pe=_.dept_id)!=null&&pe.trim())||!((We=_.name)!=null&&We.trim()),children:f?"Creating...":"Create Department"})]}),children:[w&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:w})]}),r.jsxs("form",{onSubmit:Re,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department ID"}),r.jsx("input",{type:"text",value:_.dept_id,onChange:C=>A({..._,dept_id:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"e.g., 001, 002, 003",disabled:f}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"3-digit department identifier (e.g., 001)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department Name"}),r.jsx("input",{type:"text",value:_.name,onChange:C=>A({..._,name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"e.g., Engineering, Sales, HR",disabled:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),r.jsx("textarea",{value:_.description,onChange:C=>A({..._,description:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Enter department description...",rows:"3",disabled:f})]})]})]})]})})},zj=({user:e,onLogout:t})=>r.jsxs("div",{className:"flex h-screen bg-gray-100",children:[r.jsx(Ld,{user:e,onLogout:t}),r.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsxs(_l,{children:[r.jsx(be,{path:"/dashboard",element:r.jsx($j,{})}),r.jsx(be,{path:"/managers",element:r.jsx(Ij,{})}),r.jsx(be,{path:"/departments",element:r.jsx(Uj,{})}),r.jsx(be,{path:"/",element:r.jsx(Es,{to:"/dashboard",replace:!0})})]})})})]});function Wj(){const[e,t]=y.useState(null),[n,s]=y.useState(!0);y.useEffect(()=>{const i=localStorage.getItem("token"),o=localStorage.getItem("user");i&&o&&t(JSON.parse(o)),s(!1)},[]);const a=(i,o)=>{localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(i)),t(i)},l=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t(null)};return n?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"text-xl",children:"Loading..."})}):r.jsx(i0,{children:r.jsxs(_l,{children:[r.jsx(be,{path:"/login",element:e?r.jsx(Es,{to:"/"}):r.jsx(Pv,{onLogin:a})}),r.jsx(be,{path:"/*",element:e?e.user_type==="admin"?r.jsx(zj,{user:e,onLogout:l}):e.user_type==="manager"?r.jsx(Fj,{user:e,onLogout:l}):r.jsx(Sj,{user:e,onLogout:l}):r.jsx(Es,{to:"/login"})})]})})}gi.createRoot(document.getElementById("root")).render(r.jsx(Eo.StrictMode,{children:r.jsx(Wj,{})}));
